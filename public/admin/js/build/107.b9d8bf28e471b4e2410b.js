(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{RA9Q:function(t,e,a){"use strict";(function(t){var a={pkg_id:"",pkg_name:""},s={pkg_name:""};e.a={data:function(){return{adminsData:a,baseUrl:baseUrl,selectedPage:!1,records:[],configurations:[],search:"",addFrom:!1,searchData:s,pagination:[],clicked:0,recordId:"",confirmText:"",loading:!1,modelId:"ConfirmModel",cardType:0,checkBoxValue:0}},computed:{isComplete:function(){return this.adminsData.pkg_name}},methods:{currentPage:function(t){this.pageRecords(t)},onSwitchStatus:function(e,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.$serializeData({status:e.target.checked});1==s&&1==e.target.checked?(this.checkBoxValue=e.target.checked,this.cardType=s,0==e.target.checked&&(this.confirmText=this.$t("LBL_PAYMENTMETHOD_INACTIVATE_TEXT")),1==e.target.checked&&(this.confirmText=this.$t("LBL_PAYMENTMETHOD_ACTIVATE_TEXT")),this.recordId=a,this.$bvModal.show(this.modelId)):this.$http.post(adminBaseUrl+"/payment-methods/status/"+a,i).then((function(e){t.success(e.data.message,"",t.options)}))},confirm:function(){var e=this,a=this.$serializeData({status:this.checkBoxValue,cardType:this.cardType});this.$http.post(adminBaseUrl+"/payment-methods/status/"+this.recordId,a).then((function(a){e.cardType=0,e.checkBoxValue=0,e.$bvModal.hide(e.modelId),e.pageRecords(),t.success(a.data.message,"",t.options)}))},searchRecords:function(){this.pageRecords(this.pagination.current_page)},pageRecords:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=a;var s=this.$serializeData(this.searchData);void 0!==this.pagination.per_page&&s.append("per_page",this.pagination.per_page),this.$http.post(adminBaseUrl+"/payment-methods/list?page="+t,s).then((function(t){e.records=t.data.data.data,e.pagination=t.data.data,e.loading=!1}))},addPaymenyGateways:function(t){var e=this;Object.keys(t).forEach((function(a){e.configurations.push({name:t[a].pconf_key,value:t[a].pconf_value,key:t[a].pconf_key})}))},editRecord:function(t){this.emptyFormValues(),this.adminsData.pkg_id=t.pkg_id,this.adminsData.pkg_name=t.pkg_name,this.addPaymenyGateways(t.configurations),this.selectedPage="editform"},emptyFormValues:function(){this.adminsData={pkg_id:"",pkg_name:""},this.configurations=[],this.errors.clear()},validateRecord:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){t.clicked=1;t.adminsData;t.updateRecord(t.adminsData)}else t.clicked=0}))},updateRecord:function(e){var a=this,s=this.$serializeData(e);s.append("configurations",JSON.stringify(this.configurations)),s.append("_method","PUT"),this.$http.post(adminBaseUrl+"/payment-methods/"+e.pkg_id,s).then((function(e){0!=e.data.status?(t.success(e.data.message,"",t.options),a.pageRecords(a.pagination.current_page),a.cancel(),a.clicked=0,a.emptyFormValues()):t.error(e.data.message,"",t.options)}),(function(t){a.clicked=0,a.validateErrors(t)}))},validateErrors:function(t){var e=this,a=t.data;Object.keys(a.errors).forEach((function(t){e.errors.add({field:t,msg:a.errors[t][0]})}))},cancel:function(){this.selectedPage=!1},switchEnvironment:function(e,a){var s=this.$serializeData({pkg_environment:e.target.checked});this.$http.post(adminBaseUrl+"/payment-methods/status/"+a,s).then((function(e){t.success(e.data.message,"",t.options)}))}},mounted:function(){this.searchData={search:""},this.pageRecords(1,!0)}}}).call(this,a("hUol"))},UXeN:function(t,e,a){"use strict";a.r(e);var s=a("RA9Q").a,i=a("KHd+"),n=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"subheader",attrs:{id:"subheader"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"subheader__main"},[e("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_PAYMENT_METHODS")))])])])]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"portlet portlet--height-fluid"},[e("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"input-icon input-icon--left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.search,expression:"searchData.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_SEARCH"),id:"generalSearch"},domProps:{value:t.searchData.search},on:{keyup:t.searchRecords,input:function(e){e.target.composing||t.$set(t.searchData,"search",e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),""!=t.searchData.search?e("span",{staticClass:"input-icon__icon input-icon__icon--right",on:{click:function(e){t.searchData.search="",t.pageRecords(1)}}},[t._m(1)]):t._e()])])]),t._v(" "),e("hr",{staticClass:"m-0"}),t._v(" "),t.records.length>0?e("div",{staticClass:"portlet__body portlet__body--fit"},[e("div",{staticClass:"section"},[e("div",{staticClass:"section__content"},[e("table",{staticClass:"table table-data table-justified"},[e("thead",[e("tr",[e("th",[t._v(t._s("#"))]),t._v(" "),e("th",[t._v(t._s(t.$t("LBL_PAYMENTMETHOD_NAME")))]),t._v(" "),e("th",[t._v(t._s(t.$t("LBL_PUBLISH")))]),t._v(" "),e("th",[t._v(t._s(t.$t("LBL_ENVIRONMENT")))]),t._v(" "),e("th")])]),t._v(" "),e("tbody",t._l(t.records,(function(a,s){return e("tr",{key:s},[e("td",{attrs:{scope:"row"}},[t._v(t._s(t.pagination.from+s))]),t._v(" "),e("td",[t._v(t._s(a.pkg_name))]),t._v(" "),e("td",[e("label",{staticClass:"switch switch--sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.pkg_publish,expression:"record.pkg_publish"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.pkg_publish)?t._i(a.pkg_publish,null)>-1:a.pkg_publish},on:{change:[function(e){var s=a.pkg_publish,i=e.target,n=!!i.checked;if(Array.isArray(s)){var r=t._i(s,null);i.checked?r<0&&t.$set(a,"pkg_publish",s.concat([null])):r>-1&&t.$set(a,"pkg_publish",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(a,"pkg_publish",n)},function(e){return t.onSwitchStatus(e,a.pkg_id,a.pkg_card_type)}]}}),t._v(" "),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==a.pkg_publish?t.$t("TTL_UNPUBLISH"):t.$t("TTL_PUBLISH")}})])]),t._v(" "),e("td",[e("label",{staticClass:"switch switch--sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.pkg_environment,expression:"record.pkg_environment"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.pkg_environment)?t._i(a.pkg_environment,null)>-1:a.pkg_environment},on:{change:[function(e){var s=a.pkg_environment,i=e.target,n=!!i.checked;if(Array.isArray(s)){var r=t._i(s,null);i.checked?r<0&&t.$set(a,"pkg_environment",s.concat([null])):r>-1&&t.$set(a,"pkg_environment",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(a,"pkg_environment",n)},function(e){return t.switchEnvironment(e,a.pkg_id,a.pkg_environment)}]}}),t._v(" "),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==a.pkg_environment?t.$t("TTL_SANDBOX"):t.$t("TTL_PRODUCTION")}})])]),t._v(" "),e("td",[e("div",{staticClass:"actions"},[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",attrs:{href:"javascript:;",title:t.$t("TTL_EDIT")},on:{click:function(e){return e.preventDefault(),t.editRecord(a)}}},[e("svg",[e("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#system-settings"}})])])])])])})),0)])])])]):t._e(),t._v(" "),t.loading?e("loader"):t._e(),t._v(" "),0==t.loading&&0==t.records.length?e("noRecordsFound"):t._e(),t._v(" "),t.records.length>0?e("div",{staticClass:"portlet__foot"},[e("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e()],1)]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"portlet portlet--height-fluid"},[t.selectedPage?e("div",{staticClass:"portlet__head"},[e("div",{staticClass:"portlet__head-label"},["editform"==t.selectedPage?e("h3",{staticClass:"portlet__head-title"},[t._v(t._s(t.$t("LBL_SETTING"))+" - "+t._s(t.adminsData.pkg_name))]):t._e()])]):t._e(),t._v(" "),t.selectedPage?e("div",{staticClass:"portlet__body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v(t._s(t.$t("LBL_PAYMENTMETHOD_NAME"))+" "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.pkg_name,expression:"adminsData.pkg_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"pkg_name","data-vv-as":t.$t("LBL_PAYMENTMETHOD_NAME"),"data-vv-validate-on":"none"},domProps:{value:t.adminsData.pkg_name},on:{input:function(e){e.target.composing||t.$set(t.adminsData,"pkg_name",e.target.value)}}}),t._v(" "),t.errors.first("pkg_name")?e("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("pkg_name")))]):t._e()])])]),t._v(" "),t._l(t.configurations,(function(a,s){return e("div",{key:"config"+s,staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v(t._s(a.name.replace("_"," "))+" ")]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"configuration.value"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:a.key,"data-vv-as":t.$t(a.name.replace("_"," ")),"data-vv-validate-on":"none"},domProps:{value:a.value},on:{input:function(e){e.target.composing||t.$set(a,"value",e.target.value)}}}),t._v(" "),t.errors.first(a.key)?e("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first(a.key)))]):t._e()])])])}))],2):t._e(),t._v(" "),""==t.selectedPage?e("div",{staticClass:"portlet__body"},[e("div",{staticClass:"no-data-found"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:this.$noDataImage(),alt:""}})]),t._v(" "),e("div",{staticClass:"data"},[e("p",[t._v(" "+t._s(t.$t("LBL_USE_ICONS_FOR_ADVANCED_ACTIONS")))])])])]):t._e(),t._v(" "),""!=t.selectedPage?e("div",{staticClass:"portlet__foot"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"},on:{click:function(e){return t.cancel()}}},[t._v(t._s(t.$t("BTN_DISCARD")))])]),t._v(" "),e("div",{staticClass:"col-auto"},["editform"==t.selectedPage?e("button",{staticClass:"btn btn-brand gb-btn gb-btn-primary",class:1==t.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!t.isComplete||1==t.clicked},on:{click:function(e){return t.validateRecord()}}},[t._v(t._s(t.$t("BTN_PAYMENTMETHOD_UPDATE")))]):t._e()])])]):t._e()])]),t._v(" "),e("ConfirmModel",{attrs:{confirmPopText:t.confirmText,recordId:t.recordId},on:{confirm:function(e){return t.confirm(t.recordId)}}})],1)])])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])},function(){var t=this._self._c;return t("span",[t("i",{staticClass:"fas fa-times"})])}],!1,null,null,null);e.default=n.exports}}]);