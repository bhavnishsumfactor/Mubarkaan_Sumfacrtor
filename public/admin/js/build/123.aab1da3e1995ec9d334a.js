(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{"0Y03":function(t,e,a){"use strict";a.r(e);var s=a("KN6N").a,i=a("KHd+"),n=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"subheader",attrs:{id:"subheader"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"subheader__main"},[e("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_TESTIMONIALS")))]),t._v(" "),e("div",{staticClass:"subheader__breadcrumbs"},[e("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[e("i",{staticClass:"flaticon2-shelter"})]),t._v(" "),e("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),e("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_CMS")))]),t._v(" "),e("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),e("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_TESTIMONIALS")))])],1)]),t._v(" "),e("div",{staticClass:"subheader__toolbar"},[e("a",{staticClass:"btn btn-white",class:[t.$canWrite("TESTIMONIALS")?"":"disabledbutton no-drop"],attrs:{href:"javascript:void(0);"},on:{click:t.openAddPage}},[e("i",{staticClass:"fas fa-plus"}),t._v("\n          "+t._s(t.$t("BTN_ADD"))+"\n        ")])])])]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{class:[1==t.showEmpty?"col-md-12":"col-md-8"]},[e("div",{staticClass:"portlet portlet--height-fluid"},[0==t.showEmpty?e("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"input-icon input-icon--left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.search,expression:"searchData.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_SEARCH"),id:"generalSearch",readonly:0==t.records.length&&""===t.searchData.search},domProps:{value:t.searchData.search},on:{keyup:t.searchRecords,input:function(e){e.target.composing||t.$set(t.searchData,"search",e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),""!=t.searchData.search?e("span",{staticClass:"input-icon__icon input-icon__icon--right",on:{click:function(e){t.searchData.search="",t.selectedPage=!1,t.pageRecords(1)}}},[t._m(1)]):t._e()])])]):t._e(),t._v(" "),e("hr",{staticClass:"m-0"}),t._v(" "),0==t.showEmpty&&1==t.pageLoaded?e("div",{staticClass:"portlet__body portlet__body--fit"},[e("div",{staticClass:"section"},[e("div",{staticClass:"section__content"},[e("table",{staticClass:"table table-data table-justified"},[e("thead",[e("tr",[e("th",{attrs:{width:"5%"}},[t._v(t._s("#"))]),t._v(" "),e("th",{attrs:{width:"50%"}},[t._v(t._s(t.$t("LBL_TESTIMONIAL_TITLE")))]),t._v(" "),e("th",{attrs:{width:"20%"}},[t._v("\n                        "+t._s(t.$t("LBL_TESTIMONIAL_ENDORSER"))+"\n                      ")]),t._v(" "),e("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("LBL_PUBLISH")))]),t._v(" "),e("th",{attrs:{width:"15%"}})])]),t._v(" "),0==t.loading&&0==t.records.length&&""!=t.searchData.search&&0==t.showEmpty&&1==t.pageLoaded?e("tbody",[e("tr",[e("td",{attrs:{colspan:"5"}},[e("noRecordsFound")],1)])]):e("tbody",t._l(t.records,(function(a,s){return e("tr",{key:s},[e("td",{attrs:{scope:"row"}},[t._v(t._s(t.pagination.from+s))]),t._v(" "),e("td",[t.$canWrite("TESTIMONIALS")?e("div",[t._v(t._s(a.testimonial_title))]):e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return e.preventDefault(),t.editRecord(a)}}},[t._v(t._s(a.testimonial_title))])]),t._v(" "),e("td",[t._v(t._s(a.testimonial_user_name))]),t._v(" "),e("td",[e("label",{staticClass:"switch switch--sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.testimonial_publish,expression:"record.testimonial_publish"}],attrs:{type:"checkbox",name:"testimonial_publish",disabled:!t.$canWrite("TESTIMONIALS")},domProps:{checked:Array.isArray(a.testimonial_publish)?t._i(a.testimonial_publish,null)>-1:a.testimonial_publish},on:{change:[function(e){var s=a.testimonial_publish,i=e.target,n=!!i.checked;if(Array.isArray(s)){var r=t._i(s,null);i.checked?r<0&&t.$set(a,"testimonial_publish",s.concat([null])):r>-1&&t.$set(a,"testimonial_publish",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(a,"testimonial_publish",n)},function(e){return t.onSwitchStatus(e,a.testimonial_id)}]}}),t._v(" "),e("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==a.testimonial_publish?t.$t("TTL_UNPUBLISH"):t.$t("TTL_PUBLISH")}})])]),t._v(" "),e("td",[e("div",{staticClass:"actions"},[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("TESTIMONIALS")?"":"disabled no-drop"],attrs:{href:"javascript:;",title:t.$t("TTL_EDIT")},on:{click:function(e){return e.preventDefault(),t.editRecord(a)}}},[e("svg",[e("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#edit-icon"}})])]),t._v(" "),e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("TESTIMONIALS")?"":"disabled no-drop"],attrs:{href:"javascript:;",title:t.$t("TTL_DELETE")},on:{"!click":function(e){return t.confirmDelete(e,a.testimonial_id)}}},[e("svg",[e("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#delete-icon"}})])])])])])})),0)])])])]):t._e(),t._v(" "),1==t.showEmpty&&1==t.pageLoaded?e("div",{staticClass:"portlet__body"},[e("div",{staticClass:"get-started"},[e("div",{staticClass:"get-started-arrow d-flex justify-content-end mb-5"},[e("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-arrow-head.svg"}})]),t._v(" "),e("div",{staticClass:"no-content d-flex text-center flex-column mb-7"},[e("p",[t._v("\n                  "+t._s(t.$t("LBL_CLICK_THE"))+"\n                  "),e("a",{staticClass:"btn btn-brand btn-small",attrs:{href:"javascript:;"},on:{click:t.openAddPage}},[e("i",{staticClass:"fas fa-plus"}),t._v(" "+t._s(t.$t("BTN_ADD"))+"\n                  ")]),t._v("\n                  "+t._s(t.$t("LBL_BUTTON_TO_CREATE_TESTIMONIALS"))+"\n                ")])]),t._v(" "),e("div",{staticClass:"get-started-media"},[e("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-testimonials.svg"}})])])]):t._e(),t._v(" "),t.loading?e("loader"):t._e(),t._v(" "),t.records.length>0?e("div",{staticClass:"portlet__foot"},[e("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e()],1)]),t._v(" "),0==t.showEmpty?e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"portlet portlet--height-fluid"},[t.selectedPage?e("div",{staticClass:"portlet__head"},[e("div",{staticClass:"portlet__head-label"},["editform"==t.selectedPage?e("h3",{staticClass:"portlet__head-title"},[t._v("\n                "+t._s(t.$canWrite("TESTIMONIALS")?t.$t("LBL_EDITING")+" -":"")+"\n                "),e("span",{staticClass:"editing-txt"},[t._v(t._s(t.editText))])]):t._e(),t._v(" "),"addform"==t.selectedPage?e("h3",{staticClass:"portlet__head-title"},[t._v("\n                "+t._s(t.$t("LBL_NEW_TESTIMONIAL_SETUP"))+"\n              ")]):t._e()]),t._v(" "),"editform"==t.selectedPage?e("div",{staticClass:"portlet__head-toolbar"},[t._m(2),t._v(" "),e("b-popover",{staticClass:"popover-cover",attrs:{target:"tooltip-target-1",triggers:"hover",placement:"top"}},[e("div",{staticClass:"list-stats"},[e("div",{staticClass:"lable"},[e("span",{staticClass:"stats_title"},[t._v(t._s(t.$t("LBL_CREATED"))+":")]),t._v(" "),e("span",{staticClass:"time"},[t._v(t._s(t.createdByUser?t.createdByUser+" |":"")+"\n                      "+t._s(t._f("formatDateTime")(t.createdAt)))])]),t._v(" "),e("div",{staticClass:"lable"},[e("span",{staticClass:"stats_title"},[t._v(t._s(t.$t("LBL_LAST_UPDATED"))+":")]),t._v(" "),e("span",{staticClass:"time"},[t._v(t._s(t.updatedByUser?t.updatedByUser+" |":"")+"\n                      "+t._s(t._f("formatDateTime")(t.updatedAt)))])])])])],1):t._e()]):t._e(),t._v(" "),t.selectedPage?e("div",{staticClass:"portlet__body",class:[t.$canWrite("TESTIMONIALS")?"":"disabledbutton"]},[""!=t.adminsData.testimonial_id?e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.testimonial_id,expression:"adminsData.testimonial_id"}],attrs:{type:"hidden",name:"id"},domProps:{value:t.adminsData.testimonial_id},on:{input:function(e){e.target.composing||t.$set(t.adminsData,"testimonial_id",e.target.value)}}}):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v("\n                    "+t._s(t.$t("LBL_TESTIMONIAL_TITLE"))+"\n                    "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.testimonial_title,expression:"adminsData.testimonial_title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"testimonial_title","data-vv-as":t.$t("LBL_TESTIMONIAL_TITLE"),"data-vv-validate-on":"none"},domProps:{value:t.adminsData.testimonial_title},on:{input:function(e){e.target.composing||t.$set(t.adminsData,"testimonial_title",e.target.value)}}}),t._v(" "),t.errors.first("testimonial_title")?e("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("testimonial_title")))]):t._e()])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v("\n                    "+t._s(t.$t("LBL_TESTIMONIAL_CONTENT"))+"\n                    "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.testimonial_description,expression:"adminsData.testimonial_description"},{name:"validate",rawName:"v-validate",value:"required|max:500",expression:"'required|max:500'"}],staticClass:"form-control",attrs:{rows:"5",cols:"15",name:"testimonial_description","data-vv-as":t.$t("LBL_TESTIMONIAL_CONTENT"),"data-vv-validate-on":"none"},domProps:{value:t.adminsData.testimonial_description},on:{input:function(e){e.target.composing||t.$set(t.adminsData,"testimonial_description",e.target.value)}}}),t._v(" "),t.errors.first("testimonial_description")?e("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("testimonial_description")))]):t._e()])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v("\n                    "+t._s(t.$t("LBL_TESTIMONIAL_ENDORSER_NAME"))+"\n                    "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.testimonial_user_name,expression:"adminsData.testimonial_user_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"testimonial_user_name","data-vv-as":t.$t("LBL_TESTIMONIAL_ENDORSER_NAME"),"data-vv-validate-on":"none"},domProps:{value:t.adminsData.testimonial_user_name},on:{input:function(e){e.target.composing||t.$set(t.adminsData,"testimonial_user_name",e.target.value)}}}),t._v(" "),t.errors.first("testimonial_user_name")?e("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("testimonial_user_name")))]):t._e()])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("LBL_TESTIMONIAL_ENDORSER_DESIGNATION")))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.testimonial_designation,expression:"adminsData.testimonial_designation"}],staticClass:"form-control",attrs:{type:"text",name:"testimonial_designation"},domProps:{value:t.adminsData.testimonial_designation},on:{input:function(e){e.target.composing||t.$set(t.adminsData,"testimonial_designation",e.target.value)}}}),t._v(" "),t.errors.first("testimonial_designation")?e("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("testimonial_designation")))]):t._e()])])]),t._v(" "),e("div",{staticClass:"row align-items-end"},[e("div",{staticClass:"col-md-8"},[e("label",[t._v(t._s(t.$t("LBL_TESTIMONIAL_ENDORSER_IMAGE")))]),t._v(" "),e("div",{staticClass:"dropzone dropzone-default dropzone-brand dz-clickable ratio-1by1",attrs:{"data-ratio":"1:1"},on:{click:function(e){""==t.croppedImageView&&(t.$refs.cropperRef.openCropper(),t.fileUploadClass=!0)},mouseover:function(e){t.fileUploadClass=!0},mouseleave:function(e){t.fileUploadClass=!1}}},[e("div",{staticClass:"upload_cover"},[""!=t.croppedImageView?e("div",{staticClass:"img--container uploded__img"},[e("img",{attrs:{src:t.croppedImageView}}),t._v(" "),e("div",{staticClass:"upload__action"},[""!=t.croppedImageView?e("button",{attrs:{type:"button"},on:{click:function(e){return t.removeImage(e,t.attachedFile)}}},[e("svg",[e("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#delete-icon"}})])]):t._e(),t._v(" "),""!=t.croppedImageView?e("button",{attrs:{type:"button"},on:{click:function(e){return t.$refs.cropperRef.openCropper()}}},[e("svg",[e("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#edit-icon"}})])]):t._e()])]):t._e(),t._v(" "),e("div",{attrs:{clas:"img--container  "}},[e("div",{staticClass:"file-upload",class:{isactive:t.fileUploadClass,fileVisiblity:t.fileVisiblity}},[e("img",{attrs:{src:t.baseUrl+"/admin/images/upload/upload_img.png"}})])]),t._v(" "),""==t.croppedImageView?e("div",{staticClass:"dropzone-msg dz-message needsclick"},[e("h3",{staticClass:"dropzone-msg-title"},[t._v("\n                        "+t._s(t.$t("LBL_CLICK_HERE_TO_UPLOAD"))+"\n                      ")])]):t._e()])]),t._v(" "),e("cropper",{ref:"cropperRef",attrs:{title:t.adminsData.testimonial_title,icon:!1,aspectRatio:1,width:100,height:100},on:{childToParent:t.setImage,actualImageToParent:t.setActualImage}}),t._v(" "),e("img",{staticStyle:{display:"none"},attrs:{src:t.originalImage,id:"originalImage"}})],1),t._v(" "),e("div",{staticClass:"col-md-12"},[e("p",{staticClass:"img-disclaimer py-2"},[e("strong",[t._v(t._s(t.$t("LBL_IMAGE_DISCLAIMER"))+": ")]),t._v("\n                  "+t._s(t.$t("LBL_IMAGE_RESTRICTIONS"))+" 100x100\n                  "+t._s(t.$t("LBL_IN"))+" 1:1 "+t._s(t.$t("LBL_ASPECT_RATIO"))+"\n                ")])])])]):t._e(),t._v(" "),""==t.selectedPage?e("div",{staticClass:"portlet__body"},[e("div",{staticClass:"no-data-found"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:this.$noDataImage(),alt:""}})]),t._v(" "),e("div",{staticClass:"data"},[e("p",[t._v(t._s(t.$t("LBL_USE_ICONS_FOR_ADVANCED_ACTIONS")))])])])]):t._e(),t._v(" "),""!=t.selectedPage?e("div",{staticClass:"portlet__foot"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"},on:{click:function(e){return t.cancel()}}},[t._v("\n                  "+t._s(t.$t("BTN_DISCARD"))+"\n                ")])]),t._v(" "),e("div",{staticClass:"col-auto"},["addform"==t.selectedPage?e("button",{staticClass:"btn btn-brand gb-btn gb-btn-primary",class:1==t.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!t.isComplete||1==t.clicked||!t.$canWrite("TESTIMONIALS")},on:{click:function(e){return t.validateRecord()}}},[t._v("\n                  "+t._s(t.$t("BTN_TESTIMONIAL_CREATE"))+"\n                ")]):t._e(),t._v(" "),"editform"==t.selectedPage?e("button",{staticClass:"btn btn-brand gb-btn gb-btn-primary",class:1==t.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!t.isComplete||1==t.clicked||!t.$canWrite("TESTIMONIALS")},on:{click:function(e){return t.validateRecord()}}},[t._v("\n                  "+t._s(t.$t("BTN_TESTIMONIAL_UPDATE"))+"\n                ")]):t._e()])])]):t._e()])]):t._e(),t._v(" "),e("DeleteModel",{attrs:{deletePopText:t.deleteStatus.message,subText:t.deleteStatus.subMessage,recordId:t.deleteStatus.id},on:{deleted:function(e){return t.deleteRecord(t.recordId)}}})],1)])])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])},function(){var t=this._self._c;return t("span",[t("i",{staticClass:"fas fa-times"})])},function(){var t=this._self._c;return t("div",{staticClass:"portlet__head-actions",attrs:{id:"tooltip-target-1"}},[t("i",{staticClass:"fas fa-info-circle"})])}],!1,null,null,null);e.default=n.exports},KN6N:function(t,e,a){"use strict";(function(t){var a={afile_id:"",testimonial_id:"",testimonial_title:"",testimonial_user_name:"",testimonial_designation:"",testimonial_description:"",testimonial_publish:""},s={search:""};e.a={data:function(){return{adminsData:a,baseUrl:baseUrl,selectedPage:!1,records:[],recordId:"",croppedImage:"",croppedImageView:"",originalImage:"",uploadedFile:"",modelId:"deleteModel",search:"",addFrom:!1,searchData:s,pagination:[],clicked:0,editText:"",loading:!1,createdByUser:"",updatedByUser:"",updatedAt:"",createdAt:"",pageLoaded:0,showEmpty:1,fileUploadClass:!1,fileVisiblity:!1,deleteStatus:{},attachedFile:""}},computed:{isComplete:function(){return this.adminsData.testimonial_title&&this.adminsData.testimonial_user_name&&this.adminsData.testimonial_description}},watch:{$route:"refreshedSearchData"},methods:{refreshedSearchData:function(){this.$route.query.s&&(this.searchData.search=this.$route.query.s),this.pageRecords(1,!0)},setImage:function(t){this.croppedImage=t,this.croppedImageView=URL.createObjectURL(t)},currentPage:function(t){this.pageRecords(t)},setActualImage:function(t){this.fileVisiblity=!0,this.fileUploadClass=!1,"string"!=typeof t?(this.originalImage=URL.createObjectURL(t),this.uploadedFile=t):this.uploadedFile=this.originalImage=t},searchRecords:function(){!1!==this.selectedPage&&(this.selectedPage=!1),this.pageRecords(this.pagination.current_page)},pageRecords:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=a;var s=this.$serializeData(this.searchData);void 0!==this.pagination.per_page&&s.append("per_page",this.pagination.per_page),this.$http.post(adminBaseUrl+"/testimonials/list?page="+t,s).then((function(t){e.records=t.data.data.testimonials.data,e.pagination=t.data.data.testimonials,e.loading=!1,e.showEmpty=t.data.data.showEmpty,e.pageLoaded=1}))},openAddPage:function(){this.emptyFormValues(),this.selectedPage="addform",""!=this.searchData.search&&(this.searchData.search="",this.pageRecords()),this.showEmpty=0,this.emptyImageData()},editRecord:function(t){this.emptyFormValues(),this.emptyImageData(),this.emptyUpdatedFieldValue(),this.adminsData.afile_id=t.afile_id,this.adminsData.testimonial_id=t.testimonial_id,this.adminsData.testimonial_user_name=t.testimonial_user_name,this.adminsData.testimonial_designation=t.testimonial_designation,this.adminsData.testimonial_title=t.testimonial_title,this.adminsData.testimonial_description=t.testimonial_description,this.adminsData.testimonial_publish=t.testimonial_publish,null!=t.created_at&&"admin_username"in t.created_at&&(this.createdByUser=t.created_at.admin_username),null!=t.updated_at&&"admin_username"in t.updated_at&&(this.updatedByUser=t.updated_at.admin_username),this.updatedAt=t.testimonial_updated_at?t.testimonial_updated_at:"",this.createdAt=t.testimonial_created_at?t.testimonial_created_at:"",this.editText=t.testimonial_title,this.croppedImage=this.croppedImageView=this.originalImage=this.uploadedFile="",null!=t.afile_id?(this.fileVisiblity=!0,this.fileUploadClass=!1,this.croppedImage=this.croppedImageView=this.$getFileUrl("testimonialMedia",t.testimonial_id,0,"thumb",this.$timestamp(t.testimonial_updated_at)),this.originalImage=this.$getFileUrl("testimonialMedia",t.testimonial_id,0,"original",this.$timestamp(t.testimonial_updated_at)),this.attachedFile=t.afile_id?t.afile_id:""):this.attachedFile="",this.selectedPage="editform"},emptyFormValues:function(){this.adminsData={afile_id:"",testimonial_id:"",testimonial_title:"",testimonial_user_name:"",testimonial_designation:"",testimonial_description:"",testimonial_publish:""},this.editText=this.uploadedFile=this.croppedImage=this.croppedImageView=this.originalImage="",this.errors.clear()},validateRecord:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){var a=t.adminsData;t.clicked=1,""!=a.testimonial_id?t.updateRecord(t.adminsData):t.saveRecord(a)}else t.clicked=0}))},updateRecord:function(e){var a=this,s=this.$serializeData(e);s.append("actualImage",this.uploadedFile),s.append("cropImage",this.croppedImage),s.append("_method","PUT"),this.$http.post(adminBaseUrl+"/testimonials/"+e.testimonial_id,s).then((function(e){a.clicked=0,0!=e.data.status?(t.success(e.data.message,"",t.options),a.pageRecords(a.pagination.current_page),a.emptyFormValues(),a.cancel()):t.error(e.data.message,"",t.options)}),(function(t){a.clicked=0,a.validateErrors(t)}))},confirmDelete:function(t,e){t.stopPropagation(),this.recordId=e,this.deleteStatus={message:this.$t("LBL_TESTIMONIAL_DELETE_TEXT"),subMessage:"",id:e},this.$bvModal.show(this.modelId)},deleteRecord:function(e){var a=this;""!=this.attachedFile?this.$http.delete(adminBaseUrl+"/remove-attached-files/"+e).then((function(e){0!=e.data.status?(a.emptyImageData(),a.deleteStatus.type=0,a.attachedFile="",t.success(e.data.message,"",t.options),a.pageRecords(a.pagination.current_page)):t.error(e.data.message,"",t.options)})):0==this.deleteStatus.type?this.emptyImageData():this.$http.delete(adminBaseUrl+"/testimonials/"+e).then((function(e){0!=e.data.status?(t.success(e.data.message,"",t.options),a.pageRecords(a.pagination.current_page),a.selectedPage="",a.emptyImageData()):t.error(e.data.message,"",t.options)})),this.$bvModal.hide(this.modelId)},validateErrors:function(t){var e=this,a=t.data;Object.keys(a.errors).forEach((function(t){e.errors.add({field:t,msg:a.errors[t][0]})}))},saveRecord:function(e){var a=this,s=this.$serializeData(e);s.append("actualImage",this.uploadedFile),s.append("cropImage",this.croppedImage),this.$http.post(adminBaseUrl+"/testimonials",s).then((function(e){0!=e.data.status?(t.success(e.data.message,"",t.options),a.pageRecords(a.pagination.current_page),a.emptyFormValues(),a.selectedPage="",a.clicked=0):t.error(e.data.message,"",t.options)}),(function(t){a.clicked=0,a.validateErrors(t)}))},onSwitchStatus:function(e,a){var s=this.$serializeData({status:e.target.checked});this.$http.post(adminBaseUrl+"/testimonials/status/"+a,s).then((function(e){0!=e.data.status?t.success(e.data.message,"",t.options):t.error(e.data.message,"",t.options)}))},cancel:function(){this.selectedPage=!1,0==this.records.length&&(this.showEmpty=1)},emptyUpdatedFieldValue:function(){this.createdByUser="",this.updatedByUser="",this.updatedAt="",this.createdAt=""},emptyImageData:function(){this.croppedImage="",this.croppedImageView="",this.originalImage="",this.uploadedFile="",this.fileUploadClass=!1,this.fileVisiblity=!1},removeImage:function(t,e){t.stopPropagation(),this.deleteStatus.message=this.$t("LBL_DELETE_IMAGE_TEXT"),this.deleteStatus.subMessage="",""!=e?(this.deleteStatus.type=1,this.recordId=this.attachedFile=e):this.deleteStatus.type=0,this.$bvModal.show(this.modelId)}},mounted:function(){this.searchData.search="",this.refreshedSearchData()}}}).call(this,a("hUol"))}}]);