(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{tDUR:function(t,e,a){"use strict";a.r(e);var i=a("P33W"),o=a("GJPm"),s=a("uQ3t"),n=a("TbjC");function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}var d={name:"Copy",components:{sidebar:o.a,TagsCollection:s.a,TagsCollectionForm:n.a,Container:i.Container,Draggable:i.Draggable},data:function(){return{pageId:0,deletedPageId:0,type:"aboutus",modelId:"deleteModel",clickEvent:"",acId:"",pageInfo:"",collectionId:"",collectionType:"",baseUrl:baseUrl,records:[],appRecords:[],dropPlaceholderOptions:{className:"drop-preview",animationDuration:"150",showOnTop:!0}}},watch:{$route:"refreshedListing"},methods:{refreshedListing:function(){this.pageId=this.$route.params.id,this.pageLoadData()},onDrop:function(t,e){this[t]=this.applyDrag(this[t],e)},getChildPayload1:function(t){return this.records[t]},getChildPayload2:function(t){return this.appRecords[t]},applyDrag:function(t,e){var a=e.removedIndex,i=e.addedIndex,o=e.payload;if(null===a&&null===i)return t;o&&null===a&&(this.clickEvent=this.$rndStr(),this.acId=o.ac_id,this.collectionType=o.ac_type,this.$bvModal.show("tagsCollection"));var s=r(t),n=o;return null!==a&&(n=s.splice(a,1)[0]),null!==i&&s.splice(i,0,n),null!==a&&this.updateInternalSorting(e,s),s},editCollection:function(t){this.collectionId=this.appRecords[t].actr_id,this.collectionType=this.appRecords[t].ac_type,this.clickEvent=this.$rndStr(),this.$bvModal.show("tagsCollection")},deleteCollection:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.$serializeData({id:this.appRecords[t].actr_id,type:e});this.$http.post(adminBaseUrl+"/app/delete/collection",a).then((function(t){})),this.$delete(this.appRecords,t)},updateInternalSorting:function(t,e){for(var a=t.removedIndex,i=t.addedIndex,o=(t.payload,Math.max(a,i)),s=[],n=Math.min(a,i);n<=o;n++)e[n].actr_display_order=n+1,s.push({id:e[n].actr_id,order:e[n].actr_display_order});var r=new FormData;r.append("sorting",JSON.stringify(s)),this.$http.post(adminBaseUrl+"/app/collection/sorting-update",r).then((function(t){}))},pageLoadData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.$serializeData({"page-id":this.pageId,"records-type":e});this.$http.post(adminBaseUrl+"/app/recrods",a).then((function(a){0==e&&(t.records=a.data.data.defaultListing),t.appRecords=a.data.data.appListing,t.pageInfo=a.data.data.pageInfo,t.collectionId=0}))},deleteCollRecordById:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=this.$serializeData({img_id:a,record_id:t,type:i});this.$http.post(adminBaseUrl+"/app/delete/record",o).then((function(t){"content-pages"==i&&(e.$bvModal.hide(e.modelId),e.$router.push({name:"mobileHome"}),setTimeout((function(){location.reload()}),300))}))},confirmDelete:function(){this.$bvModal.show(this.modelId)},deleteRecord:function(t){this.deleteCollRecordById(t,0,"content-pages")}},mounted:function(){this.refreshedListing()}},c=a("KHd+"),p=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"subheader",attrs:{id:"subheader"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"subheader__main"},[e("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_MOBILE_APPS")))])]),t._v(" "),e("div",{staticClass:"subheader__toolbar"})])]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"portlet"},[e("div",{staticClass:"portlet__body portlet__body--fit"},[e("div",{staticClass:"app-page"},[e("sidebar",{attrs:{tab:t.type}}),t._v(" "),e("div",{staticClass:"app-main"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"app__collections info__collections"},[e("div",{staticClass:"app__collections-head d-flex justify-content-between"},[e("h3",[t._v(t._s(t.pageInfo.page_title))]),t._v(" "),e("div",{staticClass:"actions"},[e("a",{staticClass:"btn btn-light btn-sm btn-icon",attrs:{href:"javascript:;"},on:{"!click":function(e){return t.confirmDelete()}}},[e("svg",{attrs:{width:"18px",height:"18px"}},[e("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#delete-icon"}})])])])]),t._v(" "),e("div",{staticClass:"app__collections-wrapper scroll-y",staticStyle:{"max-height":"640px"}},[e("container",{attrs:{behaviour:"copy","group-name":"1","get-child-payload":t.getChildPayload1}},t._l(t.records,(function(t,a){return e("draggable",{key:a},[e("tags-collection",{attrs:{type:t.ac_type}})],1)})),1)],1)])]),t._v(" "),e("div",{staticClass:"col-md-7"},[e("div",{staticClass:"device__preview-wrapper"},[e("div",{staticClass:"device__preview"},[e("div",{staticClass:"device__screen"},[e("div",{staticClass:"app__collection app__header mb-0"},[e("div",{staticClass:"app_collection-content"},[e("div",{staticClass:"head__content"},[e("div",{staticClass:"head__content-left"},[e("div",{staticClass:"head__item logo"},[e("img",{attrs:{src:t.baseUrl+"/admin/images/app-home/logo.png"}})])]),t._v(" "),e("div",{staticClass:"head__content-right"},[e("div",{staticClass:"head__item"},[e("img",{attrs:{src:t.baseUrl+"/admin/images/app-home/search.png"}})]),t._v(" "),e("div",{staticClass:"head__item"},[e("img",{attrs:{src:t.baseUrl+"/admin/images/app-home/cart.png"}})])])])])]),t._v(" "),e("div",{staticClass:"scroll-y",staticStyle:{"max-height":"496px","min-height":"496px",padding:"1rem"}},[e("container",{attrs:{"group-name":"1","drag-class":"card-ghost","drop-class":"card-ghost-drop","drop-placeholder":t.dropPlaceholderOptions,"get-child-payload":t.getChildPayload2},on:{drop:function(e){return t.onDrop("appRecords",e)}}},t._l(t.appRecords,(function(a,i){return e("draggable",{key:i},[e("tags-collection",{attrs:{type:a.ac_type,appRecord:a,id:i},on:{deleteCollection:t.deleteCollection,editCollection:t.editCollection}})],1)})),1)],1),t._v(" "),e("div",{staticClass:"app__collection app__navigation mb-0"},[e("div",{staticClass:"image-wrapper"},[e("img",{attrs:{src:t.baseUrl+"/admin/images/app-home/navigation.png"}})])])])])])])])])],1)])])]),t._v(" "),e("tags-collection-form",{attrs:{clickEvent:t.clickEvent,acId:t.acId,pageId:t.pageId,collectionId:t.collectionId,collectionType:t.collectionType},on:{pageLoadData:t.pageLoadData,deleteCollRecordById:t.deleteCollRecordById}}),t._v(" "),e("DeleteModel",{attrs:{recordId:t.pageId,deletePopText:t.$t("LBL_DELETE_BRAND_TEXT")},on:{deleted:function(e){return t.deleteRecord(t.pageId)}}})],1)}),[],!1,null,null,null);e.default=p.exports}}]);