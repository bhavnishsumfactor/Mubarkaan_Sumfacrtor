(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{CuJq:function(t,a,s){"use strict";s.r(a);var e={ureq_id:"",ureq_user_id:"",ureq_type:"",ureq_purpose:"",ureq_created_at:""},i={data:function(){return{records:[],search:"",recordId:"",pagination:[],loading:!1,adminsData:e,activeThemeUrl:activeThemeUrl,pageLoaded:0,showEmpty:1}},methods:{searchRecords:function(){this.pageRecords(this.pagination.current_page)},currentPage:function(t){this.pageRecords(t)},pageRecords:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=s;var e=this.$serializeData({search:this.search});void 0!==this.pagination.per_page&&e.append("per_page",this.pagination.per_page),this.$http.post(adminBaseUrl+"/userRequests/list?page="+t,e).then((function(t){a.records=t.data.data.requests.data,a.pagination=t.data.data.requests,a.loading=!1,a.showEmpty=t.data.data.showEmpty,a.pageLoaded=1}))}},mounted:function(){null!=document.getElementById("id")||this.pageRecords(this.pagination.current_page,!0)}},r=s("KHd+"),n=Object(r.a)(i,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"subheader",attrs:{id:"subheader"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"subheader__main"},[a("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_GDPR_REQUESTS")))]),t._v(" "),a("div",{staticClass:"subheader__breadcrumbs"},[a("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[a("i",{staticClass:"flaticon2-shelter"})]),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_USERS")))]),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_GDPR_REQUESTS")))])],1)])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"portlet portlet--height-fluid"},[a("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-icon input-icon--left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_SEARCH")+"...",id:"generalSearch",readonly:0==t.records.length&&""===t.search},domProps:{value:t.search},on:{keyup:t.searchRecords,input:function(a){a.target.composing||(t.search=a.target.value)}}}),t._v(" "),t._m(0),t._v(" "),""!=t.search?a("span",{staticClass:"input-icon__icon input-icon__icon--right",on:{click:function(a){t.search="",t.pageRecords(1)}}},[t._m(1)]):t._e()])])])])]),t._v(" "),a("hr",{staticClass:"m-0"}),t._v(" "),a("div",{staticClass:"portlet__body portlet__body--fit"},[0==t.loading&&0==t.records.length&&""==t.search&&1==t.showEmpty&&1==t.pageLoaded?a("div",{staticClass:"no-data-found"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.activeThemeUrl+"/media/retina/empty/no-address.svg",width:"125px",height:"125px"}})]),t._v(" "),a("div",{staticClass:"data"},[a("h3",[t._v(t._s(t.$t("LBL_NO_REQUESTS_TO_SHOW")))])])]):a("div",{staticClass:"section"},[a("div",{staticClass:"section__content"},[a("table",{staticClass:"table table-data"},[a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("LBL_USERNAME")))]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.$t("LBL_GDPR_TYPE")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_GDPR_PURPOSE")))]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.$t("LBL_GDPR_DATE")))])])]),t._v(" "),0==t.loading&&0==t.records.length&&""!=t.search&&0==t.showEmpty&&1==t.pageLoaded?a("tbody",[a("tr",[a("td",{attrs:{colspan:"5"}},[a("noRecordsFound")],1)])]):a("tbody",t._l(t.records,(function(s,e){return a("tr",{key:e},[a("td",{attrs:{scope:"row"}},[t._v(t._s(t.pagination.from+e))]),t._v(" "),a("td",[t._v(t._s(s.user_name))]),t._v(" "),1==s.ureq_type?a("td",[t._v(t._s(t.$t("LBL_DATA_REQUEST")))]):t._e(),t._v(" "),2==s.ureq_type?a("td",[t._v(t._s(t.$t("LBL_DELETION_REQUEST")))]):t._e(),t._v(" "),a("td",[t._v(t._s(s.ureq_purpose))]),t._v(" "),a("td",[a("span",{staticClass:"date text-nowrap"},[a("span",{staticClass:"form-text text-muted"},[t._v(t._s(t._f("formatDateTime")(s.ureq_created_at)))])])])])})),0)])])])]),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),t.records.length>0?a("div",{staticClass:"portlet__foot"},[a("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e()],1)])])])])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])},function(){var t=this._self._c;return t("span",[t("i",{staticClass:"fas fa-times"})])}],!1,null,null,null);a.default=n.exports}}]);