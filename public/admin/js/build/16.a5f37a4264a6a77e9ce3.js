(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"0Yv6":function(t,a,e){"use strict";e("aeWZ")},A2m3:function(t,a,e){"use strict";var s=e("wlPy").a,r=(e("0Yv6"),e("KHd+")),i=Object(r.a)(s,(function(){var t=this,a=t._self._c;return 0==t.showEmpty&&1==t.pageLoaded?a("div",[t.blocks&&Object.keys(t.blocks).length>0?a("kanban-board",{attrs:{stages:t.stages,blocks:t.blocks,moves:!1},on:{"update-block":t.updateBlock}},[t._l(t.stages,(function(e,s){return a("div",{key:e,attrs:{slot:e},slot:e},[a("h2",[a("span",[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#"+e,href:t.baseUrl+"/admin/images/retina/sprite.svg#"+e}})])]),t._v(" "),"open"!=t.tabtype?a("span",[t._v(t._s(t._f("removeHyphen")(e)))]):t._e(),t._v(" "),"open"!=t.tabtype||3!=t.productType&&1!=t.productType?t._e():a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:2==t.productType||3==t.productType?t.$t("LBL_PHYSICAL_ORDER_STATUS"):""}},[t._v(t._s(t._f("removeHyphen")(e)))]),t._v(" "),!t.orderDigitalStatus[e]||"open"!=t.tabtype||3!=t.productType&&2!=t.productType?t._e():a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==t.productType||3==t.productType?t.$t("LBL_DIGITAL_ORDER_STATUS"):""}},[1==t.productType||3==t.productType?a("span",[t._v("/")]):t._e(),t._v("\n            "+t._s(t._f("removeHyphen")(t.orderDigitalStatus[e]))+"\n          ")])]),t._v(" "),a("span",{staticClass:"count"},[t._v(t._s(t.total[e]))])])])})),t._v(" "),t._l(t.blocks,(function(e,s){return a("div",{key:e.id,staticClass:"ribbon ribbon--shadow ribbon--left ribbon--round",attrs:{slot:e.id},slot:e.id},[a("div",{staticClass:"order-details"},[a("div",{staticClass:"order-number"},[a("h6",[""!=t.url?a("router-link",{staticClass:"digits",attrs:{to:{name:"orderReturnDetail",params:{id:e.order_id,requestId:e.id}}}},[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:[2==e.orrequest_type?t.$t("TTL_CANCELLATION_REQUEST")+" #":t.$t("TTL_RETURN_REQUEST")+" #"]}},[t._v(t._s(e.id))])]):a("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"digits",attrs:{to:{name:"orderDetail",params:{id:e.order_id}},title:t.$t("TTL_ORDER")+" #"}},[t._v("\n              #"+t._s(e.order_id)+"\n              "),0!=e.order_gift_amount?a("a",{staticClass:"YK-GiftItem gift-item active",attrs:{href:"javascript:;"}},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#gift-icon",href:t.baseUrl+"/admin/images/retina/sprite.svg#gift-icon"}})])]):t._e()])],1),t._v(" "),a("div",{staticClass:"action"},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-icon",attrs:{href:"javascript:;",title:t.$t("TTL_QUICK_ORDER")},on:{click:function(a){return t.orderView(e.order_id)}}},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#vision",href:t.baseUrl+"/admin/images/retina/sprite.svg#vision"}})])])]),t._v(" "),e.total_products!=e.digital_products?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-icon",attrs:{href:"javascript:;",title:t.$t("TTL_PACKING_SLIP")},on:{click:function(a){return t.downloadPackingSlip(e.order_id)}}},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#invoice",href:t.baseUrl+"/admin/images/retina/sprite.svg#invoice"}})])])]):t._e(),t._v(" "),""==t.url?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-icon",class:["cod"==e.order_payment_method&&2!=e.payment_status&&"shipped"==e.status?"":"disabled"],attrs:{href:"javascript:;",title:t.$t("TTL_PAYMENT_LINK")},on:{click:function(a){return t.sendPaymentLink(e)}}},[a("i",{staticClass:"icon__svg"},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#share-icon",href:t.baseUrl+"/admin/images/retina/sprite.svg#share-icon"}})])])]):t._e()])]),t._v(" "),a("ul",[""!=t.url?a("li",{staticClass:"order"},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg",attrs:{width:"16",height:"16"}},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#user-orders",href:t.baseUrl+"/admin/images/retina/sprite.svg#user-orders"}})])]),t._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Order #"}},[t._v(t._s(e.order_id))])]):t._e(),t._v(" "),a("li",{staticClass:"date"},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg",attrs:{width:"16",height:"16"}},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#date",href:t.baseUrl+"/admin/images/retina/sprite.svg#date"}})])]),t._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Order date"}},[t._v(t._s(t._f("formatDate")(e.order_date_added)))])]),t._v(" "),a("li",{staticClass:"total"},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg",attrs:{width:"16",height:"16"}},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#total",href:t.baseUrl+"/admin/images/retina/sprite.svg#total"}})])]),t._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:[""!=t.url?t.$t("TTL_ORDER_AMOUNT"):t.$t("TTL_AMOUNT")]}},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(e.order_net_amount)))])]),t._v(" "),e.op_product_price?a("li",{staticClass:"refundtotal"},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg",attrs:{width:"16",height:"16"}},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#total",href:t.baseUrl+"/admin/images/retina/sprite.svg#total"}})])]),t._v(" "),a("span",[t._v("\n              "+t._s(t.currencySymbol)+"\n              "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:[2==e.orrequest_type?t.$t("TTL_CANCELLATION_AMOUNT"):t.$t("TTL_RETURN_AMOUNT")]},domProps:{innerHTML:t._s(t.calulateRefund(e))}})])]):t._e(),t._v(" "),a("li",{staticClass:"p-status"},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg",attrs:{width:"16",height:"16"}},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#p-status",href:t.baseUrl+"/admin/images/retina/sprite.svg#p-status"}})])]),t._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:t.$t("TTL_PAYMENT_STATUS")}},[t._v(t._s(e.order_payment_status))])]),t._v(" "),a("li",{staticClass:"method"},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg",attrs:{width:"16",height:"16"}},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#method",href:t.baseUrl+"/admin/images/retina/sprite.svg#method"}})])]),t._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{id:"YK-payment_method_"+e.id,"data-id":s,title:t.$t("TTL_PAYMENT_METHOD")}},[t._v(t._s("cod"==e.order_payment_method?"Cash":e.order_payment_method))])])])]),t._v(" "),""==t.url?a("div",{staticClass:"actions"},[1==e.order_shipping_status||2==e.order_shipping_status?a("router-link",{staticClass:"links",attrs:{to:{name:"returnRequest",params:{id:e.order_id}}}},[t._v(t._s(t.$t("LNK_ORDER_CANCEL")))]):t._e(),t._v(" "),"approved"!=e.status&&4!=e.order_status?a("button",{staticClass:"links",attrs:{type:"button"},on:{click:function(a){return t.markAsCompleted(e)}}},[t._v(t._s(t.$t("LNK_ORDER_COMPLETE")))]):t._e()],1):t._e()])})),t._v(" "),t._l(t.stages,(function(e){return a("div",{key:e,attrs:{slot:"footer-".concat(e)},slot:"footer-".concat(e)},[t.total[e]>t.rows[e]?a("div",{staticClass:"text-center mt-3"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",on:{click:function(a){return a.preventDefault(),function(){return t.loadMore(a,e)}.apply(null,arguments)}}},[t._v(t._s(t.$t("BTN_ORDER_LOADMORE")))])]):t._e()])}))],2):t._e(),t._v(" "),t.showUndo?a("div",{staticClass:"toast-bottom-center",attrs:{id:"secondary-toast-container"}},[a("div",{staticClass:"toast toast-info"},[a("div",{staticClass:"toast-message"},[t._v("\n        "+t._s(t.$t("LBL_CLICK"))+"\n        "),a("a",{on:{click:t.undoCompletion}},[t._v(t._s(t.$t("LNK_UNDO")))]),t._v("\n        "+t._s(t.$t("LBL_IF_DONE_BY_MISTAKE"))+"\n      ")])])]):t._e(),t._v(" "),a("shipping-status",{attrs:{statusData:t.statusData,url:t.url,shippingCourier:t.couriers},on:{closePopup:t.closePopup,updateStatus:t.updateStatus}}),t._v(" "),a("cod-payment",{attrs:{statusData:t.statusData,url:t.url,adminsData:t.adminsData,readonly:t.readonly},on:{closePopup:t.closePopup,updateStatus:t.updateStatus}})],1):t._e()}),[],!1,null,null,null);a.a=i.exports},"Atw+":function(t,a,e){"use strict";(function(t,s){var r=e("7EX9"),i=(e("QRy/"),e("A2m3")),o=e("DA+w"),n=e("Z9V8"),d=e("CeuZ"),l=e("lRLS"),c=e("Q516"),p=e("U49p"),u=e("F4kd"),_=e("AOfK");t.use(_),a.a={components:{kanbanView:i.a,products:o.a,DatePicker:r.a,codPayment:d.a,sharePaymentLink:l.a,exportDetails:c.a,pendingRequestModel:p.a,shippingStatus:n.a},data:function(){return{baseUrl:baseUrl,currencySymbol:currencySymbol,orders:[],orderId:"",adminsData:{},pstatus:"",clickEvent:"",type:0,kanbanBlock:1,pickupEnabled:0,statusData:{},orderBlock:{},readonly:!1,status:"",returnstatus:"",shippingStatusPopupId:"shippingStatusPopup",codApprovedModelId:"codApproved",paymentLinkPopupId:"paymentLinkPopup",exportDetailPopupId:"exportDetailPopup",pendingRequestPopupId:"pendingRequestModel",view:"list",orderReturnRequests:[],shippingStatus:[],orderStatus:[],orderReturnStatus:[],pagination:[],orderSearch:{payment_status:[],keywords:[],fulfillment:[],sortby:"order_id",dateRange:""},searchByKeyword:"",updateSearch:"",shareSuccessMessage:"",url:"",loading:!1,pageLoaded:0,showEmpty:1,tabtype:"all",orderDigitalStatus:[],pickupStatus:[],shippingMesagesEnable:0,productType:0,couriers:{},paymentFilters:{2:this.$t("LBL_PAID"),1:this.$t("LBL_PENDING"),cod:this.$t("LBL_CASH")}}},methods:{openExportPopup:function(){this.$bvModal.show(this.exportDetailPopupId)},parseDate:function(t,a){return u.a.parse(t,a)},formatDate:function(t,a){return u.a.format(t,a)},kanbanList:function(t){this.kanbanBlock=t},currentPage:function(t){this.pageRecords(t)},switchPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.pstatus="",this.status="",this.returnstatus="",this.tabtype="open","pstatus"==t?(this.pstatus=a,this.tabtype="unpaid"):"returnstatus"==t?(this.returnstatus=a,this.tabtype=a):"ostatus"==t?(this.status=a,this.tabtype="completed"):"pickup"==t?this.tabtype="pickup":"all"==t&&(this.tabtype="all"),this.clearSearch()},calulateRefund:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=t.op_product_price*t.orrequest_qty,s=t.oramount_tax,r=t.oramount_discount,i=t.oramount_giftwrap_price,o=t.oramount_reward_price,n=t.oramount_shipping,d=parseFloat(e)+parseFloat(s)+parseFloat(n);return 0!=r&&(d-=r),0!=o&&(d-=o),0!=i&&(i>0?d=parseFloat(d)+parseFloat(Math.abs(i)):d-=i),1==a?d.toLocaleString(void 0,{maximumFractionDigits:2}):d},updateOrderStatus:function(t,a,e){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e.order_shipping_status==t&&0==s)return!1;if(0!=e.pending_requests)return this.$bvModal.show(this.pendingRequestPopupId),!1;var r=0;e.total_products==e.digital_products&&(r=1),0!=e.digital_products&&0!=e.return_products_count&&"shipped"==a&&(r=this.validateDigitalRequests(e.order_id));var i=e.order_payment_method;return e.transaction&&0==this.inArray(e.transaction.txn_gateway_type,["cash","card"])&&(i=e.transaction.txn_gateway_type),"delivered"==a&&"cod"==i&&2!=e.payment_status?(this.adminsData.amount=e.order_net_amount,this.adminsData.transaction_id=this.$rndStr(),this.adminsData.payment_method="cash",this.readonly="true",this.statusData={id:e.order_id,status:a,dropdownKey:t,complete:s,digitalOrderType:r},this.$bvModal.show(this.codApprovedModelId),!1):"delivered"==a&&0!=e.digital_products?void this.digitalAdditionalUpload(t,a,e.order_id,r,s,e.digital_products):(this.statusData={id:e.order_id,status:a,dropdownKey:t,complete:s,digitalOrderType:r},0==this.shippingMesagesEnable&&"shipped"!=a||"shipped"==a&&1==r?(this.updateStatus(this.statusData),!1):(this.$bvModal.show(this.shippingStatusPopupId),!1))},validateDigitalRequests:function(t){var a=[];return this.$http.get(adminBaseUrl+"/orders/"+t).then((function(t){var e=t.data.data.order;Object.keys(e.products).forEach((function(t){""!=e.products[t].cancel_request&&null!=e.products[t].cancel_request&&1==e.products[t].op_product_type&&(e.products[t].op_qty-e.products[t].cancel_request.orrequest_qty==0?a.push(!1):a.push(!0))}))})),this.inArray(!0,a)?0:1},digitalAdditionalUpload:function(t,a,e,s,r,i){var o=this,n=this.$serializeData({"order-id":e});this.$http.post(adminBaseUrl+"/orders/digital-additional-upload",n).then((function(n){o.statusData={id:e,digitalCount:i,status:a,dropdownKey:t,complete:r,digitalOrderType:s,uploadInfo:n.data.data},o.$bvModal.show(o.shippingStatusPopupId)}))},closePopup:function(t){this.$bvModal.hide(t),this.$bvModal.hide(this.shippingStatusPopupId),this.$bvModal.hide(this.codApprovedModelId),this.statusData={},this.adminsData={}},markAsCompleted:function(t){var a="delivered";1==t.order_shipping_type&&(a="picked-up"),this.updateOrderStatus(4,a,t,1)},downloadPackingSlip:function(t){window.open(adminBaseUrl+"/orders/download-packing-slip/"+t)},updateReturnStatus:function(t,a,e){var s=this.calulateRefund(t,!1);this.url="return/";var r=t.order_payment_method;return t.transaction&&0==this.inArray(t.transaction.txn_gateway_type,["cash","card"])&&(r=t.transaction.txn_gateway_type),"approved"==a&&"cod"==r&&2==t.payment_status?(this.adminsData.payment_method="Bank Transfer",this.adminsData.amount=s,this.readonly="false",this.statusData={id:t.orrequest_id,status:a,dropdownKey:e,amount:s,complete:0},this.$bvModal.show(this.codApprovedModelId),!1):(this.statusData={id:t.orrequest_id,status:a,dropdownKey:e,amount:s,complete:0},this.$bvModal.show(this.shippingStatusPopupId),!1)},updateStatus:function(t,a){var e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this.$serializeData({status:t.status,complete:t.complete,"transfer-detail":JSON.stringify(r)});a&&(i.append("message",a.message),i.append("tracking_number",a.tracking_number),i.append("courier_name",a.courier_name)),this.$http.post(adminBaseUrl+"/orders/"+this.url+"status/"+t.id,i).then((function(t){s.success(t.data.message,"",s.options),e.emptyFormValues(),e.pageRecords()}))},inArray:function(t,a){for(var e=a.length,s=0;s<e;s++)if(a[s]==t)return!0;return!1},emptyFormValues:function(){this.commentData={message:"",courier_name:"",tracking_number:""},this.$bvModal.hide(this.shippingStatusPopupId),this.$bvModal.hide(this.codApprovedModelId),this.url="",this.statusData={},this.message="",this.url="",this.adminsData={},this.errors.clear()},isRequestPending:function(t,a,e,r){var i=this,o=this.$serializeData({"order-id":e});this.$http.post(adminBaseUrl+"/orders/pending-requests",o).then((function(t){if(0!=t.data.status){if(i.statusData={id:e,status:a,orderId:e,digitalOrderType:r},0==i.shippingMesagesEnable&&"shipped"!=a||"shipped"==a&&1==r)return i.updateStatus(i.statusData),!1;i.$bvModal.show(i.shippingStatusPopupId)}else s.error(t.data.message,"",s.options)}))},sendPaymentLink:function(t){this.shareSuccessMessage="",this.orderBlock=t,this.statusData={id:t.order_id},this.$bvModal.show(this.paymentLinkPopupId)},searchRecords:function(){this.orderSearch=this.orderSearch,this.updateSearch=this.$rndStr(),"list"!=this.view&&"unpaid"!=this.tabtype&&"all"!=this.tabtype&&"completed"!=this.tabtype||this.pageRecords(1)},clearSearch:function(){this.orderSearch={payment_status:[],keywords:[],fulfillment:[],sortby:"order_id",dateRange:""},this.updateSearch=this.$rndStr(),"list"!=this.view&&"all"!=this.tabtype&&"unpaid"!=this.tabtype&&"completed"!=this.tabtype||this.pageRecords(1)},validateSearch:function(){var t=this;this.$validator.validate("searchByKeyword",this.searchByKeyword).then((function(a){a&&(t.orderSearch.keywords.push(t.searchByKeyword),t.searchByKeyword="",t.updateSearch=t.$rndStr(),"list"!=t.view&&"unpaid"!=t.tabtype&&"all"!=t.tabtype&&"completed"!=t.tabtype||t.pageRecords(1))}))},removeKeyword:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"paymentStatus"==a?this.$delete(this.orderSearch.payment_status,t):this.$delete(this.orderSearch.keywords,t),this.updateSearch=this.$rndStr(),"list"!=this.view&&"unpaid"!=this.tabtype&&"all"!=this.tabtype&&"completed"!=this.tabtype||this.pageRecords(1)},pageRecords:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=e;var s=this.$serializeData({"active-tab":this.tabtype,pstatus:this.pstatus,order_status:this.status,return_status:this.returnstatus,search:JSON.stringify(this.orderSearch)});void 0!==this.pagination.per_page&&s.append("per_page",this.pagination.per_page),this.$http.post(adminBaseUrl+"/orders-listing?page="+t,s).then((function(t){a.orders=t.data.data.orders.data,a.pagination=t.data.data.orders,a.shippingStatus=t.data.data.shippingStatus,a.pickupStatus=t.data.data.pickupStatus,a.orderStatus=t.data.data.orderStatus,a.orderReturnStatus=t.data.data.orderReturnStatus,a.orderReturnRequests=t.data.data.orderReturnRequests,a.pickupEnabled=t.data.data.pickupEnabled,a.showEmpty=t.data.data.showEmpty,a.orderDigitalStatus=t.data.data.orderDigitalStatus,a.productType=t.data.data.productType,a.loading=!1,a.shippingMesagesEnable=t.data.data.shippingMesages;var e=t.data.data.shippingCouriers;a.couriers=e.data,a.pageLoaded=1}))},quickViewOrder:function(t){this.clickEvent=this.$rndStr(),this.orderId=t},switchView:function(t){this.$cookie.set("ordersView",t,{expires:"1Y"}),this.view=t,"list"==t&&this.pageRecords(1)},updateListing:function(){"list"!=this.view&&(this.updateSearch="")}},mounted:function(){this.$cookie.get("ordersView")&&(this.view=this.$cookie.get("ordersView")),this.pageRecords(1,!0)}}}).call(this,e("XuX8"),e("hUol"))},CeuZ:function(t,a,e){"use strict";var s={data:function(){return{clicked:0}},props:["statusData","url","adminsData","readonly"],methods:{validatePaymentRecord:function(){var t=this;this.$validator.validateAll().then((function(a){a&&t.$emit("updateStatus",t.statusData,t.commentData,t.adminsData)}))},closePopup:function(){this.$emit("closePopup","codApproved")},methodSelection:function(){this.adminsData.transaction_id=this.$rndStr(),"card"==this.adminsData.payment_method&&(this.adminsData.transaction_id=""),this.$forceUpdate()}}},r=e("KHd+"),i=Object(r.a)(s,(function(){var t=this,a=t._self._c;return a("b-modal",{attrs:{id:"codApproved",centered:"",title:"BootstrapVue","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",{staticClass:"modal-title"},[t.statusData&&1==t.statusData.complete?a("span",[t._v(t._s(t.$t("LBL_CHANGING_STATUS_FOR"))+" "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id)+" "+t._s(t.$t("LBL_TO_COMPLETE")))]):t.statusData&&"payment"==t.statusData.type?a("span",[t._v(t._s(t.$t("LBL_ADDING_PAYMENT_FOR"))+" "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id))]):t.statusData&&"returnApproved"==t.statusData.type?a("span",[t._v(t._s(t.$t("LBL_RETURNING_AMOUNT_FOR"))+" "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id))]):a("span",[t._v(t._s(t.$t("LBL_CHANGING_STATUS_FOR"))+" "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id)+" "+t._s(t.$t("LBL_TO"))+" "+t._s(t._f("removeHyphen")(t.statusData.status)))])]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.closePopup("codApproved")}}})]},proxy:!0},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-brand",attrs:{type:"button"},on:{click:t.validatePaymentRecord}},[t._v(t._s(t.$t("BTN_COD_APPROVED_SAVE")))])]},proxy:!0}])},[t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group",class:["approved"==t.statusData.status?"disabledbutton":""]},[a("label",[t._v(t._s(t.$t("LBL_PAYMENT_METHOD")))]),t._v(" "),"delivered"==t.statusData.status?a("select",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.payment_method,expression:"adminsData.payment_method"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"prod_type","data-vv-as":t.$t("LBL_PAYMENT_METHOD"),"data-vv-validate-on":"none"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.adminsData,"payment_method",a.target.multiple?e:e[0])},function(a){return t.methodSelection()}]}},[a("option",{attrs:{value:"cash"}},[t._v(t._s(t.$t("LBL_CASH")))]),t._v(" "),a("option",{attrs:{value:"card"}},[t._v(t._s(t.$t("LBL_CARD")))])]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.payment_method,expression:"adminsData.payment_method"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"payment_method",readonly:"","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_PAYMENT_METHOD")},domProps:{value:t.adminsData.payment_method},on:{input:function(a){a.target.composing||t.$set(t.adminsData,"payment_method",a.target.value)}}}),t._v(" "),t.errors.first("payment_method")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("payment_method")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_TRANSACTION")+" #"))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.transaction_id,expression:"adminsData.transaction_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"transaction_id","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_TRANSACTION")+" #"},domProps:{value:t.adminsData.transaction_id},on:{input:function(a){a.target.composing||t.$set(t.adminsData,"transaction_id",a.target.value)}}}),t._v(" "),t.errors.first("transaction_id")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("transaction_id")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-lg-4",class:["true"==t.readonly?"disabledbutton":""]},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_AMOUNT")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.amount,expression:"adminsData.amount"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"number",name:"amount",min:0,"data-vv-validate-on":"none",readonly:t.readonly},domProps:{value:t.adminsData.amount},on:{input:function(a){a.target.composing||t.$set(t.adminsData,"amount",a.target.value)}}}),t._v(" "),t.errors.first("amount")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("amount")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_COMMENTS")))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.payment_comment,expression:"adminsData.payment_comment"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"payment_comment","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_COMMENTS")},domProps:{value:t.adminsData.payment_comment},on:{input:function(a){a.target.composing||t.$set(t.adminsData,"payment_comment",a.target.value)}}}),t._v(" "),t.errors.first("payment_comment")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("payment_comment")))]):t._e()])])])])}),[],!1,null,null,null);a.a=i.exports},"DA+w":function(t,a,e){"use strict";var s={props:["orderId","clickEvent"],data:function(){return{currencySymbol:currencySymbol,orders:[],shipping:0,rewardAmount:0,userName:"",comment:"",tax:0,subTotal:0,giftprice:0,discount:0}},watch:{clickEvent:function(t,a){this.quickViewOrder()}},methods:{quickViewOrder:function(){var t=this;this.$http.get(adminBaseUrl+"/orders/"+this.orderId).then((function(a){t.$bvModal.show("quickViewModel");var e=a.data.data.order;t.orders=e,e.order_tax_charged&&(t.tax=e.order_tax_charged),e.order_shipping_value&&(t.shipping=e.order_shipping_value),e.order_discount_amount&&(t.discount=e.order_discount_amount),e.order_gift_amount&&(t.giftprice=e.order_gift_amount),e.order_reward_amount&&(t.rewardAmount=e.order_reward_amount),t.subTotal=parseFloat(e.order_net_amount-t.tax-t.shipping-t.giftprice)+parseFloat(t.rewardAmount)+parseFloat(t.discount)}))}},mounted:function(){}},r=e("KHd+"),i=Object(r.a)(s,(function(){var t=this,a=t._self._c;return a("b-modal",{attrs:{id:"quickViewModel",size:"lg",centered:"",title:"BootstrapVue"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(t._s(t.$t("LBL_ORDER")+" #"+t.orders.order_id))]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.$bvModal.hide("quickViewModel")}}})]},proxy:!0},{key:"modal-footer",fn:function(e){var s=e.cancel;return[a("button",{staticClass:"btn btn-brand",attrs:{type:"button"},on:{click:function(t){return s()}}},[t._v(t._s(t.$t("BTN_CLOSE")))])]}}])},[t._v(" "),void 0!==t.orders.order_id?a("div",{staticClass:"ribbon ribbon--dark ribbon--shadow ribbon--left ribbon--round"},[a("div",{staticClass:"ribbon__target",staticStyle:{top:"0px",right:"-17px"}},[t._v(t._s(t.orders.order_payment_status)+" Via "+t._s(t.orders.order_payment_method))]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_CUSTOMER"))+":")]),t._v("\n          "+t._s(t.orders.username)+"\n        ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_DATE"))+":")]),t._v("\n          "+t._s(t._f("formatDateTime")(t.orders.order_date_added))+"\n        ")])])]),t._v(" "),a("hr"),t._v(" "),a("perfect-scrollbar",{style:"max-height:400px"},[a("table",{staticClass:"table table-justified"},[a("thead",[a("tr",[a("th",[t._v(t._s("#"))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_IMAGE")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_ITEM")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_QTY")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_RATE")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_TOTAL")))])])]),t._v(" "),a("tbody",t._l(t.orders.products,(function(e,s){return a("tr",{key:s},[a("td",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[a("img",{staticClass:"pro-img",attrs:{src:t.$productImage(e.op_product_id,e.op_pov_code,e.images?t.$timestamp(e.images.afile_updated_at):"","30-40"),width:"30"}})]),t._v(" "),a("td",[t._v("\n              "+t._s(e.op_product_name)+"\n              "),e.op_product_variants?a("p",{staticClass:"options"},[JSON.parse(e.op_product_variants).styles?a("span",[t._v(t._s(Object.values(JSON.parse(e.op_product_variants).styles).join(" | ")))]):t._e()]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.op_qty))]),t._v(" "),a("td",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(e.op_product_price)))]),t._v(" "),a("td",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(e.op_product_price*e.op_qty)))])])})),0)])]),t._v(" "),a("hr",{staticClass:"m-0"}),t._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col"}),t._v(" "),a("div",{staticClass:"col"},[a("table",{staticClass:"table table-justified"},[a("tfoot",[a("tr",[a("td",{staticStyle:{"border-top":"0"}},[t._v(t._s(t.$t("LBL_SUBTOTAL"))+":")]),t._v(" "),a("td",{staticStyle:{"border-top":"0"}},[a("strong",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.subTotal)))])])]),t._v(" "),a("tr"),t._v(" "),a("tr",[a("td",[t._v(t._s(t.$t("LBL_TAX"))+":")]),t._v(" "),a("td",[a("strong",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.tax)))])])]),t._v(" "),1!=t.orders.order_shipping_type&&t.orders.digital_products!=t.orders.products.length?a("tr",[a("td",[t._v(t._s(t.$t("LBL_SHIPPING"))+":")]),t._v(" "),a("td",[a("strong",[a("span",{staticClass:"ml-auto"},[0==t.shipping?a("span",[t._v("Free")]):a("span",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.shipping)))])])])])]):t._e(),t._v(" "),0!=t.giftprice?a("tr",[a("td",[t._v(t._s(t.$t("Gift Wrap Amount:")))]),t._v(" "),a("td",[a("strong",[a("span",{staticClass:"ml-auto"},[0==t.giftprice?a("span",[t._v(t._s(t.$t("LBL_FREE")))]):a("span",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.giftprice)))])])])])]):t._e(),t._v(" "),0!=t.discount?a("tr",[a("td",[t._v("Discount "+t._s(t.orders.order_discount_coupon_code))]),t._v(" "),a("td",[t._v("- "+t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.discount)))])]):t._e(),t._v(" "),0!=t.rewardAmount?a("tr",[a("td",[t._v(t._s(t.$t("LBL_REWARD_POINTS_AMOUNT"))+":")]),t._v(" "),a("td",[a("strong",[t._v("- "+t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.rewardAmount)))])])]):t._e(),t._v(" "),a("tr",[a("td",[t._v(t._s(t.$t("LBL_TOTAL"))+":")]),t._v(" "),a("td",[a("strong",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.orders.order_net_amount)))])])])])])])])],1):t._e()])}),[],!1,null,null,null);a.a=i.exports},FvxY:function(t,a,e){"use strict";e.r(a);var s=e("Atw+").a,r=e("KHd+"),i=Object(r.a)(s,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"subheader",attrs:{id:"subheader"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"subheader__main"},[a("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_ORDERS")))])]),t._v(" "),a("div",{staticClass:"subheader__toolbar"},[a("div",{staticClass:"subheader__wrapper"},[a("router-link",{staticClass:"btn btn-white subheader__btn-options",class:[t.$canWrite("ADD_ORDERS")?"":"disabledbutton"],attrs:{to:{name:"addOrder"}}},[a("i",{staticClass:"fas fa-plus"}),t._v("\n            "+t._s(t.$t("BTN_ADD"))+"\n          ")]),t._v(" "),a("a",{staticClass:"btn btn-subheader",class:[t.$canWrite("ADD_ORDERS")&&0!=t.orders.length?"":"disabledbutton"],attrs:{href:"javascript:void(0);"},on:{click:t.openExportPopup}},[a("i",{staticClass:"fas fa-cloud-download-alt"}),t._v("\n            "+t._s(t.$t("BTN_EXPORT"))+"\n          ")])],1)])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"portlet portlet--height-fluid portlet--tabs"},[1==t.returnstatus||2==t.returnstatus||0==t.showEmpty?a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-toolbar"},[a("ul",{staticClass:"nav nav-tabs nav-tabs-line nav-tabs-line-danger nav-tabs-line-2x nav-tabs-line-right nav-tabs-bold",attrs:{role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:["all"===t.tabtype?"active":""],attrs:{"data-toggle":"tab",href:"javascript:;",role:"tab","aria-selected":"true"},on:{click:function(a){return t.switchPage("all")}}},[t._v("All")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:["open"===t.tabtype?"active":""],attrs:{"data-toggle":"tab",href:"javascript:;",role:"tab","aria-selected":"true"},on:{click:function(a){return t.switchPage("")}}},[t._v(t._s(t.$t("LNK_SHIP")))])]),t._v(" "),1==t.pickupEnabled||"pickup"==t.tabtype?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:["pickup"===t.tabtype?"active":""],attrs:{"data-toggle":"tab",href:"javascript:;",role:"tab","aria-selected":"true"},on:{click:function(a){return t.switchPage("pickup")}}},[t._v(t._s(t.$t("LNK_PICKUP")))])]):t._e(),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:["unpaid"===t.tabtype?"active":""],attrs:{"data-toggle":"tab",href:"javascript:;",role:"tab","aria-selected":"false"},on:{click:function(a){return t.switchPage("pstatus","PENDING")}}},[t._v(t._s(t.$t("LNK_UNPAID")))])]),t._v(" "),t._l(t.orderReturnStatus,(function(e,s){return a("li",{key:s,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:[t.tabtype===s?"active":""],attrs:{"data-toggle":"tab",href:"javascript:;",role:"tab","aria-selected":"false"},on:{click:function(a){return t.switchPage("returnstatus",s)}}},[t._v(t._s(e))])])})),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:["completed"===t.tabtype?"active":""],attrs:{"data-toggle":"tab",href:"javascript:;",role:"tab","aria-selected":"false"},on:{click:function(a){return t.switchPage("ostatus",4)}}},[t._v(t._s(t.$t("LNK_COMPLETED")))])])],2)]),t._v(" "),"PENDING"!=t.pstatus&&"4"!=t.status&&"all"!=t.tabtype?a("div",{staticClass:"portlet__head-toolbar"},[t.$canWrite("ORDERS")?a("ul",{staticClass:"nav nav-tabs nav-tabs-bold nav-tabs-line nav-tabs-line-brand nav-tabs-line-right nav-tabs-line-danger",attrs:{role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:["list"===t.view?"active":""],attrs:{href:"javascript:;"},on:{click:function(a){return t.switchView("list")}}},[a("i",{staticClass:"fas fa-th-large"})])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:["list"!=t.view?"active":""],attrs:{href:"javascript:;"},on:{click:function(a){return t.switchView("kanban")}}},[a("i",{staticClass:"fas fa-table"})])])]):t._e()]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"portlet__body pb-0 bg-formx flex-grow-0"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane active",attrs:{id:"portlet_tab_content_1",role:"tabpanel"}},[a("div",{staticClass:"mb-4"},[1==t.returnstatus||2==t.returnstatus||0==t.showEmpty?a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"input-group input-icon input-icon--left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchByKeyword,expression:"searchByKeyword"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_ORDER_SEARCH"),name:"searchByKeyword","data-vv-as":t.$t("LBL_SEARCH"),"data-vv-validate-on":"none"},domProps:{value:t.searchByKeyword},on:{keypress:function(a){return a.type.indexOf("key")||13===a.keyCode?(a.preventDefault(),t.validateSearch.apply(null,arguments)):null},input:function(a){a.target.composing||(t.searchByKeyword=a.target.value)}}}),t._v(" "),t._m(0),t._v(" "),""==t.pstatus?a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[t._v(t._s(t.$t("BTN_PAYMENT_STATUS")))]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"x-placement":"bottom-start"}},[a("div",[a("ul",{staticClass:"nav nav--block list-checkbox-radio"},t._l(t.paymentFilters,(function(e,s){return a("li",{key:s,staticClass:"dropdown-item nav__item"},[a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderSearch.payment_status,expression:"orderSearch.payment_status"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(t.orderSearch.payment_status)?t._i(t.orderSearch.payment_status,s)>-1:t.orderSearch.payment_status},on:{change:[function(a){var e=t.orderSearch.payment_status,r=a.target,i=!!r.checked;if(Array.isArray(e)){var o=s,n=t._i(e,o);r.checked?n<0&&t.$set(t.orderSearch,"payment_status",e.concat([o])):n>-1&&t.$set(t.orderSearch,"payment_status",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.orderSearch,"payment_status",i)},function(a){return t.searchRecords()}]}}),t._v("\n                                    "+t._s(e)+"\n                                    "),a("span")])])})),0)])])]):t._e(),t._v(" "),"list"==t.view&&4!=t.status&&"unpaid"!=t.tabtype&&"all"!=t.tabtype?a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[t._v(t._s(t.$t("BTN_FULFILMENT_STATUS")))]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"x-placement":"bottom-start"}},[a("div",["open"==t.tabtype?a("ul",{staticClass:"nav nav--block list-checkbox-radio"},t._l(t.shippingStatus,(function(e,s){return a("li",{key:s,staticClass:"dropdown-item nav__item"},[a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderSearch.fulfillment,expression:"orderSearch.fulfillment"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(t.orderSearch.fulfillment)?t._i(t.orderSearch.fulfillment,s)>-1:t.orderSearch.fulfillment},on:{change:[function(a){var e=t.orderSearch.fulfillment,r=a.target,i=!!r.checked;if(Array.isArray(e)){var o=s,n=t._i(e,o);r.checked?n<0&&t.$set(t.orderSearch,"fulfillment",e.concat([o])):n>-1&&t.$set(t.orderSearch,"fulfillment",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.orderSearch,"fulfillment",i)},function(a){return t.searchRecords()}]}}),t._v("\n                                    "+t._s(t._f("camelCase")(t._f("removeHyphen")(e)))+"\n                                    "),a("span")])])})),0):t._e(),t._v(" "),"pickup"==t.tabtype?a("ul",{staticClass:"nav nav--block list-checkbox-radio"},t._l(t.pickupStatus,(function(e,s){return a("li",{key:s,staticClass:"dropdown-item nav__item"},[a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderSearch.fulfillment,expression:"orderSearch.fulfillment"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(t.orderSearch.fulfillment)?t._i(t.orderSearch.fulfillment,s)>-1:t.orderSearch.fulfillment},on:{change:[function(a){var e=t.orderSearch.fulfillment,r=a.target,i=!!r.checked;if(Array.isArray(e)){var o=s,n=t._i(e,o);r.checked?n<0&&t.$set(t.orderSearch,"fulfillment",e.concat([o])):n>-1&&t.$set(t.orderSearch,"fulfillment",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.orderSearch,"fulfillment",i)},function(a){return t.searchRecords()}]}}),t._v("\n                                    "+t._s(t._f("camelCase")(t._f("removeHyphen")(e)))+"\n                                    "),a("span")])])})),0):t._e(),t._v(" "),t.returnstatus?a("ul",{staticClass:"nav nav--block list-checkbox-radio"},t._l(t.orderReturnRequests,(function(e,s){return 1==t.tabtype||1!=s?a("li",{key:s,staticClass:"dropdown-item nav__item"},[a("label",{staticClass:"checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderSearch.fulfillment,expression:"orderSearch.fulfillment"}],attrs:{type:"checkbox"},domProps:{value:s,checked:Array.isArray(t.orderSearch.fulfillment)?t._i(t.orderSearch.fulfillment,s)>-1:t.orderSearch.fulfillment},on:{change:[function(a){var e=t.orderSearch.fulfillment,r=a.target,i=!!r.checked;if(Array.isArray(e)){var o=s,n=t._i(e,o);r.checked?n<0&&t.$set(t.orderSearch,"fulfillment",e.concat([o])):n>-1&&t.$set(t.orderSearch,"fulfillment",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.orderSearch,"fulfillment",i)},function(a){return t.searchRecords()}]}}),t._v("\n                                    "+t._s(t._f("camelCase")(t._f("removeHyphen")(e)))+"\n                                    "),a("span")])]):t._e()})),0):t._e()])])]):t._e(),t._v(" "),a("div",{staticClass:"input-group-append"},[a("date-picker",{staticClass:"custom-date-range",attrs:{type:"date",range:"","value-type":"format",parseDate:t.parseDate,formatDate:t.formatDate,format:t.$dateTimeFormat(!1),placeholder:t.$t("PLH_DATE_RANGE")},on:{change:function(a){return t.searchRecords()}},model:{value:t.orderSearch.dateRange,callback:function(a){t.$set(t.orderSearch,"dateRange",a)},expression:"orderSearch.dateRange"}})],1)]),t._v(" "),t.errors.first("searchByKeyword")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("searchByKeyword")))]):t._e()]),t._v(" "),a("div",{staticClass:"col-auto"},[a("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[a("i",{staticClass:"fas fa-sort"}),t._v(" "),"order_id"==t.orderSearch.sortby?a("span",[t._v(t._s(t.$t("LBL_LATEST")))]):"order_net_amount"==t.orderSearch.sortby?a("span",[t._v(t._s(t.$t("LBL_AMOUNT")))]):t._e()]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-fit dropdown-menu-anim"},[a("div",[a("ul",{staticClass:"nav nav--block list-checkbox-radio"},[a("li",{staticClass:"dropdown-item nav__item"},[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderSearch.sortby,expression:"orderSearch.sortby"}],attrs:{type:"radio",name:"sortby",value:"order_id"},domProps:{checked:t._q(t.orderSearch.sortby,"order_id")},on:{change:[function(a){return t.$set(t.orderSearch,"sortby","order_id")},function(a){return t.searchRecords()}]}}),t._v("\n                                "+t._s(t.$t("LBL_LATEST"))+"\n                                "),a("span")])]),t._v(" "),a("li",{staticClass:"dropdown-item nav__item"},[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderSearch.sortby,expression:"orderSearch.sortby"}],attrs:{type:"radio",name:"sortby",value:"order_net_amount"},domProps:{checked:t._q(t.orderSearch.sortby,"order_net_amount")},on:{change:[function(a){return t.$set(t.orderSearch,"sortby","order_net_amount")},function(a){return t.searchRecords()}]}}),t._v("\n                                "+t._s(t.$t("LBL_AMOUNT"))+"\n                                "),a("span")])])])])]),t._v(" "),a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-icon",attrs:{title:0==t.orderSearch.keywords.length&&0==t.orderSearch.payment_status&&0==t.orderSearch.fulfillment&&""==t.orderSearch.dateRange&&"order_id"==t.orderSearch.sortby?"":t.$t("TTL_CLEAR_FILTERS"),disabled:0==t.orderSearch.keywords.length&&0==t.orderSearch.payment_status&&0==t.orderSearch.fulfillment&&""==t.orderSearch.dateRange&&"order_id"==t.orderSearch.sortby},on:{click:function(a){return t.clearSearch()}}},[a("i",{staticClass:"fas fa-trash-restore-alt"})])])]):t._e(),t._v(" "),a("ul",{staticClass:"tagify-custom my-2"},[t._l(t.orderSearch.payment_status,(function(e,s){return a("li",{key:s},[a("span",[t._v(t._s(t.paymentFilters[e]))]),t._v(" "),a("a",{staticClass:"remove",attrs:{href:"javascript:;"},on:{click:function(a){return t.removeKeyword(s,"paymentStatus")}}},[a("i",{staticClass:"fas fa-times"})])])})),t._v(" "),t._l(t.orderSearch.keywords,(function(e,s){return a("li",{key:s},[a("span",[t._v(t._s(e))]),t._v(" "),a("a",{staticClass:"remove",attrs:{href:"javascript:;"},on:{click:function(a){return t.removeKeyword(s)}}},[a("i",{staticClass:"fas fa-times"})])])}))],2)]),t._v(" "),"list"!=t.view&&"PENDING"!=t.pstatus&&"all"!=t.tabtype&&4!=t.status?a("kanban-view",{attrs:{returnstatus:t.returnstatus,orderSearch:t.orderSearch,updateSearch:t.updateSearch,tabtype:t.tabtype},on:{quickViewOrder:t.quickViewOrder,kanbanList:t.kanbanList}}):t._e()],1)])]),t._v(" "),0==t.showEmpty?a("hr",{staticClass:"m-0"}):t._e(),t._v(" "),1==t.showEmpty&&1==t.pageLoaded?a("div",{staticClass:"portlet__body"},[a("div",{staticClass:"get-started"},[a("div",{staticClass:"get-started-arrow d-flex justify-content-end mb-5"},[a("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-arrow-head.svg"}})]),t._v(" "),a("div",{staticClass:"no-content d-flex text-center flex-column mb-7"},[a("p",[t._v("\n                  "+t._s(t.$t("LBL_CLICK_THE"))+"\n                  "),a("router-link",{staticClass:"btn btn-brand btn-small",attrs:{to:{name:"addOrder"}}},[a("i",{staticClass:"fas fa-plus"}),t._v("\n                    "+t._s(t.$t("BTN_ADD"))+"\n                  ")]),t._v("\n                  "+t._s(t.$t("LBL_BUTTON_TO_CREATE_ORDERS"))+"\n                ")],1)]),t._v(" "),a("div",{staticClass:"get-started-media"},[a("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-orders.svg"}})])])]):t._e(),t._v(" "),0==t.showEmpty&&t.orders.length>0&&("list"==t.view||"PENDING"==t.pstatus||"all"==t.tabtype||4==t.status)?a("div",{staticClass:"portlet__body portlet__body--fit"},[a("div",{staticClass:"section"},[a("div",{staticClass:"section__content"},[t.orders.length>0?a("table",{staticClass:"table table-data table-justified"},[a("thead",[a("tr",[a("th",[t._v(t._s("open"==t.tabtype||"all"==t.tabtype||"pickup"==t.tabtype||"unpaid"==t.tabtype||"completed"==t.tabtype?"Order #":"Request #"))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_DATE")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_CUSTOMER")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_AMOUNT")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_PAYMENT_STATUS")))]),t._v(" "),a("th",[t._v(t._s("open"==t.tabtype||"all"==t.tabtype||"pickup"==t.tabtype||"unpaid"==t.tabtype||"completed"==t.tabtype?t.$t("LBL_FULFILMENT_STATUS"):t.$t("LBL_REQUEST_STATUS")))]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.orders,(function(e,s){return a("tr",{key:s},[a("td",[a("b",[e.orrequest_id?a("router-link",{attrs:{to:{name:"orderReturnDetail",params:{id:e.order_id,requestId:e.orrequest_id}}}},[t._v("#"+t._s(e.order_id+"-"+e.orrequest_id))]):a("router-link",{class:[0!=e.order_gift_amount?"d-inline-flex align-items-center":""],attrs:{to:{name:"orderDetail",params:{id:e.order_id}}}},[t._v("\n                            #"+t._s(e.order_id)+"\n                            "),0!=e.order_gift_amount?a("span",{staticClass:"YK-GiftItem gift-item active m-0",attrs:{href:"javascript:;"}},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#gift-icon",href:t.baseUrl+"/admin/images/retina/sprite.svg#gift-icon"}})])]):t._e()])],1)]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.order_date_added)))]),t._v(" "),a("td",[e.user_id?a("span",[a("router-link",{attrs:{to:{name:"userDetails",params:{id:e.user_id}}}},[t._v(t._s(e.username))])],1):t._e()]),t._v(" "),e.orrequest_id?a("td",[t._v("\n                        "+t._s(t.currencySymbol)+"\n                        "),a("span",{domProps:{innerHTML:t._s(t.calulateRefund(e))}})]):a("td",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(e.order_net_amount)))]),t._v(" "),a("td",[a("span",{staticClass:"badge badge--dot badge--inline",class:["pending"==e.order_payment_status.toLowerCase()?"badge-text--danger":"badge-text--success"]},[t._v("\n                          "+t._s(e.order_payment_status)+"\n                          "),"pending"!=e.order_payment_status.toLowerCase()?a("svg",{staticClass:"svg ml-2",attrs:{width:"16",height:"16"}},["cod"!=e.order_payment_method?a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#method",href:t.baseUrl+"/admin/images/retina/sprite.svg#method"}}):e.order_payment_method?a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#p-status",href:t.baseUrl+"/admin/images/retina/sprite.svg#p-status"}}):t._e()]):t._e()])]),t._v(" "),t.returnstatus?a("td",[a("div",{staticClass:"dropdown",class:[2==e.orrequest_status||3==e.orrequest_status?"disabledbutton":""]},[a("button",{staticClass:"btn btn-outline-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t._f("camelCase")(t._f("removeHyphen")(t.orderReturnRequests[e.orrequest_status]))))]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.orderReturnRequests,(function(s,r){return e.orrequest_status==r||1==r&&1!=e.orrequest_type?t._e():a("a",{key:r,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.updateReturnStatus(e,s,r)}}},[t._v(t._s(t._f("camelCase")(t._f("removeHyphen")(s))))])})),0)]),t._v(" "),a("span",{staticClass:"badge badge--success badge--inline"})]):a("td",[a("div",{staticClass:"dropdown",class:[4!=e.order_shipping_status&&4!=e.order_status&&t.$canWrite("ORDERS")?"":"disabledbutton"]},[a("button",{staticClass:"btn btn-outline-secondary btn-sm dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[1==e.order_shipping_type?a("span",[t._v(t._s(t._f("camelCase")(t._f("removeHyphen")(t.pickupStatus[e.order_shipping_status]))))]):t._e(),t._v(" "),1==e.order_shipping_type||3!=t.productType&&1!=t.productType?t._e():a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:2==t.productType||3==t.productType?t.$t("LBL_PHYSICAL_ORDER_STATUS"):""}},[t._v(t._s(t._f("camelCase")(t._f("removeHyphen")(t.shippingStatus[e.order_shipping_status]))))]),t._v(" "),!t.orderDigitalStatus[t.shippingStatus[e.order_shipping_status]]||1==e.order_shipping_type||3!=t.productType&&2!=t.productType?t._e():a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==t.productType||3==t.productType?t.$t("LBL_DIGITAL_ORDER_STATUS"):""}},[t._v("\n                              "+t._s(1==t.productType||3==t.productType?"/":"")+"\n                              "+t._s(t._f("camelCase")(t._f("removeHyphen")(t.orderDigitalStatus[t.shippingStatus[e.order_shipping_status]])))+"\n                            ")])]),t._v(" "),1==e.order_shipping_type?a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.pickupStatus,(function(s,r){return e.order_shipping_status!=r?a("a",{key:r,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.updateOrderStatus(r,s,e)}}},[a("span",[t._v(t._s(t._f("camelCase")(t._f("removeHyphen")(s))))])]):t._e()})),0):t._e(),t._v(" "),1!=e.order_shipping_type?a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.shippingStatus,(function(s,r){return e.order_shipping_status!=r?a("a",{key:r,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){return t.updateOrderStatus(r,s,e)}}},[3==t.productType||1==t.productType?a("span",[t._v(t._s(t._f("camelCase")(t._f("removeHyphen")(s))))]):t._e(),t._v(" "),!t.orderDigitalStatus[s]||3!=t.productType&&2!=t.productType?t._e():a("span",[1==t.productType||3==t.productType?a("span",[t._v("/")]):t._e(),t._v("\n                                "+t._s(t._f("camelCase")(t._f("removeHyphen")(t.orderDigitalStatus[s])))+"\n                              ")])]):t._e()})),0):t._e()]),t._v(" "),a("span",{staticClass:"badge badge--success badge--inline"})]),t._v(" "),a("td",[a("div",{staticClass:"actions"},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-icon",attrs:{href:"javascript:;",title:t.$t("TTL_QUICK_ORDER")},on:{click:function(a){return t.quickViewOrder(e.order_id)}}},[a("i",{staticClass:"icon__svg"},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#view-icon",href:t.baseUrl+"/admin/images/retina/sprite.svg#view-icon"}})])])]),t._v(" "),"open"==t.tabtype||"all"==t.tabtype||"pickup"==t.tabtype||"unpaid"==t.tabtype?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-icon",class:["cod"==e.order_payment_method&&2!=e.payment_status&&3==e.order_shipping_status?"":"disabled"],attrs:{href:"javascript:;",title:t.$t("TTL_PAYMENT_LINK")},on:{click:function(a){return t.sendPaymentLink(e)}}},[a("i",{staticClass:"icon__svg"},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#share-icon",href:t.baseUrl+"/admin/images/retina/sprite.svg#share-icon"}})])])]):t._e(),t._v(" "),"open"==t.tabtype||"pickup"==t.tabtype||"all"==t.tabtype||"unpaid"==t.tabtype?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-icon",class:[e.total_products==e.digital_products?"disabled":""],attrs:{href:"javascript:;",title:t.$t("TTL_PACKING_SLIP")},on:{click:function(a){return t.downloadPackingSlip(e.order_id)}}},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg-icon svg-icon--sm"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#invoice",href:t.baseUrl+"/admin/images/retina/sprite.svg#invoice"}})])])]):t._e(),t._v(" "),"open"==t.tabtype||"pickup"==t.tabtype||"all"==t.tabtype||"unpaid"==t.tabtype?a("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-icon",class:[1==e.order_shipping_status||2==e.order_shipping_status?"":"disabled",t.$canWrite("ORDERS")?"":"disabledbutton",e.return_products_count==e.total_products?"disabledbutton":""],attrs:{to:{name:"returnRequest",params:{id:e.order_id}},title:t.$t("TTL_CANCEL_ORDER")}},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg-icon svg-icon--sm"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#cancel-order",href:t.baseUrl+"/admin/images/retina/sprite.svg#cancel-order"}})])])]):t._e(),t._v(" "),"open"==t.tabtype||"pickup"==t.tabtype||"all"==t.tabtype||"unpaid"==t.tabtype?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-icon",class:[t.$canWrite("ORDERS")?"":"disabledbutton",4==e.order_status?"disabledbutton":""],attrs:{title:t.$t("TTL_COMPLETE_ORDER"),href:"javascript:;"},on:{click:function(a){t.$canWrite("ORDERS")&&t.markAsCompleted(e)}}},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg-icon svg-icon--sm"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#complete-order",href:t.baseUrl+"/admin/images/retina/sprite.svg#complete-order"}})])])]):t._e()],1)])])})),0)]):t._e()])])]):t._e(),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),"list"==t.view&&0==t.loading&&0==t.orders.length&&0==t.showEmpty&&(0!=t.orderSearch.payment_status.length||0!=t.orderSearch.keywords.length||0!=t.orderSearch.fulfillment.length||""!=t.orderSearch.sortby||""!=t.orderSearch.dateRange)||"kanban"==t.view&&0==t.kanbanBlock?a("noRecordsFound"):t._e(),t._v(" "),t.orders.length>0&&("list"==t.view||"all"==t.tabtype||"unpaid"==t.tabtype||"completed"==t.tabtype)?a("div",{staticClass:"portlet__foot"},[a("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e()],1)])])]),t._v(" "),a("products",{attrs:{orderId:t.orderId,clickEvent:t.clickEvent}}),t._v(" "),a("shipping-status",{attrs:{statusData:t.statusData,url:t.url,shippingCourier:t.couriers},on:{closePopup:t.closePopup,updateStatus:t.updateStatus}}),t._v(" "),a("cod-payment",{attrs:{statusData:t.statusData,url:t.url,adminsData:t.adminsData,readonly:t.readonly},on:{closePopup:t.closePopup,updateStatus:t.updateStatus}}),t._v(" "),a("share-payment-link",{attrs:{statusData:t.statusData,shareSuccessMessage:t.shareSuccessMessage}}),t._v(" "),a("export-details",{attrs:{shippingStatus:t.shippingStatus,pickupStatus:t.pickupStatus,productType:t.productType,orderDigitalStatus:t.orderDigitalStatus}}),t._v(" "),a("pending-request-model",{on:{updateListing:t.updateListing}})],1)}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])}],!1,null,null,null);a.default=i.exports},Q516:function(t,a,e){"use strict";var s=e("asWb").a,r=e("KHd+"),i=Object(r.a)(s,(function(){var t=this,a=t._self._c;return a("b-modal",{attrs:{id:"exportDetailPopup",centered:"",title:"BootstrapVue",size:"lg","no-close-on-backdrop":""},on:{hidden:t.closeModal},scopedSlots:t._u([{key:"modal-header",fn:function(e){var s=e.close;return[a("h5",{staticClass:"modal-title"},[a("span"),t._v("\n      "+t._s(t.$t("LBL_EXPORT"))+"\n    ")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return s()}}})]}},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-brand mx-auto",attrs:{type:"button"},on:{click:t.exportData}},[t._v(t._s(t.$t("BTN_EXPORT")))])]},proxy:!0}])},[t._v(" "),a("div",{staticClass:"export-wrapper"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-12"},[a("p",[t._v(t._s(t.$t("LBL_SELECT_EXPORT_DATA_TYPE")))]),t._v(" "),a("div",{staticClass:"radio-inline"},[a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",checked:"checked",value:"0"},domProps:{checked:t._q(t.type,"0")},on:{change:function(a){t.type="0"}}}),t._v("\n                "+t._s(t.$t("LBL_ORDERS"))+"\n                "),a("span")]),t._v(" "),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",value:"2"},domProps:{checked:t._q(t.type,"2")},on:{change:function(a){t.type="2"}}}),t._v("\n                "+t._s(t.$t("LBL_CANCELLATION"))+"\n                "),a("span")]),t._v(" "),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.type,"1")},on:{change:function(a){t.type="1"}}}),t._v("\n                "+t._s(t.$t("LBL_RETURN"))+"\n                "),a("span")]),t._v(" "),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",value:"4"},domProps:{checked:t._q(t.type,"4")},on:{change:function(a){t.type="4"}}}),t._v("\n                "+t._s(t.$t("LBL_COMPLETED"))+"\n                "),a("span")]),t._v(" "),a("label",{staticClass:"radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",value:"5"},domProps:{checked:t._q(t.type,"5")},on:{change:function(a){t.type="5"}}}),t._v("\n                "+t._s(t.$t("LBL_INVOICES"))+"\n                "),a("span")])])])]),t._v(" "),a("hr"),t._v(" "),a("h5",{staticClass:"mb-4"},[t._v(t._s(t.$t("LBL_ORDER_FILTERS")))]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-5 col-form-label"},[t._v(t._s(t.$t("LBL_FULFILLMENT_TYPE")))]),t._v(" "),a("div",{staticClass:"col-md-6",class:[0!=t.type&&4!=t.type?"disabledbutton":""]},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-default btn-block dropdown-toggle",attrs:{type:"button",id:"dropdownFulfillmentStatus","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.fulfillment[t.fulfillment_status]))]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownFulfillmentStatus"}},t._l(t.fulfillment,(function(e,s){return t.fulfillment_status!=s?a("a",{key:s,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){t.fulfillment_status=s,t.order_shipping_status="all"}}},[t._v(t._s(e))]):t._e()})),0)])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-5 col-form-label"},[t._v(t._s(1==t.fulfillment_status?"Pickup Status":t.$t("LBL_SHIPPING_STATUS")))]),t._v(" "),a("div",{staticClass:"col-md-6",class:[0!=t.type?"disabledbutton":""]},["all"==t.fulfillment_status||0==t.fulfillment_status?a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-default btn-block dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},["all"==t.order_shipping_status?a("span",[t._v(t._s(t.$t("LBL_EXPORT_FILTER_ALL")))]):t._e(),t._v(" "),"all"==t.order_shipping_status||3!=t.productType&&1!=t.productType?t._e():a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:2==t.productType||3==t.productType?t.$t("LBL_PHYSICAL_ORDER_STATUS"):""}},[t._v(t._s(t._f("camelCase")(t._f("removeHyphen")(t.shippingStatus[t.order_shipping_status]))))]),t._v(" "),!t.orderDigitalStatus[t.shippingStatus[t.order_shipping_status]]||"all"==t.order_shipping_status||3!=t.productType&&2!=t.productType?t._e():a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==t.productType||3==t.productType?t.$t("LBL_DIGITAL_ORDER_STATUS"):""}},[t._v("\n                  "+t._s(3==t.productType||1==t.productType?"/":"")+"\n                  "+t._s(t._f("camelCase")(t._f("removeHyphen")(t.orderDigitalStatus[t.shippingStatus[t.order_shipping_status]])))+"\n                ")]),t._v(" "),"all"==t.fulfillment_status&&"all"!=t.order_shipping_status?a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Pickup Order Status"}},[t._v(t._s("/ "+t.$cleanShipStatus(t.pickupStatus[t.order_shipping_status])))]):t._e()]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},["all"!=t.order_shipping_status?a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){t.order_shipping_status="all"}}},[a("span",[t._v(t._s(t.$t("LBL_EXPORT_FILTER_ALL")))])]):t._e(),t._v(" "),t._l(t.shippingStatus,(function(e,s){return t.order_shipping_status!=s?a("a",{key:s,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){t.order_shipping_status=s}}},[t._v("\n                  "+t._s(3==t.productType||1==t.productType?t.$cleanShipStatus(e):"")+"\n                  "+t._s(!t.orderDigitalStatus[e]||3!=t.productType&&2!=t.productType?"":"/ "+t.$cleanShipStatus(t.orderDigitalStatus[e]))+"\n                  "+t._s("all"==t.fulfillment_status?"/ "+t.$cleanShipStatus(t.pickupStatus[s]):"")+"\n                ")]):t._e()}))],2)]):t._e(),t._v(" "),1==t.fulfillment_status?a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-default btn-block dropdown-toggle",attrs:{type:"button",id:"dropdownPaymentStatus","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s("all"==t.order_shipping_status?t.$t("LBL_EXPORT_FILTER_ALL"):t.pickupStatus[t.order_shipping_status]))]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownPaymentStatus"}},["all"!=t.order_shipping_status?a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){t.order_shipping_status="all"}}},[a("span",[t._v(t._s(t.$t("LBL_EXPORT_FILTER_ALL")))])]):t._e(),t._v(" "),t._l(t.pickupStatus,(function(e,s){return t.order_shipping_status!=s?a("a",{key:s,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){t.order_shipping_status=s}}},[t._v(t._s(t.$cleanShipStatus(e)))]):t._e()}))],2)]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-5 col-form-label"},[t._v(t._s(t.$t("LBL_PAYMENT_STATUS")))]),t._v(" "),a("div",{staticClass:"col-md-6",class:[0!=t.type&&2!=t.type&&4!=t.type?"disabledbutton":""]},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-default btn-block dropdown-toggle",attrs:{type:"button",id:"dropdownPaymentStatus","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.paymentTypes[t.payment_status]))]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownPaymentStatus"}},t._l(t.paymentTypes,(function(e,s){return t.payment_status!=s?a("a",{key:s,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){t.payment_status=s}}},[t._v(t._s(e))]):t._e()})),0)])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-5 col-form-label"},[t._v(t._s(t.$t("LBL_DATE")))]),t._v(" "),a("div",{staticClass:"col-md-7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-default btn-block dropdown-toggle",attrs:{type:"button",id:"dropdownDateStatus","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.dateTypes[t.date_status]))]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownDateStatus"}},t._l(t.dateTypes,(function(e,s){return t.date_status!=s?a("a",{key:s,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(a){t.date_status=s}}},[t._v(t._s(e))]):t._e()})),0)])]),t._v(" "),a("div",{staticClass:"col-md-6",class:["custom"!=t.date_status?"disabledbutton":""]},[a("date-picker",{staticClass:"w-100",attrs:{type:"date",range:"","value-type":"format",format:"YYYY-MM-DD",placeholder:t.$t("PLH_SELECT_DATE"),"input-class":"form-control"},model:{value:t.dateRange,callback:function(a){t.dateRange=a},expression:"dateRange"}})],1)])])])])])])])}),[],!1,null,null,null);a.a=i.exports},U49p:function(t,a,e){"use strict";var s={data:function(){return{baseUrl:baseUrl,clicked:0}},methods:{closePopup:function(){this.$bvModal.hide("pendingRequestModel"),this.$emit("updateListing")}}},r=e("KHd+"),i=Object(r.a)(s,(function(){var t=this,a=t._self._c;return a("b-modal",{attrs:{id:"pendingRequestModel",centered:"",title:"BootstrapVue","header-class":"border-0","hide-footer":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.closePopup()}}})]},proxy:!0}])},[t._v(" "),a("div",{staticClass:"modal__content-wrapper my-1 pb-5 text-center"},[a("img",{attrs:{"data-yk":"",src:t.baseUrl+"/admin/images/retina/oops.svg",alt:""}}),t._v(" "),a("p",{staticClass:"px-3"},[t._v(t._s(t.$t("NOTI_YOU_HAVE_PENDING_REQUESTS")))])])])}),[],!1,null,null,null);a.a=i.exports},Z9V8:function(t,a,e){"use strict";var s={message:"",tracking_number:"",courier_name:""},r={data:function(){return{clicked:0,statusChangeSaveClicked:0,uploaded:1,commentData:s}},props:["statusData","url","shippingCourier"],methods:{uploadFile:function(t,a,e,s){var r=this;this.uploaded=0;var i=new FormData;i.append("file",t.target.files[0]),i.append("op_id",a),i.append("order_id",e),i.append("product_id",s),this.$http.post(adminBaseUrl+"/orders/upload-digital-file",i).then((function(t){r.uploaded=1}))},validateShippingStatus:function(){var t=this;this.$validator.validateAll(this.commentData).then((function(a){a?(t.statusChangeSaveClicked=1,t.$emit("updateStatus",t.statusData,t.commentData)):t.statusChangeSaveClicked=0}))},closePopup:function(){this.$emit("closePopup")}},watch:{statusData:function(){this.commentData.message="",this.commentData.tracking_number="",this.commentData.courier_name="",this.statusChangeSaveClicked=0}}},i=e("KHd+"),o=Object(i.a)(r,(function(){var t=this,a=t._self._c;return a("b-modal",{attrs:{id:"shippingStatusPopup",centered:"",title:"BootstrapVue","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){e.close;return[a("h5",{staticClass:"modal-title"},[t.statusData&&1==t.statusData.complete?a("span",[t._v("\n        "+t._s(t.$t("LBL_CHANGING_STATUS_FOR"))+"\n        "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id)+"\n        "+t._s(t.$t("LBL_TO_COMPLETE"))+"\n      ")]):a("span",[t._v("\n        "+t._s(t.$t("LBL_CHANGING_STATUS_FOR"))+"\n        "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id)+"\n        "+t._s(t.$t("LBL_TO"))+" "+t._s(t._f("removeHyphen")(t.statusData.status))+"\n      ")])]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.closePopup()}}})]}},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-brand",attrs:{type:"button",disabled:1==t.statusChangeSaveClicked||0==t.uploaded},on:{click:t.validateShippingStatus}},[t._v(t._s(t.$t("BTN_SHIPPING_STATUS_UPDATE")))])]},proxy:!0}])},[t._v(" "),t.statusData.digitalCount&&t.statusData.uploadInfo?a("div",{staticClass:"row"},t._l(t.statusData.uploadInfo,(function(e,s){return a("div",{key:s,staticClass:"col-lg-12"},t._l(e.op_qty,(function(s){return a("div",{key:s,staticClass:"form-group"},[a("label",[t._v(t._s(e.op_product_name+" "+s))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"file",name:"courier_name"},on:{change:function(a){return t.uploadFile(a,e.op_id,t.statusData.id,e.op_product_id)}}})])})),0)})),0):t._e(),t._v(" "),"shipped"==t.statusData.status&&0==t.statusData.digitalOrderType?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[void 0!==t.shippingCourier&&Object.keys(t.shippingCourier).length>0?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_SHIPPING_CARRIER")))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.commentData.courier_name,expression:"commentData.courier_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"courier_name","data-vv-as":t.$t("LBL_SHIPPING_CARRIER"),disabled:1==Object.keys(t.shippingCourier).length,"data-vv-validate-on":"none"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.commentData,"courier_name",a.target.multiple?e:e[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v(t._s(t.$t("LBL_SHIPPING_CARRIER")))]),t._v(" "),t._l(t.shippingCourier,(function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(e))])}))],2),t._v(" "),t.errors.first("courier_name")?a("span",{staticClass:"error text-danger"},[t._v("\n          "+t._s(t.errors.first("courier_name"))+"\n        ")]):t._e()]):a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_SHIPPING_CARRIER")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentData.courier_name,expression:"commentData.courier_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"courier_name","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_SHIPPING_CARRIER")},domProps:{value:t.commentData.courier_name},on:{input:function(a){a.target.composing||t.$set(t.commentData,"courier_name",a.target.value)}}}),t._v(" "),t.errors.first("courier_name")?a("span",{staticClass:"error text-danger"},[t._v("\n          "+t._s(t.errors.first("courier_name"))+"\n        ")]):t._e()])]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_TRACKING_NUMBER")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentData.tracking_number,expression:"commentData.tracking_number"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"tracking_number","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_TRACKING_NUMBER")},domProps:{value:t.commentData.tracking_number},on:{input:function(a){a.target.composing||t.$set(t.commentData,"tracking_number",a.target.value)}}}),t._v(" "),t.errors.first("tracking_number")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("tracking_number")))]):t._e()])])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_COMMENTS")))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentData.message,expression:"commentData.message"}],staticClass:"form-control",attrs:{name:"message",spellcheck:"false","data-vv-validate-on":"none"},domProps:{value:t.commentData.message},on:{input:function(a){a.target.composing||t.$set(t.commentData,"message",a.target.value)}}})])])])])}),[],!1,null,null,null);a.a=o.exports},a8Ah:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n#secondary-toast-container .toast {\n  opacity: 1;\n  color: white;\n}\n#secondary-toast-container {\n  position: fixed;\n  width: 300px;\n}\n",""])},aeWZ:function(t,a,e){var s=e("a8Ah");"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,r);s.locals&&(t.exports=s.locals)},asWb:function(t,a,e){"use strict";(function(t){e("7EX9"),e("QRy/");a.a={data:function(){return{order_shipping_status:"all",type:0,uploaded:0,fulfillment_status:"all",payment_status:"all",date_status:"today",fulfillment:{all:"All",0:"Ship",1:"Pickup"},paymentTypes:{all:"All",2:"Paid",1:"Unpaid"},dateTypes:{today:"Today",week:"Week",month:"Month",year:"Year",custom:"Custom"},dateRange:[]}},props:["shippingStatus","productType","orderDigitalStatus","pickupStatus"],methods:{exportData:function(){var a=this;if(5==this.type)return this.exportInvoice(),!1;var e=this.$serializeData({shipping_status:this.order_shipping_status,type:this.type,fulfillment_status:this.fulfillment_status,payment_status:this.payment_status,date_status:this.date_status,dateRange:this.dateRange});this.$http.post(adminBaseUrl+"/orders/orders-export",e).then((function(e){0!=e.data.status?(t.success(e.data.message,"",t.options),a.$bvModal.hide("exportDetailPopup"),window.open(e.data.data,"_blank")):t.error(e.data.message,"",t.options)}))},closeModal:function(){this.type=0,this.dateRange=[]},exportInvoice:function(){var a=this,e=this.$serializeData({date_status:this.date_status,dateRange:this.dateRange});this.$http.post(adminBaseUrl+"/orders/invoice-export",e).then((function(e){0!=e.data.status?(t.success(e.data.message,"",t.options),a.$bvModal.hide("exportDetailPopup"),window.open(e.data.data,"_blank")):t.error(e.data.message,"",t.options)}))}}}}).call(this,e("hUol"))},lRLS:function(t,a,e){"use strict";var s=e("oYf7").a,r=e("KHd+"),i=Object(r.a)(s,(function(){var t=this,a=t._self._c;return a("b-modal",{attrs:{id:"paymentLinkPopup",centered:"",title:"BootstrapVue","hide-footer":!0,"no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){var s=e.close;return[a("h5",{staticClass:"modal-title"},[a("span"),t._v("\n      "+t._s(t.$t("LBL_CHOOSE_METHOD_TO_SHARE_PAYMENT_LINK"))+"\n    ")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return s()}}})]}}])},[t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("ul",{staticClass:"social-sharing"},[a("li",{class:["sms"==t.type?"active":""]},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon",attrs:{href:"javascript:;",title:t.$t("TTL_SHARE_LINK_VIA_SMS")},on:{click:function(a){return t.genratePaymentUrl("sms")}}},[a("i",{staticClass:"fas fa-phone"})])]),t._v(" "),a("li",{class:["email"==t.type?"active":""]},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon",attrs:{href:"javascript:;",title:t.$t("TTL_SHARE_LINK_VIA_EMAIL")},on:{click:function(a){return t.genratePaymentUrl("email")}}},[a("i",{staticClass:"fas fa-envelope"})])]),t._v(" "),a("li",{class:["copy"==t.type?"active":""]},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"icon",attrs:{href:"javascript:;",title:t.$t("TTL_COPY_PAYMENT_URL")},on:{click:function(a){return t.genratePaymentUrl("copy")}}},[a("i",{staticClass:"fas fa-link"})])])]),t._v(" "),t.shareSuccessMessage?a("span",[t._v(t._s(t.shareSuccessMessage))]):t._e()])])])}),[],!1,null,null,null);a.a=i.exports},oYf7:function(t,a,e){"use strict";(function(t,e){a.a={data:function(){return{clicked:0,type:""}},props:["statusData","shareSuccessMessage"],methods:{genratePaymentUrl:function(a){var s=this;this.type=a;var r=this.$serializeData({"order-id":this.statusData.id,type:a});this.$http.post(adminBaseUrl+"/order/payment-url",r).then((function(r){if(0!=r.data.status)if("copy"==a){t.success(r.data.message,"",t.options),s.$bvModal.hide("paymentLinkPopup");var i=r.data.data,o=e("<input>");e("body").append(o),o.val(i).select(),document.execCommand("copy"),o.remove()}else s.shareSuccessMessage=r.data.message;else t.error(r.data.message,"",t.options)}))}},watch:{statusData:function(){this.type=""}}}}).call(this,e("hUol"),e("EVdn"))},wlPy:function(t,a,e){"use strict";(function(t,s,r){var i=e("JqK7"),o=e("Z9V8"),n=e("CeuZ");function d(t,a){return function(t){if(Array.isArray(t))return t}(t)||function(t,a){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var s,r,i,o,n=[],d=!0,l=!1;try{if(i=(e=e.call(t)).next,0===a){if(Object(e)!==e)return;d=!1}else for(;!(d=(s=i.call(e)).done)&&(n.push(s.value),n.length!==a);d=!0);}catch(t){l=!0,r=t}finally{try{if(!d&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(l)throw r}}return n}}(t,a)||function(t,a){if(!t)return;if("string"==typeof t)return l(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l(t,a)}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,s=new Array(a);e<a;e++)s[e]=t[e];return s}t.use(i.a),a.a={components:{shippingStatus:o.a,codPayment:n.a},props:["returnstatus","orderSearch","updateSearch","tabtype"],data:function(){return{currencySymbol:currencySymbol,adminsData:{},baseUrl:baseUrl,stages:[],blocks:[],orderId:0,message:"",readonly:!1,shippingStatusPopupId:"shippingStatusPopup",pendingRequestPopupId:"pendingRequestModel",paymentLinkPopupId:"paymentLinkPopup",codApprovedModelId:"codApproved",orderStatus:[],orderDigitalStatus:[],listPrimitive:null,total:[],rows:[],url:"",rowperpage:5,showUndo:!1,undoRecordId:"",undoRecordStatus:"",productType:"",shareSuccessMessage:"",orderDetail:{},orderBlock:{},statusData:{},pageLoaded:0,shippingMesagesEnable:0,showEmpty:1,couriers:[]}},watch:{returnstatus:function(t,a){this.url="",""!=this.returnstatus&&(this.url="return/")},updateSearch:function(){this.kanbanPageRecords()}},methods:{kanbanPageRecords:function(){var t=this;this.emptyValues(),""!=this.returnstatus&&(this.url="return/");var a=this.$serializeData({type:this.returnstatus,"active-tab":this.tabtype,search:JSON.stringify(this.orderSearch)});this.$http.post(adminBaseUrl+"/orders/"+this.url+"list",a).then((function(a){for(var e=[],s=0,r=Object.entries(a.data.data.statuses);s<r.length;s++){var i=d(r[s],2),o=(i[0],i[1]);e.push(o)}t.stages=e,t.total=a.data.data.total,t.rows=a.data.data.rows,t.blocks=a.data.data.blocks,t.$emit("kanbanList",Object.keys(t.blocks).length),t.orderStatus=a.data.data.orderStatus,t.productType=a.data.data.productType,t.orderDigitalStatus=a.data.data.orderDigitalStatus,t.showEmpty=a.data.data.showEmpty,t.shippingMesagesEnable=a.data.data.shippingMesages,t.pageLoaded=1;var n=a.data.data.shippingCouriers;n&&n.length>0&&(t.couriers=t.couriers.data)}))},calulateRefund:function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=t.op_product_price*t.orrequest_qty,s=t.oramount_tax,r=t.oramount_discount,i=t.oramount_giftwrap_price,o=t.oramount_reward_price,n=t.oramount_shipping,d=parseFloat(e)+parseFloat(s)+parseFloat(n);return 0!=r&&(d-=r),0!=o&&(d-=o),0!=i&&(i>0?d=parseFloat(d)+parseFloat(Math.abs(i)):d-=Math.abs(i)),d<0&&(d=0),1==a?d.toLocaleString(void 0,{maximumFractionDigits:2}):d},loadMore:function(t,a){var e=this,r=this.$serializeData({rows:this.rows[a],status:a,type:this.returnstatus,search:JSON.stringify(this.orderSearch)});s(t.target).addClass("spinner spinner--sm spinner--danger"),this.$http.post(adminBaseUrl+"/orders/load-more",r).then((function(r){var i=e;r.data.data.map((function(t){i.blocks.push(t)})),e.rows[a]=Number(e.rows[a])+e.rowperpage,s(t.target).removeClass("spinner spinner--sm spinner--danger")}))},orderView:function(t){this.$emit("quickViewOrder",t)},emptyValues:function(){this.stages=this.blocks=this.total=this.rows=[]},updateBlock:function(t,a,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=s("#YK-payment_method_"+t).attr("data-id");if(0!=this.blocks[i].pending_requests)return this.$bvModal.show(this.pendingRequestPopupId),!1;var o=this.blocks[i].order_payment_method,n=0;return this.blocks[i].digital_products==this.blocks[i].total_products&&(n=1),this.blocks[i].transaction&&0==this.inArray(this.blocks[i].transaction.txn_gateway_type,["cash","card"])&&(o=this.blocks[i].transaction.txn_gateway_type),"approved"==a&&"cod"==o&&2==this.blocks[i].payment_status?(this.adminsData.payment_method="Bank Transfer",this.adminsData.amount=this.blocks[i].order_amount_charged,this.statusData={id:t,status:a,complete:r,digitalOrderType:n},this.$bvModal.show(this.codApprovedModelId),!1):"delivered"==a&&"cod"==o&&2!=this.blocks[i].payment_status?(this.adminsData.amount=this.blocks[i].order_net_amount,this.adminsData.transaction_id=this.$rndStr(),this.adminsData.payment_method="cash",this.readonly="true",this.statusData={id:t,status:a,complete:r,digitalOrderType:n},this.$bvModal.show(this.codApprovedModelId),!1):"shipped"==a&&"cod"==o&&2!=this.blocks[i].payment_status?void this.isRequestPending(t,a,r,n):"delivered"==a&&1==n?void this.digitalAdditionalUpload(t,a,r,n):(this.statusData={id:t,status:a,complete:r,digitalOrderType:n},0==this.shippingMesagesEnable&&"shipped"!=a||"shipped"==a&&1==n&&0==this.shippingMesagesEnable?(this.updateStatus(this.statusData),!1):(this.$bvModal.show(this.shippingStatusPopupId),!1))},digitalAdditionalUpload:function(t,a,e,s){var r=this,i=this.$serializeData({"order-id":t});this.$http.post(adminBaseUrl+"/orders/digital-additional-upload",i).then((function(i){r.statusData={id:t,status:a,complete:e,digitalOrderType:s,uploadInfo:i.data.data},r.$bvModal.show(r.shippingStatusPopupId)}))},closePopup:function(t){this.$bvModal.hide(t),this.$bvModal.hide(this.shippingStatusPopupId),this.$bvModal.hide(this.codApprovedModelId),this.statusData={},this.adminsData={},this.kanbanPageRecords()},updateStatus:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this.blocks.findIndex((function(a){return a.id==t.id})),o=this.$serializeData({status:t.status,complete:t.complete,type:this.returnstatus,amount:this.calulateRefund(this.blocks[i],!1),"transfer-detail":JSON.stringify(s)});e&&(o.append("message",e.message),o.append("tracking_number",e.tracking_number),o.append("courier_name",e.courier_name)),this.$http.post(adminBaseUrl+"/orders/"+this.url+"status/"+t.id,o).then((function(t){r.success(t.data.message,"",{timeOut:5e3}),a.statusData={},a.message="",a.adminsData={},a.$bvModal.hide(a.shippingStatusPopupId),a.$bvModal.hide(a.codApprovedModelId),a.kanbanPageRecords()}))},markAsCompleted:function(t){var a="delivered";1==t.order_shipping_type&&(a="picked-up"),this.updateBlock(t.id,a,0,1)},sendPaymentLink:function(t){this.shareSuccessMessage="",this.orderBlock=t,this.statusData={id:t.id},this.$bvModal.show(this.paymentLinkPopupId)},inArray:function(t,a){for(var e=a.length,s=0;s<e;s++)if(a[s]==t)return!0;return!1},undoCompletion:function(){var t=this;this.showUndo=!1;var a=this.$serializeData({status:this.undoRecordStatus});this.$http.post(adminBaseUrl+"/orders/status/"+this.undoRecordId,a).then((function(a){r.success(t.$t("NOTI_YOUR_PREVIOUS_ACTION_UNDONE"),"",r.options),t.undoRecordId="",t.undoRecordStatus="",t.kanbanPageRecords()}))},downloadPackingSlip:function(t){window.open(adminBaseUrl+"/orders/download-packing-slip/"+t)}},mounted:function(){this.kanbanPageRecords()}}}).call(this,e("XuX8"),e("EVdn"),e("hUol"))}}]);