(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"0ros":function(t,a,e){"use strict";(function(t){var e={search:"",dateRange:[]};a.a={props:["dateRange"],data:function(){return{baseUrl:baseUrl,searchData:e,records:[],exportFields:{"Customer name":"user_name","Customer email":"user_email","Accepts marketing":" ","First order day":"order_formt_date","Order to date":"1","Total spent to date":"order_net_amount"},exportData:[],summary:{},loading:!1,type:"oneTimeCustomer",symbol:"",sortingType:"",sortingBy:""}},methods:{searchRecords:function(t){this.searchData.dateRange=t,this.getCustomerData()},emitExportFieldsToParent:function(){this.$emit("exportExcelFields",this.exportFields)},emitExportDataToParent:function(){this.$emit("exportExcelData",this.exportData)},emitDateRange:function(){this.$emit("setDate",this.searchData.dateRange)},getCustomerData:function(){var a=this;this.loading=!0;var e=this.$serializeData(this.searchData);e.append("sorting-by",this.sortingBy),e.append("sorting-type",this.sortingType),e.append("type",this.type),this.$http.post(adminBaseUrl+"/reports/get-customer-report",e).then((function(e){if(0==e.data.status)return a.loading=!1,void t.error(e.data.message,"",t.options);a.records=e.data.data.data,a.exportData=e.data.data.data,a.searchData.dateRange=e.data.data.dateRange,a.loading=!1,a.emitExportFieldsToParent(),a.emitExportDataToParent(),a.emitDateRange()}))},printCustomerData:function(){this.$htmlToPaper("oneTimeCustomer")},sortBy:function(t){""==this.sortingType||"desc"==this.sortingType||this.sortingBy!=t?this.sortingType="asc":this.sortingType="desc",this.sortingBy=t,this.getCustomerData()}},mounted:function(){""!=installationDate&&this.$emit("installationDate",installationDate),this.symbol=currencySymbol,this.searchData.dateRange=this.dateRange,this.getCustomerData()},computed:{TotalOrderToDate:function(){return _.size(this.records)},totalAmount:function(){return this.records.reduce((function(t,a){return t+parseFloat(a.order_net_amount)}),0)}}}}).call(this,e("hUol"))},"6eSc":function(t,a,e){"use strict";(function(t){var s=e("I6zx"),r=e.n(s),n={dateRange:[]};a.a={props:["dateRange"],components:{"vue-chartist":r.a},data:function(){return{chartData:{labels:[],series:[]},options:{fullWidth:!0,showArea:!0,onlyInteger:!0,showPoint:!1,axisY:{showGrid:!0},axisX:{showGrid:!0}},exportFields:{Month:"month","Customer Type":"customer_type",Orders:"order_count","Total spent to date":"amount"},exportData:[],baseUrl:baseUrl,searchData:n,orderDetail:{},records:[],summary:{},loading:!1,symbol:"",currentSort:"",currentSortDir:""}},methods:{searchRecords:function(t){this.searchData.dateRange=t,this.firstTimeVsReturningCustomerReport()},emitExportFieldsToParent:function(){this.$emit("exportExcelFields",this.exportFields)},emitExportDataToParent:function(){this.$emit("exportExcelData",this.exportData)},emitDateRange:function(){this.$emit("setDate",this.searchData.dateRange)},printCustomerReport:function(){this.$htmlToPaper("firstTimeVsReturnCustomer")},firstTimeVsReturningCustomerReport:function(){var a=this;this.loading=!0;var e=this.$serializeData(this.searchData);this.$http.post(adminBaseUrl+"/reports/get-first-vs-return-customer",e).then((function(e){if(0==e.data.status)return a.loading=!1,void t.error(e.data.message,"",t.options);a.chartData.labels=e.data.data.labels,a.chartData.series=[],a.chartData.series.push(e.data.data.series[0]),a.chartData.series.push(e.data.data.series[1]),a.summary=e.data.data.summary,a.records=e.data.data.data,a.exportData=e.data.data.data,a.searchData.dateRange=e.data.data.dateRange,a.loading=!1,a.emitExportFieldsToParent(),a.emitExportDataToParent(),a.emitDateRange()}))},sort:function(t){t===this.currentSort?this.currentSortDir="asc"===this.currentSortDir?"desc":"asc":this.currentSortDir="desc",this.currentSort=t}},mounted:function(){""!=installationDate&&this.$emit("installationDate",installationDate),this.symbol=currencySymbol,this.searchData.dateRange=this.dateRange,this.firstTimeVsReturningCustomerReport()},computed:{TotalFirstTimeAmount:function(){return this.records.reduce((function(t,a){return t+parseInt(a.first_time_spent)}),0)},TotalReturningAmount:function(){return this.records.reduce((function(t,a){return t+parseInt(a.returning_spent)}),0)},sortlisting:function(){var t=this;return this.records.sort((function(a,e){var s=1;return"desc"===t.currentSortDir&&(s=-1),a[t.currentSort]<e[t.currentSort]?-1*s:a[t.currentSort]>e[t.currentSort]?1*s:0}))}}}}).call(this,e("hUol"))},"6x1e":function(t,a,e){"use strict";(function(t){var e={search:"",dateRange:[]};a.a={props:["dateRange"],data:function(){return{baseUrl:baseUrl,searchData:e,records:[],exportFields:{"Country/Region":"user_country",Customers:"order_customer","Order to date":"order_count","Total spent to date":"order_amount"},exportData:[],summary:{},loading:!1,type:"locationCustomer",symbol:"",sortingType:"",sortingBy:""}},methods:{searchRecords:function(t){this.searchData.dateRange=t,this.getCustomerData()},emitExportFieldsToParent:function(){this.$emit("exportExcelFields",this.exportFields)},emitExportDataToParent:function(){this.$emit("exportExcelData",this.exportData)},emitDateRange:function(){this.$emit("setDate",this.searchData.dateRange)},getCustomerData:function(){var a=this;this.loading=!0;var e=this.$serializeData(this.searchData);e.append("sorting-by",this.sortingBy),e.append("sorting-type",this.sortingType),e.append("type",this.type),this.$http.post(adminBaseUrl+"/reports/get-customer-report",e).then((function(e){if(0==e.data.status)return a.loading=!1,void t.error(e.data.message,"",t.options);a.records=e.data.data.data,a.exportData=e.data.data.data,a.searchData.dateRange=e.data.data.dateRange,a.loading=!1,a.emitExportFieldsToParent(),a.emitExportDataToParent(),a.emitDateRange()}))},sortBy:function(t){""==this.sortingType||"desc"==this.sortingType||this.sortingBy!=t?this.sortingType="asc":this.sortingType="desc",this.sortingBy=t,this.getCustomerData()},printCustomerData:function(){this.$htmlToPaper("locationByCustomer")}},mounted:function(){""!=installationDate&&this.$emit("installationDate",installationDate),this.symbol=currencySymbol,this.searchData.dateRange=this.dateRange,this.getCustomerData()},computed:{TotalCustomer:function(){return this.records.reduce((function(t,a){return t+a.order_customer}),0)},TotalOrderToDate:function(){return this.records.reduce((function(t,a){return t+a.order_count}),0)},totalAmount:function(){return this.records.reduce((function(t,a){return t+parseInt(a.order_amount)}),0)}}}}).call(this,e("hUol"))},"8YaQ":function(t,a,e){"use strict";e.r(a);var s=e("7EX9"),r=(e("QRy/"),e("EAFt").a),n=e("KHd+"),o=Object(n.a)(r,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"p-4 YK-customerOverTime"},[a("vue-chartist",{attrs:{ratio:"",type:"Bar",data:t.chartData,options:t.options}})],1),t._v(" "),a("hr"),t._v(" "),t.records.length>0?a("div",{staticClass:"datatable datatable--default datatable--brand datatable--loaded",attrs:{id:"customerOverTimeReport"}},[a("table",{staticClass:"datatable__table"},[a("thead",{staticClass:"datatable__head datatable__head-fixed"},[a("tr",{staticClass:"datatable__row"},[a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_CUSTOMER_SALE_MONTH")))])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["first_time_customer"==t.currentSort?"datatable__cell--sorted":""],on:{click:function(a){return t.sort("first_time_customer")}}},[a("span",[t._v(t._s(t.$t("LBL_FIRST_TIME"))+"\n                            "),"first_time_customer"==t.currentSort?a("i",{staticClass:"fas",class:["asc"==t.currentSortDir?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["returning_time_customer"==t.currentSort?"datatable__cell--sorted":""],on:{click:function(a){return t.sort("returning_time_customer")}}},[a("span",[t._v(t._s(t.$t("LBL_RETURNING"))+"\n                            "),"returning_time_customer"==t.currentSort?a("i",{staticClass:"fas",class:["asc"==t.currentSortDir?"fa-arrow-up":"fa-arrow-down"]}):t._e()])])])]),t._v(" "),a("tbody",{staticClass:"datatable__body"},[a("tr",{staticClass:"datatable__row datatable__row-highlighted"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.$t("LBL_SUMMARY"))+" ")])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.TotalFirstTimeOrder))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.TotalReturningOrder))])])]),t._v(" "),t._l(t.sortlisting,(function(e,s){return a("tr",{key:s,staticClass:"datatable__row"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(e.month?e.month:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(e.first_time_customer?e.first_time_customer:"0"))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(e.returning_time_customer?e.returning_time_customer:"0"))])])])}))],2)])]):t._e(),t._v(" "),t.loading?a("loader"):t._e()],1)}),[],!1,null,null,null).exports,i=e("6eSc").a,l=Object(n.a)(i,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"p-4 YK-firstTimeVsReturnCustomer"},[a("vue-chartist",{attrs:{ratio:"",type:"Bar",data:t.chartData,options:t.options}})],1),t._v(" "),a("hr"),t._v(" "),t.records.length>0?a("div",{staticClass:"datatable datatable--default datatable--brand datatable--loaded",attrs:{id:"firstTimeVsReturnCustomer"}},[a("table",{staticClass:"datatable__table"},[a("thead",{staticClass:"datatable__head datatable__head-fixed"},[a("tr",{staticClass:"datatable__row"},[a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_CUSTOMER_SALE_MONTH")))])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["first_time_spent"==t.currentSort?"datatable__cell--sorted":""],on:{click:function(a){return t.sort("first_time_spent")}}},[a("span",[t._v(t._s(t.$t("LBL_FIRST_TIME_SPENT"))+"\n                            "),"first_time_spent"==t.currentSort?a("i",{staticClass:"fas",class:["asc"==t.currentSortDir?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["returning_spent"==t.currentSort?"datatable__cell--sorted":""],on:{click:function(a){return t.sort("returning_spent")}}},[a("span",[t._v(t._s(t.$t("LBL_RETURNING_SPENT"))+"\n                            "),"returning_spent"==t.currentSort?a("i",{staticClass:"fas",class:["asc"==t.currentSortDir?"fa-arrow-up":"fa-arrow-down"]}):t._e()])])])]),t._v(" "),a("tbody",{staticClass:"datatable__body"},[a("tr",{staticClass:"datatable__row datatable__row-highlighted"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.$t("LBL_SUMMARY")))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(Math.round(t.TotalFirstTimeAmount))+" ")])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(Math.round(t.TotalReturningAmount))+" ")])])]),t._v(" "),t._l(t.sortlisting,(function(e,s){return a("tr",{key:s,staticClass:"datatable__row"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.month?e.month:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.first_time_spent?e.first_time_spent:0))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.returning_spent?e.returning_spent:0))])])])}))],2)])]):t._e(),t._v(" "),t.loading?a("loader"):t._e()],1)}),[],!1,null,null,null).exports,c=e("6x1e").a,_=Object(n.a)(c,(function(){var t=this,a=t._self._c;return a("div",[t.records.length>0?a("div",{staticClass:"datatable datatable--default datatable--brand datatable--loaded",attrs:{id:"locationByCustomer"}},[a("table",{staticClass:"datatable__table"},[a("thead",{staticClass:"datatable__head datatable__head-fixed"},[a("tr",{staticClass:"datatable__row"},[a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["user_country"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("user_country")}}},[a("span",[t._v(t._s(t.$t("LBL_COUNTRY_REGION"))+"\n                            "),"user_country"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["order_customer"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("order_customer")}}},[a("span",[t._v(t._s(t.$t("LBL_CUSTOMERS"))+"\n                            "),"order_customer"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["order_count"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("order_count")}}},[a("span",[t._v(t._s(t.$t("LBL_ORDER_TO_DATE"))+"\n                            "),"order_count"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["order_amount"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("order_amount")}}},[a("span",[t._v(t._s(t.$t("LBL_TOTAL_SPENT_TO_DATE"))+"\n                            "),"order_amount"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])])])]),t._v(" "),a("tbody",{staticClass:"datatable__body"},[a("tr",{staticClass:"datatable__row datatable__row-highlighted"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.$t("LBL_SUMMARY")))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(t.TotalCustomer)+" ")])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(t.TotalOrderToDate)+" ")])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.symbol)+" "+t._s(Math.round(t.totalAmount))+" ")])])]),t._v(" "),t._l(t.records,(function(e,s){return a("tr",{key:s,staticClass:"datatable__row"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.user_country?e.user_country:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.order_customer?e.order_customer:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.order_count?e.order_count:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.symbol)+" "+t._s(e.order_amount?e.order_amount:0))])])])}))],2)])]):t._e(),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),0==t.loading&&0==t.records.length?a("noRecordsFound"):t._e()],1)}),[],!1,null,null,null).exports,d=e("0ros").a,u=Object(n.a)(d,(function(){var t=this,a=t._self._c;return a("div",[t.records.length>0?a("div",{staticClass:"datatable datatable--default datatable--brand datatable--loaded",attrs:{id:"oneTimeCustomer"}},[a("table",{staticClass:"datatable__table"},[a("thead",{staticClass:"datatable__head datatable__head-fixed"},[a("tr",{staticClass:"datatable__row"},[a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["user_username"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("user_username")}}},[a("span",[t._v(t._s(t.$t("LBL_CUSTOMER_NAME"))+"\n                            "),"user_username"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_CUSTOMER_EMAIL")))])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_ACCEPT_MARKETING"))+" ")])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_FIRST_ORDER_DAY")))])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_ORDER_TO_DATE")))])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["order_net_amount"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("order_net_amount")}}},[a("span",[t._v(t._s(t.$t("LBL_TOTAL_SPENT_TO_DATE"))+"\n                            "),"order_net_amount"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])])])]),t._v(" "),a("tbody",{staticClass:"datatable__body"},[a("tr",{staticClass:"datatable__row datatable__row-highlighted"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.$t("LBL_SUMMARY")))])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(t.TotalOrderToDate)+" ")])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(t.symbol)+t._s(Math.round(t.totalAmount))+" ")])])]),t._v(" "),t._l(t.records,(function(e,s){return a("tr",{key:s,staticClass:"datatable__row"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.user_username?e.user_username:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.user_email?e.user_email:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.$t("LBL_NO")))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.order_formt_date?e.order_formt_date:0))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s("1"))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.symbol)+" "+t._s(e.order_net_amount?e.order_net_amount:0))])])])}))],2)])]):t._e(),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),0==t.loading&&0==t.records.length?a("noRecordsFound"):t._e()],1)}),[function(){var t=this._self._c;return t("td",{staticClass:"datatable__cell"},[t("span")])},function(){var t=this._self._c;return t("td",{staticClass:"datatable__cell"},[t("span")])},function(){var t=this._self._c;return t("td",{staticClass:"datatable__cell"},[t("span")])}],!1,null,null,null).exports,h=e("gERr").a,p=Object(n.a)(h,(function(){var t=this,a=t._self._c;return a("div",[t.records.length>0?a("div",{staticClass:"datatable datatable--default datatable--brand datatable--loaded",attrs:{id:"returningCustomer"}},[a("table",{staticClass:"datatable__table"},[a("thead",{staticClass:"datatable__head datatable__head-fixed"},[a("tr",{staticClass:"datatable__row"},[a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["user_username"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("user_username")}}},[a("span",[t._v(t._s(t.$t("LBL_CUSTOMER_NAME"))+"\n                            "),"user_username"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_CUSTOMER_EMAIL")))])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_ACCEPT_MARKETING")))])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort"},[a("span",[t._v(t._s(t.$t("LBL_FIRST_ORDER_DAY")))])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["order_count"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("order_count")}}},[a("span",[t._v(t._s(t.$t("LBL_ORDER_TO_DATE"))+"\n                            "),"order_count"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",class:["order_amount"==t.sortingBy?"datatable__cell--sorted":""],on:{click:function(a){return t.sortBy("order_amount")}}},[a("span",[t._v(t._s(t.$t("LBL_TOTAL_SPENT_TO_DATE"))+"\n                            "),"order_amount"==t.sortingBy?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])])])]),t._v(" "),a("tbody",{staticClass:"datatable__body"},[a("tr",{staticClass:"datatable__row datatable__row-highlighted"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.$t("LBL_SUMMARY")))])]),t._v(" "),a("td",{staticClass:"datatable__cell"}),t._v(" "),a("td",{staticClass:"datatable__cell"}),t._v(" "),a("td",{staticClass:"datatable__cell"}),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(t.TotalOrderToDate)+" ")])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(" "+t._s(t.symbol)+" "+t._s(Math.round(t.totalAmount))+" ")])])]),t._v(" "),t._l(t.records,(function(e,s){return a("tr",{key:s,staticClass:"datatable__row"},[a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.user_username?e.user_username:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.user_email?e.user_email:""))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.$t("LBL_NO")))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.order_formt_date?e.order_formt_date:0))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(e.order_count))])]),t._v(" "),a("td",{staticClass:"datatable__cell"},[a("span",[t._v(t._s(t.symbol)+" "+t._s(e.order_amount?e.order_amount:0))])])])}))],2)])]):t._e(),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),0==t.loading&&0==t.records.length?a("noRecordsFound"):t._e()],1)}),[],!1,null,null,null).exports,m={dateRange:[]},b={components:{DatePicker:s.a,customerOverTime:o,firstTimeVsReturnCustomer:l,locationCustomer:_,oneTimeCustomer:u,returningCustomer:p},data:function(){return{exportFields:{},exportData:[],searchData:m,isDisabled:!0,currentActionTab:"customerOverTime",symbol:"",installationDate:""}},methods:{setExportFields:function(t){this.exportFields=t},setExportData:function(t){this.exportData=t,this.isDisabled=!(t.length>0)},setDate:function(t){this.searchData.dateRange=t},searchCustomerRecords:function(){switch(this.currentActionTab){case"customerOverTime":this.$refs.customerOverTime.searchRecords(this.searchData.dateRange);break;case"firstTimeVsReturn":this.$refs.firstTimeVsReturn.searchRecords(this.searchData.dateRange);break;case"locationCustomer":this.$refs.locationCustomer.searchRecords(this.searchData.dateRange);break;case"oneTimeCustomer":this.$refs.oneTimeCustomer.searchRecords(this.searchData.dateRange);break;case"returningCustomer":this.$refs.returningCustomer.searchRecords(this.searchData.dateRange)}},setInstallationDate:function(t){this.installationDate=t},disabledDates:function(t){if(""!=this.installationDate)return t<new Date(this.installationDate)||t>new Date},printReport:function(){switch(this.currentActionTab){case"customerOverTime":this.$refs.customerOverTime.printCustomerReport();break;case"firstTimeVsReturn":this.$refs.firstTimeVsReturn.printCustomerReport();break;case"locationCustomer":this.$refs.locationCustomer.printCustomerData();break;case"oneTimeCustomer":this.$refs.oneTimeCustomer.printCustomerData();break;case"returningCustomer":this.$refs.returningCustomer.printCustomerData()}},switchTab:function(t){this.currentActionTab=t}}},f=Object(n.a)(b,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"subheader grid__item",attrs:{id:"subheader"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"subheader__main"},[a("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_CUSTOMER_REPORT"))+" ")]),t._v(" "),a("div",{staticClass:"subheader__breadcrumbs"},[a("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[a("i",{staticClass:"flaticon2-shelter"})]),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-link"},[t._v("\n                        "+t._s(t.$t("LBL_REPORTS"))+"\n                    ")]),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_CUSTOMER_REPORT")))])],1)]),t._v(" "),a("div",{staticClass:"subheader__toolbar"},[a("div",{staticClass:"subheader__wrapper"},[a("date-picker",{staticClass:"custom-date-range",attrs:{type:"date",range:"","value-type":"format",format:"YYYY-MM-DD",placeholder:"Select date","disabled-date":t.disabledDates},on:{change:t.searchCustomerRecords},model:{value:t.searchData.dateRange,callback:function(a){t.$set(t.searchData,"dateRange",a)},expression:"searchData.dateRange"}}),t._v(" "),a("export-excel",{attrs:{data:t.exportData,fields:t.exportFields,name:t.currentActionTab}},[a("button",{staticClass:"btn btn-subheader YK-exportBtn",attrs:{type:"button",disabled:t.isDisabled||!t.$canWrite("CUSTOMER_REPORT")}},[t._v(t._s(t.$t("BTN_EXPORT")))])]),t._v(" "),a("button",{staticClass:"btn btn-subheader YK-printBtn",attrs:{type:"button",disabled:t.isDisabled||!t.$canWrite("CUSTOMER_REPORT")},on:{click:t.printReport}},[t._v(t._s(t.$t("BTN_PRINT")))])],1)])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"portlet portlet--tabs"},[a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-toolbar"},[a("ul",{staticClass:"nav nav-tabs nav-tabs-line nav-tabs-line-danger nav-tabs-line-2x nav-tabs-line-right nav-tabs-bold",attrs:{role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#portlet_tab_content_1",role:"tab","aria-selected":"false"},on:{click:function(a){return t.switchTab("customerOverTime")}}},[t._v(t._s(t.$t("LNK_CUSTOMER_OVER_TIME")))])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#portlet_tab_content_2",role:"tab","aria-selected":"true"},on:{click:function(a){return t.switchTab("firstTimeVsReturn")}}},[t._v(t._s(t.$t("LNK_FIRST_TIME_VS_RETURN_CUSTOMER"))+" ")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#portlet_tab_content_3",role:"tab","aria-selected":"false"},on:{click:function(a){return t.switchTab("locationCustomer")}}},[t._v(" "+t._s(t.$t("LNK_LOCATION_CUSTOMER")))])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#portlet_tab_content_4",role:"tab","aria-selected":"false"},on:{click:function(a){return t.switchTab("oneTimeCustomer")}}},[t._v(t._s(t.$t("LNK_ONE_TIME_CUSTOMER")))])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#portlet_tab_content_5",role:"tab","aria-selected":"false"},on:{click:function(a){return t.switchTab("returningCustomer")}}},[t._v(t._s(t.$t("LNK_RETURNING_CUSTOMER")))])])])])]),t._v(" "),a("div",{staticClass:"portlet__body portlet__body--fit"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane active",attrs:{id:"portlet_tab_content_1",role:"tabpanel"}},["customerOverTime"==t.currentActionTab?a("customerOverTime",{ref:"customerOverTime",attrs:{dateRange:t.searchData.dateRange},on:{exportExcelFields:t.setExportFields,exportExcelData:t.setExportData,setDate:t.setDate,installationDate:t.setInstallationDate}}):t._e()],1),t._v(" "),a("div",{staticClass:"tab-pane",attrs:{id:"portlet_tab_content_2",role:"tabpanel"}},["firstTimeVsReturn"==t.currentActionTab?a("firstTimeVsReturnCustomer",{ref:"firstTimeVsReturn",attrs:{dateRange:t.searchData.dateRange},on:{exportExcelFields:t.setExportFields,exportExcelData:t.setExportData,installationDate:t.setInstallationDate,setDate:t.setDate}}):t._e()],1),t._v(" "),a("div",{staticClass:"tab-pane",attrs:{id:"portlet_tab_content_3",role:"tabpanel"}},["locationCustomer"==t.currentActionTab?a("locationCustomer",{ref:"locationCustomer",attrs:{dateRange:t.searchData.dateRange},on:{exportExcelFields:t.setExportFields,exportExcelData:t.setExportData,setDate:t.setDate,installationDate:t.setInstallationDate}}):t._e()],1),t._v(" "),a("div",{staticClass:"tab-pane",attrs:{id:"portlet_tab_content_4",role:"tabpanel"}},["oneTimeCustomer"==t.currentActionTab?a("oneTimeCustomer",{ref:"oneTimeCustomer",attrs:{dateRange:t.searchData.dateRange},on:{exportExcelFields:t.setExportFields,exportExcelData:t.setExportData,setDate:t.setDate,installationDate:t.setInstallationDate}}):t._e()],1),t._v(" "),a("div",{staticClass:"tab-pane",attrs:{id:"portlet_tab_content_5",role:"tabpanel"}},["returningCustomer"==t.currentActionTab?a("returningCustomer",{ref:"returningCustomer",attrs:{dateRange:t.searchData.dateRange},on:{exportExcelFields:t.setExportFields,exportExcelData:t.setExportData,setDate:t.setDate,installationDate:t.setInstallationDate}}):t._e()],1)])])])])])])])}),[],!1,null,null,null);a.default=f.exports},EAFt:function(t,a,e){"use strict";(function(t){var s=e("I6zx"),r=e.n(s),n={dateRange:[]};a.a={props:["dateRange"],components:{"vue-chartist":r.a},data:function(){return{chartData:{labels:[],series:[]},options:{fullWidth:!0,showArea:!0,onlyInteger:!0,showPoint:!1,axisY:{showGrid:!0},axisX:{showGrid:!0}},exportFields:{Month:"month","Customer Type":"customer_type",Orders:"order_count","Total spent to date":"amount"},exportData:[],baseUrl:baseUrl,searchData:n,orderDetail:{},records:[],loading:!1,currentSort:"",currentSortDir:""}},methods:{searchRecords:function(t){this.searchData.dateRange=t,this.customerOverTime()},emitExportFieldsToParent:function(){this.$emit("exportExcelFields",this.exportFields)},emitExportDataToParent:function(){this.$emit("exportExcelData",this.exportData)},emitDateRange:function(){this.$emit("setDate",this.searchData.dateRange)},printCustomerReport:function(){this.$htmlToPaper("customerOverTimeReport")},customerOverTime:function(){var a=this;this.loading=!0;var e=this.$serializeData(this.searchData);this.$http.post(adminBaseUrl+"/reports/get-customer-over-time",e).then((function(e){if(0==e.data.status)return a.loading=!1,void t.error(e.data.message,"",t.options);a.chartData.labels=e.data.data.labels,a.chartData.series=[],a.chartData.series.push(e.data.data.series[0]),a.chartData.series.push(e.data.data.series[1]),a.records=e.data.data.data,a.exportData=e.data.data.data,a.searchData.dateRange=e.data.data.dateRange,a.loading=!1,a.emitExportFieldsToParent(),a.emitExportDataToParent(),a.emitDateRange()}))},sort:function(t){t===this.currentSort?this.currentSortDir="asc"===this.currentSortDir?"desc":"asc":this.currentSortDir="desc",this.currentSort=t}},mounted:function(){""!=installationDate&&this.$emit("installationDate",installationDate),null!=this.dateRange&&(this.searchData.dateRange=this.dateRange),this.customerOverTime()},computed:{TotalFirstTimeOrder:function(){return this.records.reduce((function(t,a){return t+parseInt(a.first_time_customer)}),0)},TotalReturningOrder:function(){return this.records.reduce((function(t,a){return t+parseInt(a.returning_time_customer)}),0)},sortlisting:function(){var t=this;return this.records.sort((function(a,e){var s=1;return"desc"===t.currentSortDir&&(s=-1),a[t.currentSort]<e[t.currentSort]?-1*s:a[t.currentSort]>e[t.currentSort]?1*s:0}))}}}}).call(this,e("hUol"))},I6zx:function(t,a,e){var s;t.exports=(s=e("uki+"),function(t){function a(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var e={};return a.m=t,a.c=e,a.i=function(t){return t},a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=2)}([function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(1),r=e.n(s),n=e(4),o=e(3)(r.a,n.a,null,null,null);o.options.__file="src/vue-chartist.vue",o.esModule&&Object.keys(o.esModule).some((function(t){return"default"!==t&&"__"!==t.substr(0,2)}))&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] vue-chartist.vue: functional components are not supported with templates, they should use render functions."),a.default=o.exports},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=function(t){return t&&t.__esModule?t:{default:t}}(e(5));a.default={name:"vue-chartist",props:{type:{type:String,validator:function(t){return"Pie"===t||"Line"===t||"Bar"===t},default:function(){return"Line"}},data:{type:Object,required:!0},options:{type:Object},listener:{type:Object},responsiveOptions:{type:Array}},data:function(){return{chartist:void 0}},methods:{updateEventListener:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"on";for(var e in t=t||{})t.hasOwnProperty(e)&&this.chartist[a](e,t[e])},renderChart:function(){var t=this.data,a=this.options?this.options:{},e=this.responsiveOptions?this.responsiveOptions:[];this.chartist?this.chartist.update(t,a,e):(this.chartist=new s.default[this.type](this.$el,t,a,e),this.updateEventListener(this.listener,"on"))}},watch:{data:{handler:"renderChart",deep:!0},options:{handler:"renderChart",deep:!0},responsiveOptions:{handler:"renderChart",deep:!0},listener:function(t,a){this.updateEventListener(a,"off"),this.updateEventListener(t,"on")}},mounted:function(){this.renderChart()},destroyed:function(){this.chartist&&this.chartist.detach()}}},function(t,a,e){"use strict";var s=function(t){return t&&t.__esModule?t:{default:t}}(e(0));t.exports=s.default},function(t,a){t.exports=function(t,a,e,s,r){var n,o=t=t||{},i=typeof t.default;"object"!==i&&"function"!==i||(n=t,o=t.default);var l,c="function"==typeof o?o.options:o;if(a&&(c.render=a.render,c.staticRenderFns=a.staticRenderFns),s&&(c._scopeId=s),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):e&&(l=e),l){var _=c.functional,d=_?c.render:c.beforeCreate;_?c.render=function(t,a){return l.call(a),d(t,a)}:c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:n,exports:o,options:c}}},function(t,a,e){"use strict";var s=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"v-chartist-container"})};s._withStripped=!0;var r={render:s,staticRenderFns:[]};a.a=r},function(t,a){t.exports=s}]))},gERr:function(t,a,e){"use strict";(function(t){var e={search:"",dateRange:[]};a.a={props:["dateRange"],data:function(){return{baseUrl:baseUrl,searchData:e,records:[],exportFields:{"Customer name":"user_name","Customer email":"user_email","Accepts marketing":" ","First order day":"order_formt_date","Order to date":"order_count","Total spent to date":"order_amount"},exportData:[],summary:{},loading:!1,type:"returningCustomer",symbol:"",sortingType:"",sortingBy:""}},methods:{searchRecords:function(t){this.searchData.dateRange=t,this.getCustomerData()},emitExportFieldsToParent:function(){this.$emit("exportExcelFields",this.exportFields)},emitExportDataToParent:function(){this.$emit("exportExcelData",this.exportData)},emitDateRange:function(){this.$emit("setDate",this.searchData.dateRange)},getCustomerData:function(){var a=this;this.loading=!0;var e=this.$serializeData(this.searchData);e.append("sorting-by",this.sortingBy),e.append("sorting-type",this.sortingType),e.append("type",this.type),this.$http.post(adminBaseUrl+"/reports/get-customer-report",e).then((function(e){if(0==e.data.status)return a.loading=!1,void t.error(e.data.message,"",t.options);a.records=e.data.data.data,a.exportData=e.data.data.data,a.searchData.dateRange=e.data.data.dateRange,a.loading=!1,a.emitExportFieldsToParent(),a.emitExportDataToParent(),a.emitDateRange()}))},sortBy:function(t){""==this.sortingType||"desc"==this.sortingType||this.sortingBy!=t?this.sortingType="asc":this.sortingType="desc",this.sortingBy=t,this.getCustomerData()},printCustomerData:function(){this.$htmlToPaper("returningCustomer")}},mounted:function(){""!=installationDate&&this.$emit("installationDate",installationDate),this.symbol=currencySymbol,this.searchData.dateRange=this.dateRange,this.getCustomerData()},computed:{TotalOrderToDate:function(){return this.records.reduce((function(t,a){return t+a.order_count}),0)},totalAmount:function(){return this.records.reduce((function(t,a){return t+parseInt(a.order_amount)}),0)}}}}).call(this,e("hUol"))}}]);