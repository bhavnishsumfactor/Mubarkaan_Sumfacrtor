(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"2TOQ":function(a,t,e){var s=e("g7ZM");"string"==typeof s&&(s=[[a.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,i);s.locals&&(a.exports=s.locals)},C1W2:function(a,t,e){"use strict";(function(a){t.a={props:["tab"],data:function(){return{adminBaseUrl:adminBaseUrl,baseUrl:baseUrl,croppedImage:"",croppedImageView:"",originalImage:"",uploadedFile:"",noImage:"",userFullname:"",roleName:"",admin_id:""}},methods:{getUser:function(){var a=this;this.$http.get(adminBaseUrl+"/get-user").then((function(t){a.roleName="Super Admin",null!=t.data.data.admin_role_id&&(a.roleName=t.data.data.admin_role.role_name),a.noImage=t.data.noImage,a.userFullname=t.data.data.admin_name,a.admin_id=t.data.data.admin_id,""!=t.data.data.admin_profile_image.afile_record_id?a.croppedImage=a.croppedImageView=a.$getFileUrl("profileImage",t.data.data.admin_profile_image.afile_record_id,0,"120-120")+"/"+a.$rndStr():a.croppedImage=a.uploadedFile="",a.originalImage=a.uploadedFile=a.$getFileUrl("profileImage",t.data.data.admin_profile_image.afile_record_id)+"/"+a.$rndStr()}))},setImage:function(a,t){this.croppedImage=a,this.croppedImageView=URL.createObjectURL(a),""==t&&this.uploadImage()},setActualImage:function(a){"string"!=typeof a?(this.originalImage=URL.createObjectURL(a),this.uploadedFile=a):this.uploadedFile=this.originalImage=a,this.uploadImage()},uploadImage:function(){var t=this,e=new FormData;e.append("actualImage",this.uploadedFile),e.append("cropImage",this.croppedImage),this.$root.$emit("adminImage",this.croppedImageView),this.$http.post(adminBaseUrl+"/update-profile-image/"+this.admin_id,e).then((function(t){a.success(t.data.success,"",{timeOut:5e3})}),(function(a){t.validateErrors(a)}))},logout:function(){var a=this;this.$http.get(adminBaseUrl+"/logout").then((function(t){a.$router.go()}))}},mounted:function(){this.getUser()}}}).call(this,e("hUol"))},GTaw:function(a,t,e){"use strict";(function(a,s){var i=e("lETt");a.http.headers.common["content-type"]="application/x-www-form-urlencoded";var n={admin_id:"",admin_name:"",admin_username:"",admin_email:"",admin_phone_country_id:"",admin_phone:"",role_name:"",admin_default_lang:"",admin_default_timezone:""};t.a={components:{"profile-sidebar":i.a},data:function(){return{countries:[],langRecords:[],timeZoneRecords:[],appName:"",adminsData:n,clicked:0,defaultCountryCode:"",countryCode:"",unmaskedPhoneNumber:""}},computed:{isComplete:function(){return this.adminsData.admin_name}},methods:{getUser:function(){var a=this;this.$http.get(adminBaseUrl+"/get-user").then((function(t){var e="Super Admin";null!=t.data.data.admin_role_id&&(e=t.data.data.admin_role.role_name),a.langRecords=t.data.lang,a.countries=t.data.countries,a.appName=t.data.appName,a.timeZoneRecords=t.data.timezone,a.adminsData=t.data.data,a.adminsData.admin_default_timezone=null!=a.adminsData.admin_default_timezone?a.adminsData.admin_default_timezone:"",a.adminsData.admin_phone_country_id=t.data.data.admin_phone_country_id,a.adminsData.role_name=e,a.defaultCountryCode=t.data.data.country_code?t.data.data.country_code.toLowerCase():"us"}))},editUser:function(){var a=this;this.$validator.validateAll().then((function(t){if(t){var e=a.adminsData;""!=e.id&&a.updateUser(e)}}))},updateUser:function(a){var t=this;""!=this.unmaskedPhoneNumber&&(a.admin_phone=this.unmaskedPhoneNumber),this.clicked=1;var e=this.$serializeData(a);e.append("country_code",this.countryCode),this.$http.post(adminBaseUrl+"/edit-profile/"+a.admin_id,e).then((function(a){t.clicked=0,t.getUser(),localStorage.setItem("timezone",t.adminsData.admin_default_timezone),s.success(a.data.success,"",{timeOut:5e3})}),(function(a){t.validateErrors(a),t.clicked=0}))},validateErrors:function(a){var t=this,e=a.data;Object.keys(e.errors).forEach((function(a){t.errors.add({field:a,msg:e.errors[a][0]})}))},changeCountry:function(a){this.countryCode=a.iso2},onPhoneNumberChange:function(a,t){this.countryCode=t.country.iso2,this.unmaskedPhoneNumber=t.number.significant}},mounted:function(){this.getUser()}}}).call(this,e("XuX8"),e("hUol"))},P4Gc:function(a,t,e){"use strict";e("2TOQ")},QUU9:function(a,t,e){"use strict";e.r(t);var s=e("GTaw").a,i=(e("P4Gc"),e("KHd+")),n=Object(i.a)(s,(function(){var a=this,t=a._self._c;return t("div",[t("div",{staticClass:"subheader",attrs:{id:"subheader"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"subheader__main"},[t("h3",{staticClass:"subheader__title"},[a._v(a._s(a.$t("LBL_EDIT_PROFILE")))]),a._v(" "),t("div",{staticClass:"subheader__breadcrumbs"},[t("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[t("i",{staticClass:"flaticon2-shelter"})]),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-link"},[a._v(a._s(a.$t("LBL_EDIT_PROFILE")))])],1)])])]),a._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"grid-layout"},[a._m(0),a._v(" "),t("profile-sidebar",{attrs:{tab:"editProfile"}}),a._v(" "),t("div",{staticClass:"grid-layout-content"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xl-12"},[t("div",{staticClass:"portlet portlet--height-fluid"},[t("div",{staticClass:"portlet__body"},[t("div",{staticClass:"section"},[t("div",{staticClass:"section__body"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-md-8"},[t("form",{staticClass:"form form--label-right"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_id,expression:"adminsData.admin_id"}],attrs:{type:"hidden",name:"id"},domProps:{value:a.adminsData.admin_id},on:{input:function(t){t.target.composing||a.$set(a.adminsData,"admin_id",t.target.value)}}}),a._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_FULL_NAME"))+" "),t("span",{staticClass:"required"},[a._v("*")])]),a._v(" "),t("div",{staticClass:"col-lg-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_name,expression:"adminsData.admin_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"name","data-vv-validate-on":"none"},domProps:{value:a.adminsData.admin_name},on:{input:function(t){t.target.composing||a.$set(a.adminsData,"admin_name",t.target.value)}}}),a._v(" "),a.errors.first("name")?t("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("name")))]):a._e()])]),a._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_USERNAME")))]),a._v(" "),t("div",{staticClass:"col-lg-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_username,expression:"adminsData.admin_username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"username","data-vv-validate-on":"none",disabled:""},domProps:{value:a.adminsData.admin_username},on:{input:function(t){t.target.composing||a.$set(a.adminsData,"admin_username",t.target.value)}}}),a._v(" "),a.errors.first("username")?t("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("username")))]):a._e()])]),a._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_EMAIL_ADDRESS")))]),a._v(" "),t("div",{staticClass:"col-lg-9"},[t("div",{staticClass:"input-group"},[a._m(1),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_email,expression:"adminsData.admin_email"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"email",disabled:!0,"data-vv-validate-on":"none","aria-describedby":"basic-addon1"},domProps:{value:a.adminsData.admin_email},on:{input:function(t){t.target.composing||a.$set(a.adminsData,"admin_email",t.target.value)}}})]),a._v(" "),a.errors.first("email")?t("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("email")))]):a._e()])]),a._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_PHONE")))]),a._v(" "),t("div",{staticClass:"col-lg-9"},[t("div",{staticClass:"input-group"},[""!=a.defaultCountryCode?t("vue-tel-input",{attrs:{defaultCountry:a.defaultCountryCode,enabledCountryCode:!0,inputClasses:"form-control",placeholder:"Enter a phone number",validCharactersOnly:!0},on:{"country-changed":a.changeCountry,input:a.onPhoneNumberChange},model:{value:a.adminsData.admin_phone,callback:function(t){a.$set(a.adminsData,"admin_phone",t)},expression:"adminsData.admin_phone"}}):a._e()],1),a._v(" "),a.errors.first("admin_phone")?t("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_phone")))]):a._e()])]),a._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_PREFERRED_LANGUAGE")))]),a._v(" "),t("div",{staticClass:"col-lg-9"},[t("div",{staticClass:"input-group"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_default_lang,expression:"adminsData.admin_default_lang"}],staticClass:"form-control",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.adminsData,"admin_default_lang",t.target.multiple?e:e[0])}}},a._l(a.langRecords,(function(e){return t("option",{key:e.lang_id,domProps:{value:e.lang_id}},[a._v(a._s(e.lang_name))])})),0)]),a._v(" "),t("span",{staticClass:"form-text text-muted"},[a._v(a._s(a.$t("LBL_WHEN_YOU_ARE_LOGGEDIN"))+" "+a._s(a.appName)+", "+a._s(a.$t("LBL_THIS_LANGUAGE_WILL_BE_DISPLAYED")))])])]),a._v(" "),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_TIMEZONE")))]),a._v(" "),t("div",{staticClass:"col-lg-9"},[t("div",{staticClass:"input-group"},[t("select",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_default_timezone,expression:"adminsData.admin_default_timezone"}],staticClass:"form-control",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.adminsData,"admin_default_timezone",t.target.multiple?e:e[0])}}},[t("option",{domProps:{value:""}},[a._v(a._s(a.$t("LBL_SELECT_TIMEZONE")))]),a._v(" "),a._l(a.timeZoneRecords,(function(e){return t("option",{key:e,domProps:{value:e}},[a._v(a._s(e))])}))],2)])])])])])])])])]),a._v(" "),t("div",{staticClass:"portlet__foot"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-auto"},[t("button",{staticClass:"btn btn-brand btn-wide gb-btn gb-btn-primary",class:1==a.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!a.isComplete||1==a.clicked},on:{click:a.editUser}},[a._v(a._s(a.$t("BTN_SUBMIT")))]),a._v(" \n                                    ")])])])])])])])],1)])])}),[function(){var a=this._self._c;return a("button",{staticClass:"grid-layout-close",attrs:{id:"user_profile_aside_close"}},[a("i",{staticClass:"la la-close"})])},function(){var a=this._self._c;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fas fa-envelope"})])])}],!1,null,"5ef95b44",null);t.default=n.exports},g7ZM:function(a,t,e){(a.exports=e("I1BE")(!1)).push([a.i,"\n.vue-tel-input[data-v-5ef95b44] {\n    flex: 1;\n}\n",""])},lETt:function(a,t,e){"use strict";var s=e("C1W2").a,i=e("KHd+"),n=Object(i.a)(s,(function(){var a=this,t=a._self._c;return t("div",{staticClass:"grid-layout-aside",attrs:{id:"user_profile_aside"}},[t("div",{staticClass:"portlet portlet--height-fluid"},[t("div",{staticClass:"portlet__body"},[t("div",{staticClass:"widget widget--user-profile-1"},[t("div",{staticClass:"widget__head"},[t("div",{staticClass:"widget__media"},[t("div",{staticClass:"avatar avatar--outline",attrs:{id:"user_avatar"}},[t("div",{staticClass:"avatar__holder",style:{backgroundImage:"url("+a.croppedImageView+")"}}),a._v(" "),t("cropper",{ref:"cropperRef",attrs:{title:"Admin Profile Image",aspectRatio:1,width:250,height:250},on:{childToParent:a.setImage,actualImageToParent:a.setActualImage}}),a._v(" "),t("img",{staticStyle:{display:"none"},attrs:{src:a.originalImage,id:"originalImage"}})],1)]),a._v(" "),t("div",{staticClass:"widget__content"},[t("div",{staticClass:"widget__section"},[t("h3",{staticClass:"widget__username"},[a._v("\n                                "+a._s(a.userFullname)+"\n                            ")]),a._v(" "),t("span",{staticClass:"widget__subtitle pb-3"},[a._v("\n                                "+a._s(a.roleName)+"\n                            ")]),a._v(" "),t("a",{staticClass:"logout-button",attrs:{href:"javascript:void(0);"},on:{click:a.logout}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"15.4px",height:"16.3px",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 198.715 198.715","xml:space":"preserve"}},[t("g",[t("path",{attrs:{d:"M161.463,48.763c-2.929-2.929-7.677-2.929-10.607,0c-2.929,2.929-2.929,7.677,0,10.606   c13.763,13.763,21.342,32.062,21.342,51.526c0,19.463-7.579,37.761-21.342,51.523c-14.203,14.204-32.857,21.305-51.516,21.303   c-18.659-0.001-37.322-7.104-51.527-21.309c-28.405-28.405-28.402-74.625,0.005-103.032c2.929-2.929,2.929-7.678,0-10.606   c-2.929-2.929-7.677-2.929-10.607,0C2.956,83.029,2.953,138.766,37.206,173.019c17.132,17.132,39.632,25.697,62.135,25.696   c22.497-0.001,44.997-8.564,62.123-25.69c16.595-16.594,25.734-38.659,25.734-62.129C187.199,87.425,178.059,65.359,161.463,48.763   z"}}),a._v(" "),t("path",{attrs:{d:"M99.332,97.164c4.143,0,7.5-3.358,7.5-7.5V7.5c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v82.164   C91.832,93.807,95.189,97.164,99.332,97.164z"}})])]),a._v("\n\n                                "+a._s(a.$t("LNK_LOGOUT"))+"\n                            ")])])])]),a._v(" "),t("div",{staticClass:"widget__body"},[t("div",{staticClass:"widget__items"},[t("router-link",{staticClass:"widget__item",class:["editProfile"==a.tab?"widget__item--active":""],attrs:{to:{name:"editProfile"}}},[t("span",{staticClass:"widget__section"},[t("span",{staticClass:"widget__icon"},[t("svg",{staticClass:"svg-icon"},[t("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#personal-info",href:a.baseUrl+"/admin/images/retina/sprite.svg#personal-info"}})])]),a._v(" "),t("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_PERSONAL_INFORMATION"))+"\n                                ")])])]),a._v(" "),t("router-link",{staticClass:"widget__item",class:["changePassword"==a.tab?"widget__item--active":""],attrs:{to:{name:"changePassword"}}},[t("span",{staticClass:"widget__section"},[t("span",{staticClass:"widget__icon"},[t("svg",{staticClass:"svg-icon"},[t("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#change-password",href:a.baseUrl+"/admin/images/retina/sprite.svg#change-password"}})])]),a._v(" "),t("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_CHANGE_PASSWORD"))+"\n                                ")])])]),a._v(" "),t("router-link",{staticClass:"widget__item",class:["editEmail"==a.tab?"widget__item--active":""],attrs:{to:{name:"editEmailAddress"}}},[t("span",{staticClass:"widget__section"},[t("span",{staticClass:"widget__icon"},[t("svg",{staticClass:"svg-icon"},[t("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#change-email",href:a.baseUrl+"/admin/images/retina/sprite.svg#change-email"}})])]),a._v(" "),t("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_CHANGE_EMAIL"))+"\n                                ")])])])],1)])])])])])}),[],!1,null,null,null);t.a=n.exports}}]);