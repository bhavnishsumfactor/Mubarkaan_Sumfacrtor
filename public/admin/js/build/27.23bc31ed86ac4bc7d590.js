(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"0ffA":function(a,s,t){(a.exports=t("I1BE")(!1)).push([a.i,"\n.vue-tel-input[data-v-25bd63c3] {\n    flex: 1;\n}\n",""])},"5zv3":function(a,s,t){var i=t("0ffA");"string"==typeof i&&(i=[[a.i,i,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};t("aET+")(i,e);i.locals&&(a.exports=i.locals)},Udq6:function(a,s,t){"use strict";t("5zv3")},gVEi:function(a,s,t){"use strict";t.r(s);var i=t("ye4H").a,e=(t("Udq6"),t("KHd+")),n=Object(e.a)(i,(function(){var a=this,s=a._self._c;return s("div",[s("div",{staticClass:"subheader",attrs:{id:"subheader"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"subheader__main"},[s("h3",{staticClass:"subheader__title"},[a._v(a._s(a.$t("LBL_SUB_ADMIN_SETUP")))]),a._v(" "),s("div",{staticClass:"subheader__breadcrumbs"},[s("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[s("i",{staticClass:"flaticon2-shelter"})]),a._v(" "),s("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),s("span",{staticClass:"subheader__breadcrumbs-link"},[a._v(a._s(a.$t("LBL_USERS")))]),a._v(" "),s("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),s("router-link",{staticClass:"subheader__breadcrumbs-link",attrs:{to:{name:"subAdmins"}}},[a._v(a._s(a.$t("LBL_SUB_ADMINS")))]),a._v(" "),s("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),s("span",{staticClass:"subheader__breadcrumbs-link"},[a._v(a._s(a.$t("LBL_SETUP")))])],1)])])]),a._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center",attrs:{id:"manage-admins"}},[s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"portlet portlet-no-min-height",attrs:{id:"page_portlet"}},[s("div",{staticClass:"portlet__body"},[s("div",{staticClass:"form-group row justify-content-center"},[s("label",{staticClass:"col-lg-3"},[a._v("\n                                "+a._s(a.$t("LBL_ADMIN_NAME"))+"\n                                "),s("span",{staticClass:"required"},[a._v("*")])]),a._v(" "),s("div",{staticClass:"col-lg-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_name,expression:"adminsData.admin_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"admin_name","data-vv-as":a.$t("LBL_ADMIN_NAME"),"data-vv-validate-on":"none"},domProps:{value:a.adminsData.admin_name},on:{input:function(s){s.target.composing||a.$set(a.adminsData,"admin_name",s.target.value)}}}),a._v(" "),a.errors.first("admin_name")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_name")))]):a._e()])]),a._v(" "),s("div",{staticClass:"form-group row justify-content-center"},[s("label",{staticClass:"col-lg-3"},[a._v("\n                                "+a._s(a.$t("LBL_ADMIN_USERNAME"))+"\n                                "),s("span",{staticClass:"required"},[a._v("*")])]),a._v(" "),s("div",{staticClass:"col-lg-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_username,expression:"adminsData.admin_username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"admin_username","data-vv-as":a.$t("LBL_ADMIN_USERNAME"),"data-vv-validate-on":"none"},domProps:{value:a.adminsData.admin_username},on:{input:function(s){s.target.composing||a.$set(a.adminsData,"admin_username",s.target.value)}}}),a._v(" "),a.errors.first("admin_username")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_username")))]):a._e()])]),a._v(" "),s("div",{staticClass:"form-group row justify-content-center"},[s("label",{staticClass:"col-lg-3"},[a._v("\n                                "+a._s(a.$t("LBL_ADMIN_PHONE"))+"\n                                "),s("span",{staticClass:"required"},[a._v("*")])]),a._v(" "),s("div",{staticClass:"col-lg-5"},[""!=a.defaultCountryCode?s("vue-tel-input",{attrs:{defaultCountry:a.defaultCountryCode,enabledCountryCode:!0,inputClasses:"form-control",placeholder:a.$t("PLH_ENTER_PHONE_NUMBER"),validCharactersOnly:!0},on:{"country-changed":a.changeCountry,input:a.onPhoneNumberChange},model:{value:a.adminsData.admin_phone,callback:function(s){a.$set(a.adminsData,"admin_phone",s)},expression:"adminsData.admin_phone"}}):a._e(),a._v(" "),a.errors.first("admin_phone")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_phone")))]):a._e(),a._v(" "),a.errors.first("admin_phone_country_id")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_phone_country_id")))]):a._e()],1)]),a._v(" "),s("div",{staticClass:"form-group row justify-content-center"},[s("label",{staticClass:"col-lg-3"},[a._v("\n                                "+a._s(a.$t("LBL_ADMIN_EMAIL"))+"\n                                "),s("span",{staticClass:"required"},[a._v("*")])]),a._v(" "),s("div",{staticClass:"col-lg-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_email,expression:"adminsData.admin_email"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"email",name:"admin_email","data-vv-as":a.$t("LBL_ADMIN_EMAIL"),"data-vv-validate-on":"none"},domProps:{value:a.adminsData.admin_email},on:{input:function(s){s.target.composing||a.$set(a.adminsData,"admin_email",s.target.value)}}}),a._v(" "),a.errors.first("admin_email")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_email")))]):a._e()])]),a._v(" "),s("div",{staticClass:"form-group row justify-content-center"},[s("label",{staticClass:"col-lg-3"},[a._v("\n                                "+a._s(a.$t("LBL_ADMIN_PASSWORD"))+"\n                                "),s("span",{staticClass:"required"},[a._v("*")])]),a._v(" "),s("div",{staticClass:"col-lg-5"},[s("div",{staticClass:"input-icon input-icon--right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_password,expression:"adminsData.admin_password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"password",staticClass:"form-control",attrs:{type:"password",name:"admin_password","data-vv-as":a.$t("LBL_ADMIN_PASSWORD"),"data-vv-validate-on":"none"},domProps:{value:a.adminsData.admin_password},on:{focus:function(s){a.pswd_info=1},blur:function(s){a.pswd_info=0},keyup:function(s){return a.onPasswordInput(s)},input:function(s){s.target.composing||a.$set(a.adminsData,"admin_password",s.target.value)}}}),a._v(" "),Object.values(a.passwordValidate).includes(!1)?a._e():s("div",{staticClass:"input-icon__icon input-icon__icon--right"},[s("span",[s("i",{staticClass:"password-toggle"},[s("img",{attrs:{src:a.baseUrl+"/admin/images/retina/check.svg",width:"16px",height:"16px"}})])])]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.pswd_info,expression:"pswd_info"}],attrs:{id:"pswd_info"}},[s("h4",[a._v(a._s(a.$t("LBL_PASSWORD_MUST_CONTAIN"))+":")]),a._v(" "),s("ul",[s("li",{class:[!0===a.passwordValidate.length?"valid":"invalid"],attrs:{id:"length"}},[a._v(a._s(a.$t("MSG_VALIDATE_LENGTH")))]),a._v(" "),s("li",{class:[!0===a.passwordValidate.letter?"valid":"invalid"],attrs:{id:"letter"}},[a._v(a._s(a.$t("MSG_VALIDATE_LETTER")))]),a._v(" "),s("li",{class:[!0===a.passwordValidate.capital?"valid":"invalid"],attrs:{id:"capital"}},[a._v(a._s(a.$t("MSG_VALIDATE_UPPERCASE")))]),a._v(" "),s("li",{class:[!0===a.passwordValidate.number?"valid":"invalid"],attrs:{id:"number"}},[a._v(a._s(a.$t("MSG_VALIDATE_NUMBER")))]),a._v(" "),s("li",{class:[!0===a.passwordValidate.special?"valid":"invalid"],attrs:{id:"special"}},[a._v(a._s(a.$t("MSG_VALIDATE_SPECIAL_CHAR")))])])]),a._v(" "),a.errors.first("admin_password")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_password")))]):a._e()])])]),a._v(" "),s("div",{staticClass:"form-group row justify-content-center"},[s("label",{staticClass:"col-lg-3"},[a._v(" "+a._s(a.$t("LBL_ADMIN_CONFIRM_PASSWORD"))+"\n                                "),s("span",{staticClass:"required"},[a._v("*")])]),a._v(" "),s("div",{staticClass:"col-lg-5"},[s("div",{staticClass:"input-icon input-icon--right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_confirm_password,expression:"adminsData.admin_confirm_password"},{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],staticClass:"form-control",attrs:{type:"password",name:"admin_confirm_password","data-vv-as":a.$t("LBL_ADMIN_CONFIRM_PASSWORD"),"data-vv-validate-on":"none",autocomplete:"new-password"},domProps:{value:a.adminsData.admin_confirm_password},on:{keyup:function(s){return a.onConfirmPasswordInput(s)},input:function(s){s.target.composing||a.$set(a.adminsData,"admin_confirm_password",s.target.value)}}}),a._v(" "),!0===a.displayConfirmPasswordCheck?s("div",{staticClass:"input-icon__icon input-icon__icon--right"},[s("span",[s("i",{staticClass:"password-toggle"},[s("img",{attrs:{src:a.baseUrl+"/admin/images/retina/check.svg",width:"16px",height:"16px"}})])])]):a._e(),a._v(" "),a.errors.first("admin_confirm_password")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_confirm_password")))]):a._e()])])]),a._v(" "),s("div",{staticClass:"form-group row justify-content-center"},[s("label",{staticClass:"col-lg-3"},[a._v("\n                                "+a._s(a.$t("LBL_ADMIN_ROLE"))+"\n                                "),s("span",{staticClass:"required"},[a._v("*")])]),a._v(" "),s("div",{staticClass:"col-lg-5"},[s("select",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.admin_role_id,expression:"adminsData.admin_role_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"admin_role_id","data-vv-as":a.$t("LBL_ADMIN_ROLE"),"data-vv-validate-on":"none"},on:{change:function(s){var t=Array.prototype.filter.call(s.target.options,(function(a){return a.selected})).map((function(a){return"_value"in a?a._value:a.value}));a.$set(a.adminsData,"admin_role_id",s.target.multiple?t:t[0])}}},[s("option",{attrs:{value:"",disabled:""}},[a._v(a._s(a.$t("LBL_SELECT_ONE")))]),a._v(" "),a._l(a.roles,(function(t){return s("option",{key:t.role_id,domProps:{value:t.role_id}},[a._v(a._s(t.role_name))])}))],2),a._v(" "),a.errors.first("admin_role_id")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_role_id")))]):a._e()])])]),a._v(" "),s("div",{staticClass:"portlet__foot"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"subAdmins"}}},[a._v(a._s(a.$t("BTN_DISCARD")))])],1),a._v(" "),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-wide btn-brand gb-btn gb-btn-primary",class:1==a.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!a.isComplete||1==a.clicked},on:{click:function(s){return a.validateRecord()}}},[a._v(a._s(a.$t("BTN_ADMIN_CREATE")))])])])])])])])])])}),[],!1,null,"25bd63c3",null);s.default=n.exports},ye4H:function(a,s,t){"use strict";(function(a){var t={admin_name:"",admin_username:"",admin_email:"",admin_phone_country_id:"",admin_phone:"",admin_role_id:"",admin_password:"",admin_confirm_password:""};s.a={data:function(){return{baseUrl:baseUrl,records:[],adminsData:t,roles:[],countries:[],clicked:0,defaultCountryCode:"",countryCode:"",unmaskedPhoneNumber:"",pswd_info:0,displayConfirmPasswordCheck:!1,changePasswordFormValidated:!1,passwordValidate:{length:!1,letter:!1,capital:!1,number:!1,special:!1}}},computed:{isComplete:function(){return this.adminsData.admin_name&&this.adminsData.admin_username&&this.adminsData.admin_email&&this.adminsData.admin_phone&&this.adminsData.admin_role_id&&this.adminsData.admin_password&&this.adminsData.admin_confirm_password&&(this.changePasswordFormValidated||1==this.passClicked)}},methods:{validateRecord:function(){var a=this;this.$validator.validateAll().then((function(s){if(s){a.clicked=1;var t=a.adminsData;a.saveRecord(t)}else a.clicked=0}))},saveRecord:function(s){var t=this;""!=this.unmaskedPhoneNumber&&(s.admin_phone=this.unmaskedPhoneNumber);var i=this.$serializeData(s);i.append("country_code",this.countryCode),this.$http.post(adminBaseUrl+"/sub-admins",i).then((function(s){if(0==s.data.status)return t.clicked=0,void a.error(s.data.message,"",a.options);a.success(s.data.message,"",a.options),t.clicked=0,t.$router.push({name:"subAdmins"})}),(function(a){t.clicked=0,t.validateErrors(a)}))},validateErrors:function(a){var s=this,t=a.data;Object.keys(t.errors).forEach((function(a){s.errors.add({field:a,msg:t.errors[a][0]})}))},pageLoadData:function(){var a=this;this.$http.post(adminBaseUrl+"/sub-admins/roles").then((function(s){a.roles=s.data.data.roles,a.countries=s.data.data.countries,a.defaultCountryCode=s.data.data.defaultCountryCode}))},emptyFormValues:function(){this.adminsData={admin_name:"",admin_username:"",admin_email:"",admin_phone_country_id:"",admin_phone:"",admin_role_id:"",admin_password:"",admin_confirm_password:""},this.errors.clear()},changeCountry:function(a){this.countryCode=a.iso2},onPhoneNumberChange:function(a,s){this.countryCode=s.country.iso2,this.unmaskedPhoneNumber=s.number.significant},validatePasswordForm:function(){return!Object.values(this.passwordValidate).includes(!1)&&""!=this.adminsData.admin_password&&""!=this.adminsData.admin_confirm_password&&this.adminsData.admin_password==this.adminsData.admin_confirm_password},onPasswordInput:function(a){var s=a.target.value;s.length<8?this.passwordValidate.length=!1:this.passwordValidate.length=!0,s.match(/[A-z]/)?this.passwordValidate.letter=!0:this.passwordValidate.letter=!1,s.match(/[A-Z]/)?this.passwordValidate.capital=!0:this.passwordValidate.capital=!1,s.match(/[^\w]/)?this.passwordValidate.special=!0:this.passwordValidate.special=!1,s.match(/\d/)?this.passwordValidate.number=!0:this.passwordValidate.number=!1,this.changePasswordFormValidated=this.displayConfirmPasswordCheck=!!this.validatePasswordForm()},onConfirmPasswordInput:function(a){this.changePasswordFormValidated=this.displayConfirmPasswordCheck=!!this.validatePasswordForm()}},mounted:function(){this.emptyFormValues(),this.pageLoadData()}}}).call(this,t("hUol"))}}]);