(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"/Gg+":function(e,t,r){var i=r("SkVt");"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(i,n);i.locals&&(e.exports=i.locals)},SkVt:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".sl-vue-tree {\r\n    position: relative;\r\n    cursor: default;\r\n    -webkit-touch-callout: none; /* iOS Safari */\r\n    -webkit-user-select: none; /* Safari */\r\n    -khtml-user-select: none; /* Konqueror HTML */\r\n    -moz-user-select: none; /* Firefox */\r\n    -ms-user-select: none; /* Internet Explorer/Edge */\r\n    user-select: none;\r\n}\r\n\r\n.sl-vue-tree.sl-vue-tree-root {\r\n    border: 1px solid rgb(9, 22, 29);\r\n    background-color: rgb(9, 22, 29);\r\n    color: rgba(255, 255, 255, 0.5);\r\n    border-radius: 3px;\r\n}\r\n\r\n.sl-vue-tree-root > .sl-vue-tree-nodes-list {\r\n    overflow: hidden;\r\n    position: relative;\r\n    padding-bottom: 4px;\r\n}\r\n\r\n.sl-vue-tree-selected > .sl-vue-tree-node-item {\r\n    background-color: #13242d;\r\n    color: white;\r\n}\r\n\r\n.sl-vue-tree-node-item:hover,\r\n.sl-vue-tree-node-item.sl-vue-tree-cursor-hover {\r\n    color: white;\r\n}\r\n\r\n.sl-vue-tree-node-item {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n    line-height: 28px;\r\n    border: 1px solid transparent;\r\n}\r\n\r\n\r\n.sl-vue-tree-node-item.sl-vue-tree-cursor-inside {\r\n    border: 1px solid rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.sl-vue-tree-gap {\r\n    width: 25px;\r\n    min-height: 1px;\r\n\r\n}\r\n\r\n.sl-vue-tree-toggle {\r\n    display: inline-block;\r\n    text-align: left;\r\n    width: 20px;\r\n}\r\n\r\n.sl-vue-tree-sidebar {\r\n    margin-left: auto;\r\n}\r\n\r\n.sl-vue-tree-cursor {\r\n    position: absolute;\r\n    border: 1px solid rgba(255, 255, 255, 0.5);\r\n    height: 1px;\r\n    width: 100%;\r\n}\r\n\r\n.sl-vue-tree-drag-info {\r\n    position: absolute;\r\n    background-color: rgba(0,0,0,0.5);\r\n    opacity: 0.5;\r\n    margin-left: 20px;\r\n    padding: 5px 10px;\r\n}\r\n",""])},mKdm:function(e,t,r){"use strict";(function(e,i){r("/Gg+");var n=r("xTb3"),s=r.n(n);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l={search:""};t.a={components:{SlVueTree:s.a},data:function(){return{resources:[],title:"",description:"",search:"",searchData:l,searchedRecords:[],pageLoaded:0,loading:!1,showEmpty:0,selectedPage:!1}},watch:{$route:"refreshedSearchData"},methods:{refreshedSearchData:function(){this.$route.query.s&&(this.searchData.search=this.$route.query.s,this.openPage("","",!0)),this.getResources()},getResources:function(){var t=this;this.$http.get(adminBaseUrl+"/resources").then((function(r){0!=r.data.status?t.resources=r.data.data.listing:e.error(r.data.message,"",e.options)}))},openPage:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s="",o="";i?(s=i.resource_id,o=i.resource_title):0==n&&(s=r.data.id,o=r.title,this.searchData.search=""),1==n&&(o=this.searchData.search);var l=this.$serializeData({id:s,title:o});this.title="",this.description="",this.$http.post(adminBaseUrl+"/resource/details",l).then((function(r){0!=r.data.status?(t.selectedPage=!0,t.title=o,t.description=r.data.data.description):e.error(r.data.message,"",e.options)}))},recursiveMap:function(e){var t=this;return e.map((function(e){if(e.children.length>0){t.recursiveMap(e.children),e.title_full_name=e.title;for(var r=0;r<e.children.length;r++)e.title_full_name+=e.children[r].title_full_name?e.children[r].title_full_name:e.children[r].title}else e.title_full_name=e.title;return e.title_full_name="object"==o(e.title_full_name)?e.title_full_name.title:e.title_full_name,e}))},searchRecords:function(){var t=this;this.title="",this.description="",this.selectedPage=!1;var r=this.$serializeData(this.searchData);this.$http.post(adminBaseUrl+"/resources/search",r).then((function(r){if(0==r.data.status)return e.error(r.data.message,"",e.options),void t.$router.push({name:"unAuthorised"});t.searchedRecords=r.data.data}))},getNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=e.slice(-1)[0];if(r=r||this.getNodeSiblings(this.currentValue,e),t=t||r&&r[n]||null,null==i&&(i=this.isVisible(e)),!t)return null;var s=null==t.isExpanded||!!t.isExpanded,o=null==t.isDraggable||!!t.isDraggable,l=null==t.isSelectable||!!t.isSelectable,a={title:t.title,isLeaf:!!t.isLeaf,children:t.children?this.getNodes(t.children,e,s):[],isSelected:!!t.isSelected,isExpanded:s,isVisible:i,isDraggable:o,isSelectable:l,data:void 0!==t.data?t.data:{},path:e,pathStr:JSON.stringify(e),level:e.length,ind:n,isFirstChild:0==n,isLastChild:n===r.length-1};return a},getNodeSiblings:function(e,t){return 1===t.length?e:this.getNodeSiblings(e[t[0]].children,t.slice(1))},select:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=Array.isArray(this.multiselectKey)?this.multiselectKey:[this.multiselectKey],s=i&&!!n.find((function(e){return i[e]}));r=(s||r)&&this.allowMultiselect;var o=this.getNode(e);if(!o)return null;var l=this.copy(this.currentValue),a=this.allowMultiselect&&i&&i.shiftKey&&this.lastSelectedNode,c=[],u=!1;return this.traverse((function(e,i){a?(e.pathStr!==o.pathStr&&e.pathStr!==t.lastSelectedNode.pathStr||(i.isSelected=e.isSelectable,u=!u),u&&(i.isSelected=e.isSelectable)):e.pathStr===o.pathStr?i.isSelected=e.isSelectable:r||i.isSelected&&(i.isSelected=!1),i.isSelected&&c.push(e)}),l),this.lastSelectedNode=o,this.emitInput(l),this.emitSelect(c,i),o}},mounted:function(){var e=this;this.searchData={search:""},this.refreshedSearchData(),i("body").on("click","a",(function(e){e.preventDefault()})),i("body").on("click",".openChildNode",(function(){var t=i(this).attr("data-path");e.select(t)}))},computed:{}}}).call(this,r("hUol"),r("EVdn"))},vdLn:function(e,t,r){"use strict";r.r(t);var i=r("mKdm").a,n=r("KHd+"),s=Object(n.a)(i,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"subheader",attrs:{id:"subheader"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"subheader__main"},[t("h3",{staticClass:"subheader__title"},[e._v(e._s(e.$t("LBL_RESOURCES")))])])])]),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"portlet portlet-no-min-height"},[t("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"input-icon input-icon--left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchData.search,expression:"searchData.search"}],staticClass:"form-control",attrs:{autocomplete:"nope",type:"text",placeholder:e.$t("PLH_SEARCH"),id:"generalSearch",readonly:0==e.resources.length&&""===e.searchData.search},domProps:{value:e.searchData.search},on:{keyup:e.searchRecords,input:function(t){t.target.composing||e.$set(e.searchData,"search",t.target.value)}}}),e._v(" "),e._m(0),e._v(" "),""!=e.searchData.search?t("span",{staticClass:"input-icon__icon input-icon__icon--right",on:{click:function(t){e.searchData.search="",e.selectedPage=!1,e.searchRecords()}}},[e._m(1)]):e._e()])])])])]),e._v(" "),t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"portlet portlet--height-fluid"},[t("div",{staticClass:"portlet__body"},[t("div",{staticClass:"resource-nav"},[t("div",{staticClass:"resource-nav_inner scroll-y"},[0==e.resources.length&&0==e.searchedRecords.length?t("div",{},[t("div",{staticClass:"no-data-found"},[e._v("\n                              No results found\n                          ")])]):e._e(),e._v(" "),t("sl-vue-tree",{attrs:{isExpanded:!1},scopedSlots:e._u([{key:"title",fn:function(r){var i=r.node;return[t("span",{staticClass:"item-icon"},[i.isLeaf?t("i",{staticClass:"fa fa-file"}):e._e(),e._v(" "),i.isLeaf?e._e():t("i",{staticClass:"fa fa-folder"})]),e._v(" "),t("span",{on:{click:function(t){return t.stopPropagation(),e.openPage(i)}}},[e._v(e._s(i.title))])]}}]),model:{value:e.resources,callback:function(t){e.resources=t},expression:"resources"}})],1)])])])]),e._v(" "),t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"portlet portlet--height-fluid"},[t("div",{staticClass:"portlet__body"},[0==e.selectedPage&&""==e.searchData.search?t("div",{staticClass:"no-data-found"},[t("div",{staticClass:"img"},[t("img",{attrs:{src:this.$noDataImage("information-booklet.svg"),alt:""}})])]):e._e(),e._v(" "),""!=e.searchData.search&&0==e.searchedRecords.length&&0==e.selectedPage?t("div",{staticClass:"no-data-found"},[t("noRecordsFound")],1):e._e(),e._v(" "),t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-md-11"},[0==e.selectedPage&&0!=e.searchedRecords.length?t("ul",{staticClass:"list__wrapper"},e._l(e.searchedRecords,(function(r,i){return t("li",{key:i,staticClass:"list__item"},[t("a",{staticClass:"list__item-action",attrs:{href:"javascript:;"},on:{click:function(t){return e.openPage("",r)}}},[t("h3",[e._v(e._s(r.resource_title))])]),e._v(" "),t("p",{staticClass:"list__item-content"},[e._v("\n                                        "+e._s(r.resource_description.replace(/(<([^>]+)>)/gi,"").substring(0,350)+"...")+"\n                                      ")])])})),0):e._e(),e._v(" "),1==e.selectedPage?t("div",{staticClass:"cms resources"},[t("h1",[e._v(e._s(this.title))]),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.description)}})]):e._e()])])])])])])])])}),[function(){var e=this._self._c;return e("span",{staticClass:"input-icon__icon input-icon__icon--left"},[e("span",[e("i",{staticClass:"la la-search"})])])},function(){var e=this._self._c;return e("span",[e("i",{staticClass:"fas fa-times"})])}],!1,null,null,null);t.default=s.exports},xTb3:function(e,t,r){window,e.exports=function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.r(t);var n={name:"sl-vue-tree",props:{value:{type:Array,default:function(){return[]}},edgeSize:{type:Number,default:3},showBranches:{type:Boolean,default:!1},level:{type:Number,default:0},parentInd:{type:Number},allowMultiselect:{type:Boolean,default:!0},allowToggleBranch:{type:Boolean,default:!0},multiselectKey:{type:[String,Array],default:function(){return["ctrlKey","metaKey"]},validator:function(e){var t=["ctrlKey","metaKey","altKey"],r=Array.isArray(e)?e:[e];return!!(r=r.filter((function(e){return-1!==t.indexOf(e)}))).length}},scrollAreaHeight:{type:Number,default:70},maxScrollSpeed:{type:Number,default:20}},data:function(){return{rootCursorPosition:null,scrollIntervalId:0,scrollSpeed:0,lastSelectedNode:null,mouseIsDown:!1,isDragging:!1,lastMousePos:{x:0,y:0},preventDrag:!1,currentValue:this.value}},mounted:function(){this.isRoot&&document.addEventListener("mouseup",this.onDocumentMouseupHandler)},beforeDestroy:function(){document.removeEventListener("mouseup",this.onDocumentMouseupHandler)},watch:{value:function(e){this.currentValue=e}},computed:{cursorPosition:function(){return this.isRoot?this.rootCursorPosition:this.getParent().cursorPosition},depth:function(){return this.gaps.length},nodes:function(){if(this.isRoot){var e=this.copy(this.currentValue);return this.getNodes(e)}return this.getParent().nodes[this.parentInd].children},gaps:function(){var e=[],t=this.level-1;for(this.showBranches||t++;t-- >0;)e.push(t);return e},isRoot:function(){return!this.level},selectionSize:function(){return this.getSelected().length},dragSize:function(){return this.getDraggable().length}},methods:{setCursorPosition:function(e){this.isRoot?this.rootCursorPosition=e:this.getParent().setCursorPosition(e)},getNodes:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.map((function(n,s){var o=r.concat(s);return t.getNode(o,n,e,i)}))},getNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=e.slice(-1)[0];if(r=r||this.getNodeSiblings(this.currentValue,e),t=t||r&&r[n]||null,null==i&&(i=this.isVisible(e)),!t)return null;var s=null==t.isExpanded||!!t.isExpanded,o=null==t.isDraggable||!!t.isDraggable,l=null==t.isSelectable||!!t.isSelectable,a={title:t.title,isLeaf:!!t.isLeaf,children:t.children?this.getNodes(t.children,e,s):[],isSelected:!!t.isSelected,isExpanded:s,isVisible:i,isDraggable:o,isSelectable:l,data:void 0!==t.data?t.data:{},path:e,pathStr:JSON.stringify(e),level:e.length,ind:n,isFirstChild:0==n,isLastChild:n===r.length-1};return a},isVisible:function(e){if(e.length<2)return!0;for(var t=this.currentValue,r=0;r<e.length-1;r++){var i=t[e[r]];if(null!=i.isExpanded&&!i.isExpanded)return!1;t=i.children}return!0},emitInput:function(e){this.currentValue=e,this.getRoot().$emit("input",e)},emitSelect:function(e,t){this.getRoot().$emit("select",e,t)},emitBeforeDrop:function(e,t,r){this.getRoot().$emit("beforedrop",e,t,r)},emitDrop:function(e,t,r){this.getRoot().$emit("drop",e,t,r)},emitToggle:function(e,t){this.getRoot().$emit("toggle",e,t)},emitNodeClick:function(e,t){this.getRoot().$emit("nodeclick",e,t)},emitNodeDblclick:function(e,t){this.getRoot().$emit("nodedblclick",e,t)},emitNodeContextmenu:function(e,t){this.getRoot().$emit("nodecontextmenu",e,t)},onExternalDragoverHandler:function(e,t){t.preventDefault();var r=this.getRoot(),i=r.getCursorPositionFromCoords(t.clientX,t.clientY);r.setCursorPosition(i),r.$emit("externaldragover",i,t)},onExternalDropHandler:function(e,t){var r=this.getRoot(),i=r.getCursorPositionFromCoords(t.clientX,t.clientY);r.$emit("externaldrop",i,t),this.setCursorPosition(null)},select:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=Array.isArray(this.multiselectKey)?this.multiselectKey:[this.multiselectKey],s=i&&!!n.find((function(e){return i[e]}));r=(s||r)&&this.allowMultiselect;var o=this.getNode(e);if(!o)return null;var l=this.copy(this.currentValue),a=this.allowMultiselect&&i&&i.shiftKey&&this.lastSelectedNode,c=[],u=!1;return this.traverse((function(e,i){a?(e.pathStr!==o.pathStr&&e.pathStr!==t.lastSelectedNode.pathStr||(i.isSelected=e.isSelectable,u=!u),u&&(i.isSelected=e.isSelectable)):e.pathStr===o.pathStr?i.isSelected=e.isSelectable:r||i.isSelected&&(i.isSelected=!1),i.isSelected&&c.push(e)}),l),this.lastSelectedNode=o,this.emitInput(l),this.emitSelect(c,i),o},onMousemoveHandler:function(e){if(this.isRoot){if(!this.preventDrag){var t=this.isDragging,r=this.isDragging||this.mouseIsDown&&(this.lastMousePos.x!==e.clientX||this.lastMousePos.y!==e.clientY),i=!1===t&&!0===r;if(this.lastMousePos={x:e.clientX,y:e.clientY},r){var n=this.getRoot().$el,s=n.getBoundingClientRect(),o=this.$refs.dragInfo,l=e.clientY-s.top+n.scrollTop-(0|o.style.marginBottom),a=e.clientX-s.left;o.style.top=l+"px",o.style.left=a+"px";var c=this.getCursorPositionFromCoords(e.clientX,e.clientY),u=c.node,d=c.placement;if(i&&!u.isSelected&&this.select(u.path,!1,e),this.getDraggable().length){this.isDragging=r,this.setCursorPosition({node:u,placement:d});var h=s.bottom-this.scrollAreaHeight,f=(e.clientY-h)/(s.bottom-h),p=s.top+this.scrollAreaHeight,g=(p-e.clientY)/(p-s.top);f>0?this.startScroll(f):g>0?this.startScroll(-g):this.stopScroll()}else this.preventDrag=!0}}}else this.getRoot().onMousemoveHandler(e)},getCursorPositionFromCoords:function(e,t){var r,i,n=document.elementFromPoint(e,t),s=n.getAttribute("path")?n:this.getClosetElementWithPath(n);if(s){if(!s)return;r=this.getNode(JSON.parse(s.getAttribute("path")));var o=s.offsetHeight,l=this.edgeSize,a=t-s.getBoundingClientRect().top;i=r.isLeaf?a>=o/2?"after":"before":a<=l?"before":a>=o-l?"after":"inside"}else{var c=this.getRoot().$el.getBoundingClientRect();t>c.top+c.height/2?(i="after",r=this.getLastNode()):(i="before",r=this.getFirstNode())}return{node:r,placement:i}},getClosetElementWithPath:function(e){return e?e.getAttribute("path")?e:this.getClosetElementWithPath(e.parentElement):null},onMouseleaveHandler:function(e){if(this.isRoot&&this.isDragging){var t=this.getRoot().$el.getBoundingClientRect();e.clientY>=t.bottom?this.setCursorPosition({node:this.nodes.slice(-1)[0],placement:"after"}):e.clientY<t.top&&this.setCursorPosition({node:this.getFirstNode(),placement:"before"})}},getNodeEl:function(e){this.getRoot().$el.querySelector('[path="'.concat(JSON.stringify(e),'"]'))},getLastNode:function(){var e=null;return this.traverse((function(t){e=t})),e},getFirstNode:function(){return this.getNode([0])},getNextNode:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=null;return this.traverse((function(n){if(!(t.comparePaths(n.path,e)<1))return!r||r(n)?(i=n,!1):void 0})),i},getPrevNode:function(e,t){var r=this,i=[];this.traverse((function(t){if(r.comparePaths(t.path,e)>=0)return!1;i.push(t)}));for(var n=i.length;n--;){var s=i[n];if(!t||t(s))return s}return null},comparePaths:function(e,t){for(var r=0;r<e.length;r++){if(null==t[r])return 1;if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return null==t[e.length]?0:-1},onNodeMousedownHandler:function(e,t){0===e.button&&(this.isRoot?this.mouseIsDown=!0:this.getRoot().onNodeMousedownHandler(e,t))},startScroll:function(e){var t=this,r=this.getRoot().$el;this.scrollSpeed!==e&&(this.scrollIntervalId&&this.stopScroll(),this.scrollSpeed=e,this.scrollIntervalId=setInterval((function(){r.scrollTop+=t.maxScrollSpeed*e}),20))},stopScroll:function(){clearInterval(this.scrollIntervalId),this.scrollIntervalId=0,this.scrollSpeed=0},onDocumentMouseupHandler:function(e){this.isDragging&&this.onNodeMouseupHandler(e)},onNodeMouseupHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===e.button)if(this.isRoot)if(this.mouseIsDown=!1,this.isDragging||!t||this.preventDrag||this.select(t.path,!1,e),this.preventDrag=!1,this.cursorPosition){var r=this.getDraggable(),i=!0,n=!1,s=void 0;try{for(var o,l=r[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var a=o.value;if(a.pathStr==this.cursorPosition.node.pathStr)return void this.stopDrag();if(this.checkNodeIsParent(a,this.cursorPosition.node))return void this.stopDrag()}}catch(e){n=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(n)throw s}}var c=this.copy(this.currentValue),u=[],d=!0,h=!1,f=void 0;try{for(var p,g=r[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v=p.value,m=this.getNodeSiblings(c,v.path),_=m[v.ind];u.push(_)}}catch(e){h=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}var S=!1;if(this.emitBeforeDrop(r,this.cursorPosition,(function(){return S=!0})),S)this.stopDrag();else{for(var b=[],y=0;y<u.length;y++){var C=u[y];b.push(this.copy(C)),C._markToDelete=!0}this.insertModels(this.cursorPosition,b,c),this.traverseModels((function(e,t,r){e._markToDelete&&t.splice(r,1)}),c),this.lastSelectedNode=null,this.emitInput(c),this.emitDrop(r,this.cursorPosition,e),this.stopDrag()}}else this.stopDrag();else this.getRoot().onNodeMouseupHandler(e,t)},onToggleHandler:function(e,t){this.allowToggleBranch&&(this.updateNode(t.path,{isExpanded:!t.isExpanded}),this.emitToggle(t,e),e.stopPropagation())},stopDrag:function(){this.isDragging=!1,this.mouseIsDown=!1,this.setCursorPosition(null),this.stopScroll()},getParent:function(){return this.$parent},getRoot:function(){return this.isRoot?this:this.getParent().getRoot()},getNodeSiblings:function(e,t){return 1===t.length?e:this.getNodeSiblings(e[t[0]].children,t.slice(1))},updateNode:function(e,t){if(this.isRoot){var r=JSON.stringify(e),i=this.copy(this.currentValue);this.traverse((function(e,i){e.pathStr===r&&Object.assign(i,t)}),i),this.emitInput(i)}else this.getParent().updateNode(e,t)},getSelected:function(){var e=[];return this.traverse((function(t){t.isSelected&&e.push(t)})),e},getDraggable:function(){var e=[];return this.traverse((function(t){t.isSelected&&t.isDraggable&&e.push(t)})),e},traverse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t||(t=this.currentValue);for(var i=!1,n=[],s=0;s<t.length;s++){var o=t[s],l=r.concat(s),a=this.getNode(l,o,t);if(i=!1===e(a,o,t),n.push(a),i)break;if(o.children&&(i=!1===this.traverse(e,o.children,l)))break}return!i&&n},traverseModels:function(e,t){for(var r=t.length;r--;){var i=t[r];i.children&&this.traverseModels(e,i.children),e(i,t,r)}return t},remove:function(e){var t=e.map((function(e){return JSON.stringify(e)})),r=this.copy(this.currentValue);this.traverse((function(e,r,i){var n=!0,s=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(n=(l=a.next()).done);n=!0){var c=l.value;e.pathStr===c&&(r._markToDelete=!0)}}catch(e){s=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}}),r),this.traverseModels((function(e,t,r){e._markToDelete&&t.splice(r,1)}),r),this.emitInput(r)},insertModels:function(e,t,r){var n=e.node,s=this.getNodeSiblings(r,n.path),o=s[n.ind];if("inside"===e.placement){var l;o.children=o.children||[],(l=o.children).unshift.apply(l,i(t))}else{var a="before"===e.placement?n.ind:n.ind+1;s.splice.apply(s,[a,0].concat(i(t)))}},insert:function(e,t){var r=Array.isArray(t)?t:[t],i=this.copy(this.currentValue);this.insertModels(e,r,i),this.emitInput(i)},checkNodeIsParent:function(e,t){var r=t.path;return JSON.stringify(r.slice(0,e.path.length))==e.pathStr},copy:function(e){return JSON.parse(JSON.stringify(e))}}},s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sl-vue-tree",class:{"sl-vue-tree-root":e.isRoot},on:{mousemove:e.onMousemoveHandler,mouseleave:e.onMouseleaveHandler,dragend:function(t){e.onDragendHandler(null,t)}}},[r("div",{ref:"nodes",staticClass:"sl-vue-tree-nodes-list"},[e._l(e.nodes,(function(t,i){return r("div",{staticClass:"sl-vue-tree-node",class:{"sl-vue-tree-selected":t.isSelected}},[r("div",{staticClass:"sl-vue-tree-cursor sl-vue-tree-cursor_before",style:{visibility:e.cursorPosition&&e.cursorPosition.node.pathStr===t.pathStr&&"before"===e.cursorPosition.placement?"visible":"hidden","--depth":e.depth},on:{dragover:function(e){e.preventDefault()}}}),e._v(" "),r("div",{staticClass:"sl-vue-tree-node-item",class:{"sl-vue-tree-cursor-hover":e.cursorPosition&&e.cursorPosition.node.pathStr===t.pathStr,"sl-vue-tree-cursor-inside":e.cursorPosition&&"inside"===e.cursorPosition.placement&&e.cursorPosition.node.pathStr===t.pathStr,"sl-vue-tree-node-is-leaf":t.isLeaf,"sl-vue-tree-node-is-folder":!t.isLeaf},attrs:{path:t.pathStr},on:{mousedown:function(r){e.onNodeMousedownHandler(r,t)},mouseup:function(r){e.onNodeMouseupHandler(r,t)},contextmenu:function(r){e.emitNodeContextmenu(t,r)},dblclick:function(r){e.emitNodeDblclick(t,r)},click:function(r){e.emitNodeClick(t,r)},dragover:function(r){e.onExternalDragoverHandler(t,r)},drop:function(r){e.onExternalDropHandler(t,r)}}},[e._l(e.gaps,(function(e){return r("div",{staticClass:"sl-vue-tree-gap"})})),e._v(" "),e.level&&e.showBranches?r("div",{staticClass:"sl-vue-tree-branch"},[e._t("branch",[t.isLastChild?e._e():r("span",[e._v("\n            "+e._s(String.fromCharCode(9500))+e._s(String.fromCharCode(9472))+" \n          ")]),e._v(" "),t.isLastChild?r("span",[e._v("\n            "+e._s(String.fromCharCode(9492))+e._s(String.fromCharCode(9472))+" \n          ")]):e._e()],{node:t})],2):e._e(),e._v(" "),r("div",{staticClass:"sl-vue-tree-title"},[t.isLeaf?e._e():r("span",{staticClass:"sl-vue-tree-toggle",on:{click:function(r){e.onToggleHandler(r,t)}}},[e._t("toggle",[r("span",[e._v("\n             "+e._s(t.isLeaf?"":t.isExpanded?"-":"+")+"\n            ")])],{node:t})],2),e._v(" "),e._t("title",[e._v(e._s(t.title))],{node:t}),e._v(" "),!t.isLeaf&&0==t.children.length&&t.isExpanded?e._t("empty-node",null,{node:t}):e._e()],2),e._v(" "),r("div",{staticClass:"sl-vue-tree-sidebar"},[e._t("sidebar",null,{node:t})],2)],2),e._v(" "),t.children&&t.children.length&&t.isExpanded?r("sl-vue-tree",{attrs:{value:t.children,level:t.level,parentInd:i,allowMultiselect:e.allowMultiselect,allowToggleBranch:e.allowToggleBranch,edgeSize:e.edgeSize,showBranches:e.showBranches},on:{dragover:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"title",fn:function(t){var r=t.node;return[e._t("title",[e._v(e._s(r.title))],{node:r})]}},{key:"toggle",fn:function(t){var i=t.node;return[e._t("toggle",[r("span",[e._v("\n             "+e._s(i.isLeaf?"":i.isExpanded?"-":"+")+"\n          ")])],{node:i})]}},{key:"sidebar",fn:function(t){var r=t.node;return[e._t("sidebar",null,{node:r})]}},{key:"empty-node",fn:function(t){var r=t.node;return[!r.isLeaf&&0==r.children.length&&r.isExpanded?e._t("empty-node",null,{node:r}):e._e()]}}])}):e._e(),e._v(" "),r("div",{staticClass:"sl-vue-tree-cursor sl-vue-tree-cursor_after",style:{visibility:e.cursorPosition&&e.cursorPosition.node.pathStr===t.pathStr&&"after"===e.cursorPosition.placement?"visible":"hidden","--depth":e.depth},on:{dragover:function(e){e.preventDefault()}}})],1)})),e._v(" "),e.isRoot?r("div",{directives:[{name:"show",rawName:"v-show",value:e.isDragging,expression:"isDragging"}],ref:"dragInfo",staticClass:"sl-vue-tree-drag-info"},[e._t("draginfo",[e._v("\n        Items: "+e._s(e.selectionSize)+"\n      ")])],2):e._e()],2)])};s._withStripped=!0;var o=function(e,t,r,i,n,s,o,l){var a=typeof(e=e||{}).default;"object"!==a&&"function"!==a||(e=e.default);var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=[],u._compiled=!0),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(e,t){return c.call(t),d(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:u}}(n,s);o.options.__file="src/sl-vue-tree.vue",t.default=o.exports}]).default}}]);