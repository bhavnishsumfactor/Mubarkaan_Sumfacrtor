(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{C1W2:function(a,t,e){"use strict";(function(a){t.a={props:["tab"],data:function(){return{adminBaseUrl:adminBaseUrl,baseUrl:baseUrl,croppedImage:"",croppedImageView:"",originalImage:"",uploadedFile:"",noImage:"",userFullname:"",roleName:"",admin_id:""}},methods:{getUser:function(){var a=this;this.$http.get(adminBaseUrl+"/get-user").then((function(t){a.roleName="Super Admin",null!=t.data.data.admin_role_id&&(a.roleName=t.data.data.admin_role.role_name),a.noImage=t.data.noImage,a.userFullname=t.data.data.admin_name,a.admin_id=t.data.data.admin_id,""!=t.data.data.admin_profile_image.afile_record_id?a.croppedImage=a.croppedImageView=a.$getFileUrl("profileImage",t.data.data.admin_profile_image.afile_record_id,0,"120-120")+"/"+a.$rndStr():a.croppedImage=a.uploadedFile="",a.originalImage=a.uploadedFile=a.$getFileUrl("profileImage",t.data.data.admin_profile_image.afile_record_id)+"/"+a.$rndStr()}))},setImage:function(a,t){this.croppedImage=a,this.croppedImageView=URL.createObjectURL(a),""==t&&this.uploadImage()},setActualImage:function(a){"string"!=typeof a?(this.originalImage=URL.createObjectURL(a),this.uploadedFile=a):this.uploadedFile=this.originalImage=a,this.uploadImage()},uploadImage:function(){var t=this,e=new FormData;e.append("actualImage",this.uploadedFile),e.append("cropImage",this.croppedImage),this.$root.$emit("adminImage",this.croppedImageView),this.$http.post(adminBaseUrl+"/update-profile-image/"+this.admin_id,e).then((function(t){a.success(t.data.success,"",{timeOut:5e3})}),(function(a){t.validateErrors(a)}))},logout:function(){var a=this;this.$http.get(adminBaseUrl+"/logout").then((function(t){a.$router.go()}))}},mounted:function(){this.getUser()}}}).call(this,e("hUol"))},FH8f:function(a,t,e){"use strict";(function(a){var i=e("lETt"),s=e("qlEU"),r={admin_password:"",admin_name:"",confirmpassword:"",admin_OTP:"",role_name:""};t.a={components:{"profile-sidebar":i.a,Alert:s.a},data:function(){return{adminsData:r,uploadedImage:"",clicked:0,admin_new_email:"",admin_current_email:"",modelId:"emailAlertModel"}},computed:{isComplete:function(){return this.admin_new_email}},methods:{editEmail:function(){var a=this;this.$validator.validateAll().then((function(t){t&&a.updateEmail(a.admin_new_email)}))},getUser:function(){var a=this;this.$http.get(adminBaseUrl+"/get-user").then((function(t){var e="Super Admin";null!=t.data.data.admin_role_id&&(e=t.data.data.admin_role.role_name),a.appName=t.data.appName,a.noImage=t.data.noImage,a.adminsData.role_name=e,a.adminsData.admin_name=t.data.data.admin_name,a.admin_current_email=t.data.data.admin_email,a.uploadedImage=a.$getFileUrl("profileImage",t.data.data.admin_profile_image.afile_record_id,0,"thumb")}))},updateEmail:function(t){var e=this;this.clicked=1;var i=this.$serializeData({email:t});this.$http.post(adminBaseUrl+"/update-email",i).then((function(t){0!=t.data.status?(e.admin_new_email="",e.clicked=0,e.$bvModal.show(e.modelId)):a.error(t.data.message,"",a.options)}),(function(a){e.clicked=0,e.validateErrors(a)}))},validateErrors:function(a){var t=this,e=a.data;Object.keys(e.errors).forEach((function(a){t.errors.add({field:a,msg:e.errors[a][0]})}))}},mounted:function(){this.getUser()}}}).call(this,e("hUol"))},k5Th:function(a,t,e){"use strict";e.r(t);var i=e("FH8f").a,s=e("KHd+"),r=Object(s.a)(i,(function(){var a=this,t=a._self._c;return t("div",[t("div",{staticClass:"subheader",attrs:{id:"subheader"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"subheader__main"},[t("h3",{staticClass:"subheader__title"},[a._v(a._s(a.$t("LBL_CHANGE_EMAIL")))]),a._v(" "),t("div",{staticClass:"subheader__breadcrumbs"},[t("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[t("i",{staticClass:"flaticon2-shelter"})]),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-link"},[a._v(a._s(a.$t("LBL_CHANGE_EMAIL")))])],1)])])]),a._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"grid-layout"},[a._m(0),a._v(" "),t("profile-sidebar",{attrs:{tab:"editEmail"}}),a._v(" "),t("div",{staticClass:"grid-layout-content"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xl-12"},[t("div",{staticClass:"portlet portlet--height-fluid"},[t("div",{staticClass:"portlet__body"},[t("div",{staticClass:"section"},[t("div",{staticClass:"section__body"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_CURRENT_EMAIL")))]),a._v(" "),t("div",{staticClass:"col-lg-9"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.admin_current_email,expression:"admin_current_email"}],staticClass:"form-control",attrs:{type:"text",disabled:""},domProps:{value:a.admin_current_email},on:{input:function(t){t.target.composing||(a.admin_current_email=t.target.value)}}})])])]),a._v(" "),t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_NEW_EMAIL")))]),a._v(" "),t("div",{staticClass:"col-lg-9"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:a.admin_new_email,expression:"admin_new_email"}],staticClass:"form-control",attrs:{type:"text",name:"admin_new_email","data-vv-as":a.$t("LBL_EMAIL_ADDRESS"),"data-vv-validate-on":"none"},domProps:{value:a.admin_new_email},on:{input:function(t){t.target.composing||(a.admin_new_email=t.target.value)}}}),a._v(" "),a.errors.first("admin_new_email")?t("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_new_email")))]):a._e()])])])])])])]),a._v(" "),t("div",{staticClass:"portlet__foot"},[t("div",{staticClass:"row justify-content-center"},[t("div",{staticClass:"col-auto"},[t("button",{staticClass:"btn btn-brand btn-wide gb-btn gb-btn-primary",class:1==a.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!a.isComplete||1==a.clicked},on:{click:a.editEmail}},[a._v(a._s(a.$t("BTN_SUBMIT")))])])])])])]),a._v(" "),t("Alert",{attrs:{alertPopText:a.$t("LBL_VERIFY_EMAIL_TITLE"),subText:a.$t("LBL_VERIFY_EMAIL_SUB_TEXT")}})],1)])],1)])])}),[function(){var a=this._self._c;return a("button",{staticClass:"grid-layout-close",attrs:{id:"user_profile_aside_close"}},[a("i",{staticClass:"la la-close"})])}],!1,null,null,null);t.default=r.exports},lETt:function(a,t,e){"use strict";var i=e("C1W2").a,s=e("KHd+"),r=Object(s.a)(i,(function(){var a=this,t=a._self._c;return t("div",{staticClass:"grid-layout-aside",attrs:{id:"user_profile_aside"}},[t("div",{staticClass:"portlet portlet--height-fluid"},[t("div",{staticClass:"portlet__body"},[t("div",{staticClass:"widget widget--user-profile-1"},[t("div",{staticClass:"widget__head"},[t("div",{staticClass:"widget__media"},[t("div",{staticClass:"avatar avatar--outline",attrs:{id:"user_avatar"}},[t("div",{staticClass:"avatar__holder",style:{backgroundImage:"url("+a.croppedImageView+")"}}),a._v(" "),t("cropper",{ref:"cropperRef",attrs:{title:"Admin Profile Image",aspectRatio:1,width:250,height:250},on:{childToParent:a.setImage,actualImageToParent:a.setActualImage}}),a._v(" "),t("img",{staticStyle:{display:"none"},attrs:{src:a.originalImage,id:"originalImage"}})],1)]),a._v(" "),t("div",{staticClass:"widget__content"},[t("div",{staticClass:"widget__section"},[t("h3",{staticClass:"widget__username"},[a._v("\n                                "+a._s(a.userFullname)+"\n                            ")]),a._v(" "),t("span",{staticClass:"widget__subtitle pb-3"},[a._v("\n                                "+a._s(a.roleName)+"\n                            ")]),a._v(" "),t("a",{staticClass:"logout-button",attrs:{href:"javascript:void(0);"},on:{click:a.logout}},[t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"15.4px",height:"16.3px",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 198.715 198.715","xml:space":"preserve"}},[t("g",[t("path",{attrs:{d:"M161.463,48.763c-2.929-2.929-7.677-2.929-10.607,0c-2.929,2.929-2.929,7.677,0,10.606   c13.763,13.763,21.342,32.062,21.342,51.526c0,19.463-7.579,37.761-21.342,51.523c-14.203,14.204-32.857,21.305-51.516,21.303   c-18.659-0.001-37.322-7.104-51.527-21.309c-28.405-28.405-28.402-74.625,0.005-103.032c2.929-2.929,2.929-7.678,0-10.606   c-2.929-2.929-7.677-2.929-10.607,0C2.956,83.029,2.953,138.766,37.206,173.019c17.132,17.132,39.632,25.697,62.135,25.696   c22.497-0.001,44.997-8.564,62.123-25.69c16.595-16.594,25.734-38.659,25.734-62.129C187.199,87.425,178.059,65.359,161.463,48.763   z"}}),a._v(" "),t("path",{attrs:{d:"M99.332,97.164c4.143,0,7.5-3.358,7.5-7.5V7.5c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v82.164   C91.832,93.807,95.189,97.164,99.332,97.164z"}})])]),a._v("\n\n                                "+a._s(a.$t("LNK_LOGOUT"))+"\n                            ")])])])]),a._v(" "),t("div",{staticClass:"widget__body"},[t("div",{staticClass:"widget__items"},[t("router-link",{staticClass:"widget__item",class:["editProfile"==a.tab?"widget__item--active":""],attrs:{to:{name:"editProfile"}}},[t("span",{staticClass:"widget__section"},[t("span",{staticClass:"widget__icon"},[t("svg",{staticClass:"svg-icon"},[t("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#personal-info",href:a.baseUrl+"/admin/images/retina/sprite.svg#personal-info"}})])]),a._v(" "),t("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_PERSONAL_INFORMATION"))+"\n                                ")])])]),a._v(" "),t("router-link",{staticClass:"widget__item",class:["changePassword"==a.tab?"widget__item--active":""],attrs:{to:{name:"changePassword"}}},[t("span",{staticClass:"widget__section"},[t("span",{staticClass:"widget__icon"},[t("svg",{staticClass:"svg-icon"},[t("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#change-password",href:a.baseUrl+"/admin/images/retina/sprite.svg#change-password"}})])]),a._v(" "),t("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_CHANGE_PASSWORD"))+"\n                                ")])])]),a._v(" "),t("router-link",{staticClass:"widget__item",class:["editEmail"==a.tab?"widget__item--active":""],attrs:{to:{name:"editEmailAddress"}}},[t("span",{staticClass:"widget__section"},[t("span",{staticClass:"widget__icon"},[t("svg",{staticClass:"svg-icon"},[t("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#change-email",href:a.baseUrl+"/admin/images/retina/sprite.svg#change-email"}})])]),a._v(" "),t("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_CHANGE_EMAIL"))+"\n                                ")])])])],1)])])])])])}),[],!1,null,null,null);t.a=r.exports},qlEU:function(a,t,e){"use strict";var i={data:function(){return{clicked:0}},props:["alertPopText","subText"]},s=e("KHd+"),r=Object(s.a)(i,(function(){var a=this,t=a._self._c;return t("b-modal",{attrs:{id:"emailAlertModel",centered:"",title:"BootstrapVue","header-class":"border-0","hide-footer":""},scopedSlots:a._u([{key:"modal-header",fn:function(){return[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return a.$bvModal.hide("emailAlertModel")}}})]},proxy:!0}])},[a._v(" "),t("div",{staticClass:"my-1 pb-5 text-center"},[t("h5",{},[a._v(a._s(a.alertPopText))]),a._v(" "),a.subText?t("p",{},[a._v(a._s(a.subText))]):a._e()])])}),[],!1,null,null,null);t.a=r.exports}}]);