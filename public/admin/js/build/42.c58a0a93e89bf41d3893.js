(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{AzjK:function(t,a,s){"use strict";(function(t){var e=s("Z9V8"),r=s("CeuZ");a.a={components:{shippingStatus:e.a,codPayment:r.a},data:function(){return{currencySymbol:currencySymbol,adminsData:{},codApprovedModelId:"codApproved",shippingStatusPopupId:"shippingStatusPopup",statusData:{},baseUrl:baseUrl,activeThemeUrl:activeThemeUrl,editnote:0,returnStatus:0,balance:0,clicked:0,note:"",readonly:!1,url:"true",message:"",orders:[],addressTypes:[],shippingStatus:[],orderStatus:[],orderReturnStatus:[],messages:[],shipping:0,totalRefund:0,refundAmount:0,rewardAmount:0,returnDiscount:0,returnGiftwrap:0,returnReward:0,userName:"",comment:"",returnType:"",tax:0,displayMessage:0,subTotal:0,giftprice:0,discount:0,totalProduct:0,allProductStatus:[],courier_name:"",tracking_number:"",refundTransactionId:"",notes:"",returnSubtotal:0,returnTax:0,returnShipping:0,returnTotal:0,giftMessage:{},pagination:{total:0,per_page:12,from:1,to:0,current_page:1,last_page:0}}},methods:{displayComment:function(){1==this.displayMessage?this.displayMessage=0:this.displayMessage=!0,this.loadCommentRecords()},currentPage:function(t){this.loadCommentRecords(this.pagination.current_page)},printWindow:function(){window.print()},closePopup:function(t){this.$bvModal.hide(t),this.$bvModal.hide(this.shippingStatusPopupId),this.statusData={}},updateOrderStatus:function(t,a,s,e){var r=this.orders.order_payment_method;if(this.orders.transaction&&0==this.inArray(this.orders.transaction.txn_gateway_type,["cash","card"])&&(r=this.orders.transaction.txn_gateway_type),"approved"==a&&"cod"==r&&2==this.orders.payment_status)return this.statusData={id:this.$route.params.requestId,status:a,type:"returnApproved",key:e,dropdownKey:t,complete:0},this.adminsData.payment_method="Bank Transfer",this.adminsData.amount=this.returnTotal.toFixed(2),this.$bvModal.show(this.codApprovedModelId),!1;this.statusData={id:this.$route.params.requestId,status:a,type:s,key:e,dropdownKey:t,complete:0},this.$bvModal.show(this.shippingStatusPopupId)},updateStatus:function(a,s){var e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(a.type&&"returnApproved"==a.type)this.approvedPayment(r);else{this.orders.products[a.key].cancel_request.orrequest_status=a.dropdownKey;var i=this.$serializeData({status:a.status,message:s.message,complete:a.complete,tracking_number:s.tracking_number,courier_name:s.courier_name,amount:this.returnTotal,"transfer-detail":JSON.stringify(r)});this.$http.post(adminBaseUrl+"/orders/return/status/"+a.id,i).then((function(a){e.url="",e.statusData={},e.adminsData={},e.$bvModal.hide(e.shippingStatusPopupId),e.$bvModal.hide(e.codApprovedModelId),0!=a.data.status?(t.success(a.data.message,"",t.options),e.loadCommentRecords()):t.error(a.data.message,"",t.options)}))}},approvedPayment:function(a){var s=this,e=this.$serializeData(a);e.append("order-id",this.orders.order_id),e.append("request-id",this.$route.params.requestId),this.$http.post(adminBaseUrl+"/orders/retun/approved",e).then((function(a){if(0==a.data.status)return s.isLoading=!1,void t.error(a.data.message,"",t.options);s.$bvModal.hide(s.codApprovedModelId),s.$bvModal.hide(s.shippingStatusPopupId),s.pageLoadData(s.orders.order_id,s.$route.params.requestId),t.success(a.data.message,"",t.options)}),(function(t){s.validateErrors(t)}))},updateNote:function(){var a=this;this.note=this.note.trim();var s=this.$serializeData({note:this.note});s.append("order-id",this.orders.order_id),this.$http.post(adminBaseUrl+"/orders/update-notes",s).then((function(s){a.editnote=0,t.success(s.data.message,"",t.options)}))},pageLoadData:function(t,a){var s=this;this.$http.get(adminBaseUrl+"/return-order/"+t+"/"+a).then((function(t){var a=t.data.data.order;s.orders=a,s.userName=t.data.data.userName,s.shippingStatus=t.data.data.shippingStatus,s.orderStatus=t.data.data.orderStatus,s.orderReturnStatus=t.data.data.orderReturnStatus,s.messages=t.data.data.messages.data,s.pagination=t.data.data.messages,s.addressTypes=t.data.data.addressTypes,s.totalProduct=a.products.length,a.order_tax_charged&&(s.tax=a.order_tax_charged),a.order_shipping_value&&(s.shipping=a.order_shipping_value),a.order_discount_amount&&(s.discount=a.order_discount_amount),a.order_gift_amount&&(s.giftprice=a.order_gift_amount),a.order_reward_amount&&(s.rewardAmount=a.order_reward_amount),s.subTotal=parseFloat(a.order_net_amount-s.tax-s.shipping-s.giftprice)+parseFloat(s.rewardAmount)+parseFloat(s.discount),s.varifyStatus(a)}))},inArray:function(t,a){for(var s=a.length,e=0;e<s;e++)if(a[e]==t)return!0;return!1},varifyStatus:function(t){var a=this,s=[],e=[],r="Return";Object.keys(t.products).forEach((function(i){t.products[i].cancel_request&&(1==t.products[i].cancel_request.orrequest_status?s.push(!0):s.push(!1),2==t.products[i].cancel_request.orrequest_status?e.push(!0):e.push(!1),a.notes=t.products[i].cancel_request.orrequest_comment,a.calulateRefund(t.products[i]),t.products[i].op_product_variants&&JSON.parse(t.products[i].op_product_variants).gift&&(a.giftMessage=JSON.parse(t.products[i].op_product_variants).gift),2==t.products[i].cancel_request.orrequest_type&&(r="cancellation"),a.returnType=r,a.refundTransactionId=t.products[i].cancel_request.txn_gateway_transaction_id)})),0==this.inArray(!1,s)&&3==t.order_status?this.returnStatus=1:this.returnStatus=0,0==this.inArray(!1,e)&&3==t.order_status&&(this.totalRefund=0),this.balance=t.order_net_amount-this.totalRefund-t.order_amount_charged},calulateRefund:function(t){this.returnSubtotal=t.op_product_price*t.cancel_request.orrequest_qty,this.returnTax=t.cancel_request.oramount_tax,this.returnDiscount=t.cancel_request.oramount_discount,this.returnGiftwrap=t.cancel_request.oramount_giftwrap_price,this.returnReward=t.cancel_request.oramount_reward_price,this.returnShipping=t.cancel_request.oramount_shipping;var a=parseFloat(this.returnSubtotal)+parseFloat(this.returnTax)+parseFloat(this.returnShipping);0!=this.returnDiscount&&(a-=this.returnDiscount),0!=this.returnReward&&(a-=this.returnReward),0!=this.returnGiftwrap&&this.returnGiftwrap>0&&(a=parseFloat(a)+parseFloat(Math.abs(this.returnGiftwrap))),a<0&&(a=0),this.returnTotal=a},loadCommentRecords:function(t){var a=this,s=this.$serializeData({"record-id":this.$route.params.requestId,type:"return"});s.append("comment",this.displayMessage),void 0!==this.pagination.per_page&&s.append("per_page",this.pagination.per_page),this.$http.post(adminBaseUrl+"/orders/load-comments?page="+t,s).then((function(t){a.messages=t.data.data.messages.data,a.pagination=t.data.data.messages}))},validateRecord:function(){var a=this;this.clicked=1,this.$validator.validate("comment",this.comment).then((function(s){if(s){var e=a.$serializeData({comment:a.comment,type:"return"});e.append("record-id",a.$route.params.requestId),a.$http.post(adminBaseUrl+"/orders/comments",e).then((function(s){if(0==s.data.status)return a.isLoading=!1,void t.error(s.data.message,"",t.options);a.comment="",t.success(s.data.message,"",t.options),a.loadCommentRecords(),a.clicked=0}),(function(t){a.validateErrors(t)}))}}))},validateErrors:function(t){var a=this,s=t.data;Object.keys(s.errors).forEach((function(t){a.errors.add({field:t,msg:s.errors[t][0]})}))},nl2br:function(t,a){return null==t?"":(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(a||void 0===a?"<br />":"<br>")+"$2")}},mounted:function(){var t=this.$route.params.id,a=this.$route.params.requestId;this.pageLoadData(t,a)}}}).call(this,s("hUol"))},CeuZ:function(t,a,s){"use strict";var e={data:function(){return{clicked:0}},props:["statusData","url","adminsData","readonly"],methods:{validatePaymentRecord:function(){var t=this;this.$validator.validateAll().then((function(a){a&&t.$emit("updateStatus",t.statusData,t.commentData,t.adminsData)}))},closePopup:function(){this.$emit("closePopup","codApproved")},methodSelection:function(){this.adminsData.transaction_id=this.$rndStr(),"card"==this.adminsData.payment_method&&(this.adminsData.transaction_id=""),this.$forceUpdate()}}},r=s("KHd+"),i=Object(r.a)(e,(function(){var t=this,a=t._self._c;return a("b-modal",{attrs:{id:"codApproved",centered:"",title:"BootstrapVue","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",{staticClass:"modal-title"},[t.statusData&&1==t.statusData.complete?a("span",[t._v(t._s(t.$t("LBL_CHANGING_STATUS_FOR"))+" "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id)+" "+t._s(t.$t("LBL_TO_COMPLETE")))]):t.statusData&&"payment"==t.statusData.type?a("span",[t._v(t._s(t.$t("LBL_ADDING_PAYMENT_FOR"))+" "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id))]):t.statusData&&"returnApproved"==t.statusData.type?a("span",[t._v(t._s(t.$t("LBL_RETURNING_AMOUNT_FOR"))+" "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id))]):a("span",[t._v(t._s(t.$t("LBL_CHANGING_STATUS_FOR"))+" "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id)+" "+t._s(t.$t("LBL_TO"))+" "+t._s(t._f("removeHyphen")(t.statusData.status)))])]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.closePopup("codApproved")}}})]},proxy:!0},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-brand",attrs:{type:"button"},on:{click:t.validatePaymentRecord}},[t._v(t._s(t.$t("BTN_COD_APPROVED_SAVE")))])]},proxy:!0}])},[t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group",class:["approved"==t.statusData.status?"disabledbutton":""]},[a("label",[t._v(t._s(t.$t("LBL_PAYMENT_METHOD")))]),t._v(" "),"delivered"==t.statusData.status?a("select",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.payment_method,expression:"adminsData.payment_method"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"prod_type","data-vv-as":t.$t("LBL_PAYMENT_METHOD"),"data-vv-validate-on":"none"},on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.adminsData,"payment_method",a.target.multiple?s:s[0])},function(a){return t.methodSelection()}]}},[a("option",{attrs:{value:"cash"}},[t._v(t._s(t.$t("LBL_CASH")))]),t._v(" "),a("option",{attrs:{value:"card"}},[t._v(t._s(t.$t("LBL_CARD")))])]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.payment_method,expression:"adminsData.payment_method"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"payment_method",readonly:"","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_PAYMENT_METHOD")},domProps:{value:t.adminsData.payment_method},on:{input:function(a){a.target.composing||t.$set(t.adminsData,"payment_method",a.target.value)}}}),t._v(" "),t.errors.first("payment_method")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("payment_method")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_TRANSACTION")+" #"))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.transaction_id,expression:"adminsData.transaction_id"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"transaction_id","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_TRANSACTION")+" #"},domProps:{value:t.adminsData.transaction_id},on:{input:function(a){a.target.composing||t.$set(t.adminsData,"transaction_id",a.target.value)}}}),t._v(" "),t.errors.first("transaction_id")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("transaction_id")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-lg-4",class:["true"==t.readonly?"disabledbutton":""]},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_AMOUNT")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.amount,expression:"adminsData.amount"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"number",name:"amount",min:0,"data-vv-validate-on":"none",readonly:t.readonly},domProps:{value:t.adminsData.amount},on:{input:function(a){a.target.composing||t.$set(t.adminsData,"amount",a.target.value)}}}),t._v(" "),t.errors.first("amount")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("amount")))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_COMMENTS")))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.payment_comment,expression:"adminsData.payment_comment"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"payment_comment","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_COMMENTS")},domProps:{value:t.adminsData.payment_comment},on:{input:function(a){a.target.composing||t.$set(t.adminsData,"payment_comment",a.target.value)}}}),t._v(" "),t.errors.first("payment_comment")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("payment_comment")))]):t._e()])])])])}),[],!1,null,null,null);a.a=i.exports},Z9V8:function(t,a,s){"use strict";var e={message:"",tracking_number:"",courier_name:""},r={data:function(){return{clicked:0,statusChangeSaveClicked:0,uploaded:1,commentData:e}},props:["statusData","url","shippingCourier"],methods:{uploadFile:function(t,a,s,e){var r=this;this.uploaded=0;var i=new FormData;i.append("file",t.target.files[0]),i.append("op_id",a),i.append("order_id",s),i.append("product_id",e),this.$http.post(adminBaseUrl+"/orders/upload-digital-file",i).then((function(t){r.uploaded=1}))},validateShippingStatus:function(){var t=this;this.$validator.validateAll(this.commentData).then((function(a){a?(t.statusChangeSaveClicked=1,t.$emit("updateStatus",t.statusData,t.commentData)):t.statusChangeSaveClicked=0}))},closePopup:function(){this.$emit("closePopup")}},watch:{statusData:function(){this.commentData.message="",this.commentData.tracking_number="",this.commentData.courier_name="",this.statusChangeSaveClicked=0}}},i=s("KHd+"),n=Object(i.a)(r,(function(){var t=this,a=t._self._c;return a("b-modal",{attrs:{id:"shippingStatusPopup",centered:"",title:"BootstrapVue","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(s){s.close;return[a("h5",{staticClass:"modal-title"},[t.statusData&&1==t.statusData.complete?a("span",[t._v("\n        "+t._s(t.$t("LBL_CHANGING_STATUS_FOR"))+"\n        "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id)+"\n        "+t._s(t.$t("LBL_TO_COMPLETE"))+"\n      ")]):a("span",[t._v("\n        "+t._s(t.$t("LBL_CHANGING_STATUS_FOR"))+"\n        "+t._s(""!=t.url?t.$t("LBL_REQUEST"):t.$t("LBL_ORDER"))+" #"+t._s(t.statusData.id)+"\n        "+t._s(t.$t("LBL_TO"))+" "+t._s(t._f("removeHyphen")(t.statusData.status))+"\n      ")])]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.closePopup()}}})]}},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-brand",attrs:{type:"button",disabled:1==t.statusChangeSaveClicked||0==t.uploaded},on:{click:t.validateShippingStatus}},[t._v(t._s(t.$t("BTN_SHIPPING_STATUS_UPDATE")))])]},proxy:!0}])},[t._v(" "),t.statusData.digitalCount&&t.statusData.uploadInfo?a("div",{staticClass:"row"},t._l(t.statusData.uploadInfo,(function(s,e){return a("div",{key:e,staticClass:"col-lg-12"},t._l(s.op_qty,(function(e){return a("div",{key:e,staticClass:"form-group"},[a("label",[t._v(t._s(s.op_product_name+" "+e))]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"file",name:"courier_name"},on:{change:function(a){return t.uploadFile(a,s.op_id,t.statusData.id,s.op_product_id)}}})])})),0)})),0):t._e(),t._v(" "),"shipped"==t.statusData.status&&0==t.statusData.digitalOrderType?a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[void 0!==t.shippingCourier&&Object.keys(t.shippingCourier).length>0?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_SHIPPING_CARRIER")))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.commentData.courier_name,expression:"commentData.courier_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"courier_name","data-vv-as":t.$t("LBL_SHIPPING_CARRIER"),disabled:1==Object.keys(t.shippingCourier).length,"data-vv-validate-on":"none"},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.commentData,"courier_name",a.target.multiple?s:s[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v(t._s(t.$t("LBL_SHIPPING_CARRIER")))]),t._v(" "),t._l(t.shippingCourier,(function(s,e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(s))])}))],2),t._v(" "),t.errors.first("courier_name")?a("span",{staticClass:"error text-danger"},[t._v("\n          "+t._s(t.errors.first("courier_name"))+"\n        ")]):t._e()]):a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_SHIPPING_CARRIER")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentData.courier_name,expression:"commentData.courier_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"courier_name","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_SHIPPING_CARRIER")},domProps:{value:t.commentData.courier_name},on:{input:function(a){a.target.composing||t.$set(t.commentData,"courier_name",a.target.value)}}}),t._v(" "),t.errors.first("courier_name")?a("span",{staticClass:"error text-danger"},[t._v("\n          "+t._s(t.errors.first("courier_name"))+"\n        ")]):t._e()])]),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_TRACKING_NUMBER")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentData.tracking_number,expression:"commentData.tracking_number"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"tracking_number","data-vv-validate-on":"none","data-vv-as":t.$t("LBL_TRACKING_NUMBER")},domProps:{value:t.commentData.tracking_number},on:{input:function(a){a.target.composing||t.$set(t.commentData,"tracking_number",a.target.value)}}}),t._v(" "),t.errors.first("tracking_number")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("tracking_number")))]):t._e()])])]):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_COMMENTS")))]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentData.message,expression:"commentData.message"}],staticClass:"form-control",attrs:{name:"message",spellcheck:"false","data-vv-validate-on":"none"},domProps:{value:t.commentData.message},on:{input:function(a){a.target.composing||t.$set(t.commentData,"message",a.target.value)}}})])])])])}),[],!1,null,null,null);a.a=n.exports},pA13:function(t,a,s){"use strict";s.r(a);var e=s("AzjK").a,r=s("KHd+"),i=Object(r.a)(e,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"subheader",attrs:{id:"subheader"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"subheader__main"},[a("div",{staticClass:"with-arrow mb-3"},[a("h3",{staticClass:"subheader__title"},[t._v("#"+t._s(this.$route.params.requestId))])])]),t._v(" "),a("div",{staticClass:"subheader__toolbar"},[a("div",{staticClass:"subheader__wrapper"},[a("a",{staticClass:"btn btn-subheader",attrs:{href:"javascript:;"},on:{click:function(a){return t.printWindow()}}},[t._v(t._s(t.$t("BTN_PRINT")))]),t._v(" "),a("router-link",{staticClass:"btn btn-white",attrs:{to:{name:"orders"}}},[t._v(t._s(t.$t("BTN_BACK")))])],1)])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8"},[a("div",{staticClass:"portlet portlet-no-min-height"},[a("div",{staticClass:"portlet__head ribbon ribbon--dark ribbon--shadow ribbon--left ribbon--round"},[a("div",{staticClass:"portlet__head-label"},[a("h3",{staticClass:"portlet__head-title"},[t._v(t._s(t._f("camelCase")(t.returnType))+" Request")])])]),t._v(" "),t._l(t.orders.products,(function(s,e){return s.cancel_request?a("span",{key:e},[a("div",{staticClass:"portlet__body"},[a("ul",{staticClass:"list-group list-cart list-cart-order list-order list-order-return"},[a("li",{staticClass:"list-group-item"},[a("div",{staticClass:"list-inner"},[a("div",{staticClass:"product-profile"},[a("div",{staticClass:"product-profile__thumbnail"},[a("a",{attrs:{href:"javascript:;"}},[a("img",{staticClass:"img-fluid",attrs:{src:t.$productImage(s.op_product_id,s.op_pov_code,s.images?t.$timestamp(s.images.afile_updated_at):"","39-52"),alt:"..."}})])]),t._v(" "),a("div",{staticClass:"product-profile__data"},[a("div",{staticClass:"title"},[a("a",{staticClass:"text-body",attrs:{href:"javascript:;"}},[t._v(t._s(s.op_product_name))])]),t._v(" "),JSON.parse(s.op_product_variants).styles?a("p",{staticClass:"product-option-wrap"},[t._v(t._s(Object.values(JSON.parse(s.op_product_variants).styles).join(" | ")))]):t._e()])]),t._v(" "),a("div",{staticClass:"by-quantity"},[a("span",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(s.op_product_price)))]),t._v(" "),a("span",[t._v("×")]),t._v(" "),a("span",[t._v(t._s(s.cancel_request.orrequest_qty))])]),t._v(" "),a("div",{staticClass:"price font-weight-bold"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(s.op_product_price*s.cancel_request.orrequest_qty)))])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"}),t._v(" "),a("div",{staticClass:"col"},[a("ul",{staticClass:"list-group list-group-sm list-group-flush-y list-group-flush-x mt-5"},[a("li",{staticClass:"list-group-item d-flex"},[a("span",[t._v(t._s(t.$t("LBL_SUBTOTAL")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.returnSubtotal)))])]),t._v(" "),a("li",{staticClass:"list-group-item d-flex"},[a("span",[t._v(t._s(t.$t("LBL_TAX")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.returnTax)))])]),t._v(" "),0!=t.returnShipping?a("li",{staticClass:"list-group-item d-flex"},[a("span",[t._v(t._s(t.$t("LBL_SHIPPING")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.returnShipping)))])]):t._e(),t._v(" "),0!=t.returnDiscount?a("li",{staticClass:"list-group-item d-flex"},[a("span",[t._v(t._s(t.$t("LBL_DISCOUNT_PRICE")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v("- "+t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.returnDiscount)))])]):t._e(),t._v(" "),0!=t.returnGiftwrap&&t.returnGiftwrap>0?a("li",{staticClass:"list-group-item d-flex"},[a("span",[t._v(t._s(t.$t("LBL_GIFT_WRAP_AMOUNT")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(Math.abs(t.returnGiftwrap))))])]):t._e(),t._v(" "),0!=t.returnReward?a("li",{staticClass:"list-group-item d-flex"},[a("span",[t._v(t._s(t.$t("LBL_REWARD_POINTS_AMOUNT")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v("- "+t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.returnReward)))])]):t._e(),t._v(" "),a("li",{staticClass:"list-group-item d-flex"},[a("span",[t._v(t._s(t.$t("LBL_TOTAL")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.returnTotal)))])])])])])]),t._v(" "),a("hr",{staticClass:"m-0"}),t._v(" "),a("div",{staticClass:"portlet__body"},[a("h6",[t._v(t._s(t.$t("LBL_REQUEST_STATUS")))]),t._v(" "),a("ul",{staticClass:"order-status-click",class:[2==s.cancel_request.orrequest_status?"disabledbutton":""]},t._l(t.orderReturnStatus,(function(r,i){return 2!=s.cancel_request.orrequest_type||1!=i?a("li",{key:i,class:[s.cancel_request.orrequest_status==i?"active":"",2==s.cancel_request.orrequest_status?"disabledbutton":""],on:{click:function(a){return t.updateOrderStatus(i,r,s.cancel_request.orrequest_type,e)}}},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#"+r,href:t.baseUrl+"/admin/images/retina/sprite.svg#"+r}})])]),t._v("\n                  "+t._s(t._f("camelCase")(t._f("removeHyphen")(r)))+"\n                ")]):t._e()})),0)])]):t._e()}))],2),t._v(" "),a("div",{staticClass:"portlet portlet-no-min-height"},[a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-label"},[a("h3",{staticClass:"portlet__head-title"},[t._v(t._s(t.$t("LBL_TIMELINE")))])])]),t._v(" "),a("div",{staticClass:"portlet__body"},[a("div",{staticClass:"timeline-comments"},[a("div",{staticClass:"timeline-avatar"},[a("span",{staticClass:"timeline-avatar-initials"},[t._v(t._s(t.userName))])]),t._v(" "),a("form",{staticClass:"form timeline-comments-box",on:{submit:function(a){return a.preventDefault(),t.validateRecord.apply(null,arguments)}}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_LEAVE_A_COMMENT"),name:"comment","data-vv-validate-on":"none"},domProps:{value:t.comment},on:{input:function(a){a.target.composing||(t.comment=a.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-brand btn-wide gb-btn-primary",class:1==t.clicked&&"gb-is-loading",attrs:{disabled:""==t.comment||1==t.clicked,type:"submit"}},[t._v(t._s(t.$t("BTN_POST")))])])]),t._v(" "),t.errors.first("comment")?a("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("comment")))]):t._e()])]),t._v(" "),t.messages.length>0?a("ul",{staticClass:"timeline my-5",attrs:{id:"timeline"}},t._l(t.messages,(function(s,e){return a("li",{key:e,staticClass:"event",class:[1==s.omsg_from_type?"admin":"",4==s.omsg_type?"status":"comments",0==e?"last-status":""],attrs:{"data-date":t._f("formatDateTime")(s.omsg_created_at)}},[a("span",{staticClass:"timeline__date"}),t._v(" "),a("div",{staticClass:"data"},[s.comments?a("span",[a("a",{staticClass:"dropdown-toggle collapsed",attrs:{"data-toggle":"collapse",href:"#event"+s.omsg_id,"aria-expanded":"false"}},[t._v("\n                      "+t._s(t._f("camelCase")(t._f("removeHyphen")(s.omsg_comment)))+"\n                    ")]),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:"event"+s.omsg_id,"data-parent":"#timeline"}},[a("div",{staticClass:"mt-3"},[a("div",{staticClass:"other-detail",domProps:{innerHTML:t._s(s.comments.omsg_comment)}})])])]):a("span",{domProps:{innerHTML:t._s(s.omsg_comment)}})])])})),0):t._e(),t._v(" "),a("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1)])]),t._v(" "),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"portlet portlet--tabs portlet-no-min-height"},[a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-toolbar"},[a("ul",{staticClass:"nav nav-tabs nav-tabs-line nav-tabs-line-danger nav-tabs-line-2x nav-tabs-line-right nav-tabs-bold",attrs:{role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"javascript:;",customsearch:"",role:"tab","aria-selected":"false"}},[t._v(t._s(t.$t("LNK_ORDER_DETAIL")))])])])])]),t._v(" "),a("div",{staticClass:"portlet__body p-0"},[a("ul",{staticClass:"list-group list-group-flush-x list-group-flush-y px-5 pt-5 list-cart list-cart-order list-order list-order-return mb-2"},t._l(t.orders.products,(function(s,e){return a("li",{key:e,staticClass:"list-group-item border-0"},[a("div",{staticClass:"list-inner"},[a("div",{staticClass:"product-profile"},[a("div",{staticClass:"product-profile__thumbnail"},[a("a",{attrs:{href:"javascript:;"}},[a("img",{staticClass:"img-fluid",attrs:{src:t.$productImage(s.op_product_id,s.op_pov_code,s.images?t.$timestamp(s.images.afile_updated_at):"","39-52"),alt:"..."}})])]),t._v(" "),a("div",{staticClass:"product-profile__data"},[a("div",{staticClass:"title"},[a("a",{staticClass:"text-body",attrs:{href:"javascript:;"}},[t._v(t._s(s.op_product_name))])]),t._v(" "),s.op_product_variants?a("p",{staticClass:"options"},[JSON.parse(s.op_product_variants).styles?a("span",[t._v(t._s(Object.values(JSON.parse(s.op_product_variants).styles).join(" | ")))]):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"product-quantity"},[a("div",{staticClass:"by-quantity"},[a("span",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(s.op_product_price)))]),t._v(" "),a("span",[t._v("×")]),t._v(" "),a("span",[t._v(t._s(s.op_qty))])])])])]),t._v(" "),a("div",{staticClass:"product-price font-weight-bold"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(s.op_product_price*s.op_qty)))])])])})),0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("ul",{staticClass:"list-group list-group-sm list-group-flush-y list-group-flush-x m-5"},[a("li",{staticClass:"list-group-item d-flex border-0 py-2"},[a("span",[t._v(t._s(t.$t("LBL_SUBTOTAL")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.subTotal)))])]),t._v(" "),a("li",{staticClass:"list-group-item d-flex border-0 py-2"},[a("span",[t._v(t._s(t.$t("LBL_TAX")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.tax)))])]),t._v(" "),a("li",{staticClass:"list-group-item d-flex border-0 py-2"},[a("span",[t._v(t._s(t.$t("LBL_SHIPPING")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[0==t.shipping?a("span",[t._v(t._s(t.$t("LBL_FREE")))]):a("span",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.shipping)))])])]),t._v(" "),Object.keys(t.giftMessage).length>0&&t.giftprice>0?a("li",{staticClass:"list-group-item d-flex border-0 py-2"},[a("span",[t._v(t._s(t.$t("LBL_GIFT_WRAP_AMOUNT")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[0==t.giftprice?a("span",[t._v(t._s(t.$t("LBL_FREE")))]):a("span",[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.giftprice)))])])]):t._e(),t._v(" "),0!=t.discount?a("li",{staticClass:"list-group-item d-flex border-0 py-2"},[a("span",[t._v(t._s(t.$t("LBL_DISCOUNT"))+" "+t._s(t.orders.order_discount_coupon_code))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v("- "+t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.discount)))])]):t._e(),t._v(" "),0!=t.rewardAmount?a("li",{staticClass:"list-group-item d-flex border-0 py-2"},[a("span",[t._v(t._s(t.$t("LBL_REWARD_POINTS_AMOUNT")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.rewardAmount)))])]):t._e(),t._v(" "),a("li",{staticClass:"list-group-item d-flex font-weight-bold py-2"},[a("span",[t._v(t._s(t.$t("LBL_TOTAL")))]),t._v(" "),a("span",{staticClass:"ml-auto"},[t._v(t._s(t.currencySymbol)+t._s(t._f("numberFormat")(t.orders.order_net_amount)))])])])])])])]),t._v(" "),a("div",{staticClass:"portlet portlet-no-min-height"},[a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-label"},[a("h3",{staticClass:"portlet__head-title"},[a("i",{staticClass:"fas fa-envelope"}),t._v("\n                "+t._s(t.$t("LBL_CONTACT_INFORMATION"))+"\n              ")])])]),t._v(" "),a("div",{staticClass:"portlet__body"},[a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_EMAIL"))+":")]),t._v("\n              "+t._s(t.orders.user_email)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_PHONE"))+":")]),t._v("\n              "+t._s(t.orders.user_phone_country_id?"+"+t.orders.user_phone_country_id:"")+" "+t._s(t.orders.user_phone)+"\n            ")])])]),t._v(" "),t._l(t.orders.address,(function(s){return a("div",{staticClass:"portlet portlet-no-min-height"},[a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-label"},[a("h3",{staticClass:"portlet__head-title"},[a("i",{staticClass:"fas",class:[1==s.oaddr_type?"fa-file-invoice":"",2==s.oaddr_type?"fa-shipping-fast":"",3==s.oaddr_type?"fa-people-carry":""]}),t._v("\n                "+t._s(t.addressTypes[s.oaddr_type])+"\n              ")])])]),t._v(" "),a("div",{staticClass:"portlet__body"},[a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_NAME"))+":")]),t._v("\n              "+t._s(s.oaddr_name)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_APARTMENT_NO"))+":")]),t._v("\n              "+t._s(s.oaddr_address1)+"\n            ")]),t._v(" "),s.oaddr_address2?a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_ADDRESS"))+":")]),t._v("\n              "+t._s(s.oaddr_address2)+"\n            ")]):t._e(),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_CITY_STATE"))+":")]),t._v("\n              "+t._s(s.oaddr_city+", "+s.oaddr_state)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_POSTAL_CODE"))+":")]),t._v("\n              "+t._s(s.oaddr_postal_code)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_COUNTRY"))+":")]),t._v("\n              "+t._s(s.oaddr_country)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_PHONE"))+":")]),t._v("\n              "+t._s(s.country?"+"+s.country.country_phonecode:"")+" "+t._s(s.oaddr_phone)+"\n            ")])])])})),t._v(" "),Object.keys(t.giftMessage).length>0?a("div",{staticClass:"portlet portlet-no-min-height"},[a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-label"},[a("h3",{staticClass:"portlet__head-title"},[a("i",{staticClass:"icn"},[a("svg",{staticClass:"svg",attrs:{width:"16px",height:"16px"}},[a("use",{attrs:{"xlink:href":t.activeThemeUrl+"/media/retina/sprite.svg#test",href:t.activeThemeUrl+"/media/retina/sprite.svg#test"}})])]),t._v("\n                "+t._s(t.$t("LBL_GIFT_DETAILS"))+"\n              ")])])]),t._v(" "),a("div",{staticClass:"portlet__body"},[a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_TO"))+":")]),t._v("\n              "+t._s(t.giftMessage.message.to)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_FROM"))+":")]),t._v("\n              "+t._s(t.giftMessage.message.from)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_MESSAGE"))+":")]),t._v("\n              "+t._s(t.giftMessage.message.message)+"\n            ")])])]):t._e(),t._v(" "),t.orders.bank_information?a("div",{staticClass:"portlet portlet-no-min-height"},[a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-label"},[a("h3",{staticClass:"portlet__head-title"},[a("i",{staticClass:"fas fa-envelope"}),t._v("\n                "+t._s(t.$t("LBL_BANK_INFORMATION"))+"\n              ")])])]),t._v(" "),a("div",{staticClass:"portlet__body"},[a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_BANK_NAME"))+":")]),t._v("\n              "+t._s(t.orders.bank_information.orbinfo_name)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_BRANCH_NAME"))+":")]),t._v("\n              "+t._s(t.orders.bank_information.orbinfo_branch)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_ACCOUNT_NAME"))+":")]),t._v("\n              "+t._s(t.orders.bank_information.orbinfo_account_name)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_ACCOUNT_NUMBER"))+":")]),t._v("\n              "+t._s(t.orders.bank_information.orbinfo_account_number)+"\n            ")]),t._v(" "),a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_BRANCH_CODE"))+":")]),t._v("\n              "+t._s(t.orders.bank_information.orbinfo_branch_code)+"\n            ")]),t._v(" "),t.orders.bank_information.orbinfo_notes?a("p",{staticClass:"list-text"},[a("span",{staticClass:"lable"},[t._v(t._s(t.$t("LBL_NOTES"))+":")]),t._v("\n              "+t._s(t.orders.bank_information.orbinfo_notes)+"\n            ")]):t._e()])]):t._e()],2)])]),t._v(" "),a("shipping-status",{attrs:{statusData:t.statusData,url:t.url},on:{closePopup:t.closePopup,updateStatus:t.updateStatus}}),t._v(" "),a("cod-payment",{attrs:{statusData:t.statusData,url:t.url,adminsData:t.adminsData,readonly:t.readonly},on:{closePopup:t.closePopup,updateStatus:t.updateStatus}})],1)}),[],!1,null,null,null);a.default=i.exports}}]);