(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{C1W2:function(a,s,t){"use strict";(function(a){s.a={props:["tab"],data:function(){return{adminBaseUrl:adminBaseUrl,baseUrl:baseUrl,croppedImage:"",croppedImageView:"",originalImage:"",uploadedFile:"",noImage:"",userFullname:"",roleName:"",admin_id:""}},methods:{getUser:function(){var a=this;this.$http.get(adminBaseUrl+"/get-user").then((function(s){a.roleName="Super Admin",null!=s.data.data.admin_role_id&&(a.roleName=s.data.data.admin_role.role_name),a.noImage=s.data.noImage,a.userFullname=s.data.data.admin_name,a.admin_id=s.data.data.admin_id,""!=s.data.data.admin_profile_image.afile_record_id?a.croppedImage=a.croppedImageView=a.$getFileUrl("profileImage",s.data.data.admin_profile_image.afile_record_id,0,"120-120")+"/"+a.$rndStr():a.croppedImage=a.uploadedFile="",a.originalImage=a.uploadedFile=a.$getFileUrl("profileImage",s.data.data.admin_profile_image.afile_record_id)+"/"+a.$rndStr()}))},setImage:function(a,s){this.croppedImage=a,this.croppedImageView=URL.createObjectURL(a),""==s&&this.uploadImage()},setActualImage:function(a){"string"!=typeof a?(this.originalImage=URL.createObjectURL(a),this.uploadedFile=a):this.uploadedFile=this.originalImage=a,this.uploadImage()},uploadImage:function(){var s=this,t=new FormData;t.append("actualImage",this.uploadedFile),t.append("cropImage",this.croppedImage),this.$root.$emit("adminImage",this.croppedImageView),this.$http.post(adminBaseUrl+"/update-profile-image/"+this.admin_id,t).then((function(s){a.success(s.data.success,"",{timeOut:5e3})}),(function(a){s.validateErrors(a)}))},logout:function(){var a=this;this.$http.get(adminBaseUrl+"/logout").then((function(s){a.$router.go()}))}},mounted:function(){this.getUser()}}}).call(this,t("hUol"))},GKR2:function(a,s,t){"use strict";t.r(s);var i=t("Mltj").a,e=t("KHd+"),d=Object(e.a)(i,(function(){var a=this,s=a._self._c;return s("div",[s("div",{staticClass:"subheader",attrs:{id:"subheader"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"subheader__main"},[s("h3",{staticClass:"subheader__title"},[a._v(a._s(a.$t("LBL_ADMIN_CHANGE_PASSWORD")))]),a._v(" "),s("div",{staticClass:"subheader__breadcrumbs"},[s("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[s("i",{staticClass:"flaticon2-shelter"})]),a._v(" "),s("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),s("span",{staticClass:"subheader__breadcrumbs-link"},[a._v(a._s(a.$t("LBL_ADMIN_CHANGE_PASSWORD")))])],1)])])]),a._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"grid-layout"},[a._m(0),a._v(" "),s("profile-sidebar",{attrs:{tab:"changePassword"}}),a._v(" "),s("div",{staticClass:"grid-layout-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12"},[s("div",{staticClass:"portlet portlet--height-fluid"},[s("div",{staticClass:"portlet__body"},[s("div",{staticClass:"section"},[s("div",{staticClass:"section__body"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_OLD_PASSWORD")))]),a._v(" "),s("div",{staticClass:"col-lg-9"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:a.adminsData.admin_old_password,expression:"adminsData.admin_old_password"}],staticClass:"form-control",attrs:{type:"password",name:"admin_old_password","data-vv-as":a.$t("LBL_OLD_PASSWORD"),"data-vv-validate-on":"none"},domProps:{value:a.adminsData.admin_old_password},on:{input:function(s){s.target.composing||a.$set(a.adminsData,"admin_old_password",s.target.value)}}}),a._v(" "),a.errors.first("admin_old_password")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_old_password")))]):a._e()])]),a._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_PASSWORD")))]),a._v(" "),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"input-icon input-icon--right"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:a.adminsData.admin_password,expression:"adminsData.admin_password"}],staticClass:"form-control",attrs:{type:"password",name:"admin_password","data-vv-as":a.$t("LBL_PASSWORD"),"data-vv-validate-on":"none"},domProps:{value:a.adminsData.admin_password},on:{focus:function(s){a.pswd_info=1},blur:function(s){a.pswd_info=0},keyup:function(s){return a.onPasswordInput(s)},input:function(s){s.target.composing||a.$set(a.adminsData,"admin_password",s.target.value)}}}),a._v(" "),Object.values(a.passwordValidate).includes(!1)?a._e():s("div",{staticClass:"input-icon__icon input-icon__icon--right"},[s("span",[s("i",{staticClass:"password-toggle"},[s("img",{attrs:{src:a.baseUrl+"/admin/images/retina/check.svg",width:"16px",height:"16px"}})])])]),a._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:a.pswd_info,expression:"pswd_info"}],attrs:{id:"pswd_info"}},[s("h4",[a._v(a._s(a.$t("LBL_PASSWORD_MUST_CONTAIN"))+":")]),a._v(" "),s("ul",[s("li",{class:[!0===a.passwordValidate.length?"valid":"invalid"],attrs:{id:"length"}},[a._v(a._s(a.$t("MSG_VALIDATE_LENGTH")))]),a._v(" "),s("li",{class:[!0===a.passwordValidate.letter?"valid":"invalid"],attrs:{id:"letter"}},[a._v(a._s(a.$t("MSG_VALIDATE_LETTER")))]),a._v(" "),s("li",{class:[!0===a.passwordValidate.capital?"valid":"invalid"],attrs:{id:"capital"}},[a._v(a._s(a.$t("MSG_VALIDATE_UPPERCASE")))]),a._v(" "),s("li",{class:[!0===a.passwordValidate.number?"valid":"invalid"],attrs:{id:"number"}},[a._v(a._s(a.$t("MSG_VALIDATE_NUMBER")))]),a._v(" "),s("li",{class:[!0===a.passwordValidate.special?"valid":"invalid"],attrs:{id:"special"}},[a._v(a._s(a.$t("MSG_VALIDATE_SPECIAL_CHAR")))])])]),a._v(" "),a.errors.first("admin_password")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_password")))]):a._e()])])]),a._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-lg-3 col-form-label"},[a._v(a._s(a.$t("LBL_CONFIRM_PASSWORD")))]),a._v(" "),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"input-icon input-icon--right"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:a.adminsData.admin_confirm_password,expression:"adminsData.admin_confirm_password"}],staticClass:"form-control",attrs:{type:"password",name:"admin_confirm_password","data-vv-as":a.$t("LBL_CONFIRM_PASSWORD"),"data-vv-validate-on":"none",autocomplete:"new-password"},domProps:{value:a.adminsData.admin_confirm_password},on:{keyup:function(s){return a.onConfirmPasswordInput(s)},input:function(s){s.target.composing||a.$set(a.adminsData,"admin_confirm_password",s.target.value)}}}),a._v(" "),!0===a.displayConfirmPasswordCheck?s("div",{staticClass:"input-icon__icon input-icon__icon--right"},[s("span",[s("i",{staticClass:"password-toggle"},[s("img",{attrs:{src:a.baseUrl+"/admin/images/retina/check.svg",width:"16px",height:"16px"}})])])]):a._e(),a._v(" "),a.errors.first("admin_confirm_password")?s("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first("admin_confirm_password")))]):a._e()])])])])])])])]),a._v(" "),s("div",{staticClass:"portlet__foot"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-brand btn-wide gb-btn gb-btn-primary",class:1==a.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!a.isComplete||1==a.clicked},on:{click:a.editPassword}},[a._v(a._s(a.$t("BTN_SUBMIT")))])])])])])])])])],1)])])}),[function(){var a=this._self._c;return a("button",{staticClass:"grid-layout-close",attrs:{id:"user_profile_aside_close"}},[a("i",{staticClass:"la la-close"})])}],!1,null,null,null);s.default=d.exports},Mltj:function(a,s,t){"use strict";(function(a){var i=t("lETt"),e={admin_password:"",admin_name:"",admin_confirm_password:"",admin_old_password:"",role_name:""};s.a={components:{"profile-sidebar":i.a},data:function(){return{baseUrl:baseUrl,records:[],uploadedImage:"",clicked:0,adminsData:e,pswd_info:0,displayConfirmPasswordCheck:!1,changePasswordFormValidated:!1,passwordValidate:{length:!1,letter:!1,capital:!1,number:!1,special:!1}}},computed:{isComplete:function(){return this.adminsData.admin_password&&this.adminsData.admin_confirm_password&&this.adminsData.admin_old_password&&(this.changePasswordFormValidated||1==this.passClicked)}},methods:{editPassword:function(){var a=this;this.$validator.validateAll().then((function(s){s&&a.updatePassword()}))},getUser:function(){var a=this;this.$http.get(adminBaseUrl+"/get-user").then((function(s){var t=a.$t("LBL_SUPER_ADMIN");null!=s.data.data.admin_role_id&&(t=s.data.data.admin_role.role_name),a.appName=s.data.appName,a.noImage=s.data.noImage,a.adminsData.role_name=t,a.adminsData.admin_name=s.data.data.admin_name,a.uploadedImage=a.$getFileUrl("profileImage",s.data.data.admin_profile_image.afile_record_id,0,"thumb")}))},updatePassword:function(){var s=this;this.clicked=1;var t=this.$serializeData(this.adminsData);this.$http.post(adminBaseUrl+"/change-password",t).then((function(t){a.success(t.data.success,"",{timeOut:5e3}),s.clicked=0,setTimeout((function(){location.href=adminBaseUrl+"/logout"}),5e3)}),(function(a){s.clicked=0,s.validateErrors(a)}))},validateErrors:function(a){var s=this,t=a.data;Object.keys(t.errors).forEach((function(a){s.errors.add({field:a,msg:t.errors[a][0]})}))},validatePasswordForm:function(){return!Object.values(this.passwordValidate).includes(!1)&&""!=this.adminsData.admin_password&&""!=this.adminsData.admin_confirm_password&&this.adminsData.admin_password==this.adminsData.admin_confirm_password},onPasswordInput:function(a){var s=a.target.value;s.length<8?this.passwordValidate.length=!1:this.passwordValidate.length=!0,s.match(/[A-z]/)?this.passwordValidate.letter=!0:this.passwordValidate.letter=!1,s.match(/[A-Z]/)?this.passwordValidate.capital=!0:this.passwordValidate.capital=!1,s.match(/[^\w]/)?this.passwordValidate.special=!0:this.passwordValidate.special=!1,s.match(/\d/)?this.passwordValidate.number=!0:this.passwordValidate.number=!1,this.changePasswordFormValidated=this.displayConfirmPasswordCheck=!!this.validatePasswordForm()},onConfirmPasswordInput:function(a){this.changePasswordFormValidated=this.displayConfirmPasswordCheck=!!this.validatePasswordForm()}},mounted:function(){this.getUser()}}}).call(this,t("hUol"))},lETt:function(a,s,t){"use strict";var i=t("C1W2").a,e=t("KHd+"),d=Object(e.a)(i,(function(){var a=this,s=a._self._c;return s("div",{staticClass:"grid-layout-aside",attrs:{id:"user_profile_aside"}},[s("div",{staticClass:"portlet portlet--height-fluid"},[s("div",{staticClass:"portlet__body"},[s("div",{staticClass:"widget widget--user-profile-1"},[s("div",{staticClass:"widget__head"},[s("div",{staticClass:"widget__media"},[s("div",{staticClass:"avatar avatar--outline",attrs:{id:"user_avatar"}},[s("div",{staticClass:"avatar__holder",style:{backgroundImage:"url("+a.croppedImageView+")"}}),a._v(" "),s("cropper",{ref:"cropperRef",attrs:{title:"Admin Profile Image",aspectRatio:1,width:250,height:250},on:{childToParent:a.setImage,actualImageToParent:a.setActualImage}}),a._v(" "),s("img",{staticStyle:{display:"none"},attrs:{src:a.originalImage,id:"originalImage"}})],1)]),a._v(" "),s("div",{staticClass:"widget__content"},[s("div",{staticClass:"widget__section"},[s("h3",{staticClass:"widget__username"},[a._v("\n                                "+a._s(a.userFullname)+"\n                            ")]),a._v(" "),s("span",{staticClass:"widget__subtitle pb-3"},[a._v("\n                                "+a._s(a.roleName)+"\n                            ")]),a._v(" "),s("a",{staticClass:"logout-button",attrs:{href:"javascript:void(0);"},on:{click:a.logout}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"15.4px",height:"16.3px",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 198.715 198.715","xml:space":"preserve"}},[s("g",[s("path",{attrs:{d:"M161.463,48.763c-2.929-2.929-7.677-2.929-10.607,0c-2.929,2.929-2.929,7.677,0,10.606   c13.763,13.763,21.342,32.062,21.342,51.526c0,19.463-7.579,37.761-21.342,51.523c-14.203,14.204-32.857,21.305-51.516,21.303   c-18.659-0.001-37.322-7.104-51.527-21.309c-28.405-28.405-28.402-74.625,0.005-103.032c2.929-2.929,2.929-7.678,0-10.606   c-2.929-2.929-7.677-2.929-10.607,0C2.956,83.029,2.953,138.766,37.206,173.019c17.132,17.132,39.632,25.697,62.135,25.696   c22.497-0.001,44.997-8.564,62.123-25.69c16.595-16.594,25.734-38.659,25.734-62.129C187.199,87.425,178.059,65.359,161.463,48.763   z"}}),a._v(" "),s("path",{attrs:{d:"M99.332,97.164c4.143,0,7.5-3.358,7.5-7.5V7.5c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v82.164   C91.832,93.807,95.189,97.164,99.332,97.164z"}})])]),a._v("\n\n                                "+a._s(a.$t("LNK_LOGOUT"))+"\n                            ")])])])]),a._v(" "),s("div",{staticClass:"widget__body"},[s("div",{staticClass:"widget__items"},[s("router-link",{staticClass:"widget__item",class:["editProfile"==a.tab?"widget__item--active":""],attrs:{to:{name:"editProfile"}}},[s("span",{staticClass:"widget__section"},[s("span",{staticClass:"widget__icon"},[s("svg",{staticClass:"svg-icon"},[s("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#personal-info",href:a.baseUrl+"/admin/images/retina/sprite.svg#personal-info"}})])]),a._v(" "),s("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_PERSONAL_INFORMATION"))+"\n                                ")])])]),a._v(" "),s("router-link",{staticClass:"widget__item",class:["changePassword"==a.tab?"widget__item--active":""],attrs:{to:{name:"changePassword"}}},[s("span",{staticClass:"widget__section"},[s("span",{staticClass:"widget__icon"},[s("svg",{staticClass:"svg-icon"},[s("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#change-password",href:a.baseUrl+"/admin/images/retina/sprite.svg#change-password"}})])]),a._v(" "),s("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_CHANGE_PASSWORD"))+"\n                                ")])])]),a._v(" "),s("router-link",{staticClass:"widget__item",class:["editEmail"==a.tab?"widget__item--active":""],attrs:{to:{name:"editEmailAddress"}}},[s("span",{staticClass:"widget__section"},[s("span",{staticClass:"widget__icon"},[s("svg",{staticClass:"svg-icon"},[s("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#change-email",href:a.baseUrl+"/admin/images/retina/sprite.svg#change-email"}})])]),a._v(" "),s("span",{staticClass:"widget__desc"},[a._v("\n                                    "+a._s(a.$t("LNK_CHANGE_EMAIL"))+"\n                                ")])])])],1)])])])])])}),[],!1,null,null,null);s.a=d.exports}}]);