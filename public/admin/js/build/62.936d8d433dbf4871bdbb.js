(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{GHOc:function(t,a,e){"use strict";(function(t,s){e("x6DR");var i=e("GJPm"),n={antpl_id:"",antpl_name:"",antpl_body:"",antpl_replacements:"",antpl_default_body:""},r={search:""};a.a={components:{sidebar:i.a},data:function(){return{baseUrl:baseUrl,records:[],type:"app-noti-templates",pagination:[],copied:!1,clicked:0,loading:!1,recordData:n,searchData:r,search:"",currentLength:0,editText:"",updatedByUser:"",updatedAt:""}},computed:{isComplete:function(){return this.recordData.antpl_name&&this.recordData.antpl_body}},methods:{emptyFormValues:function(){this.recordData={antpl_id:"",antpl_name:"",antpl_body:"",antpl_replacements:"",antpl_default_body:""},this.editText="",this.errors.clear()},pageRecords:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=e;var s=this.$serializeData(this.searchData);void 0!==this.pagination.per_page&&s.append("per_page",this.pagination.per_page),this.$http.post(adminBaseUrl+"/app-notification-templates/list?page="+t,s).then((function(t){a.records=t.data.data.data,a.loading=!1,a.pagination=t.data.data}))},searchRecords:function(){this.pageRecords(this.pagination.current_page)},currentPage:function(t){this.searchRecords()},showLength:function(){this.currentLength=this.recordData.antpl_body.replace(/\{([^}]+)\}/g,"").length},clearSearch:function(){this.searchData={search:""},this.pageRecords(this.pagination.current_page)},validateRecord:function(){var t=this;this.$validator.validateAll().then((function(a){if(a){var e=t.recordData;t.clicked=1,""!=e.antpl_id&&t.updateRecord(e.antpl_id,e)}else t.clicked=0}))},editRecord:function(t){this.emptyUpdatedFieldValue(),this.recordData.antpl_id=t.antpl_id,this.recordData.antpl_name=t.antpl_name,this.recordData.antpl_body=t.antpl_body,this.recordData.antpl_default_body=t.antpl_default_body,this.recordData.antpl_replacements=t.antpl_replacements,this.editText=t.antpl_name,this.currentLength=this.recordData.antpl_body.replace(/\{([^}]+)\}/g,"").length,null!=t.updated_at&&"admin_username"in t.updated_at&&(this.updatedByUser=t.updated_at.admin_username),this.updatedAt=t.antpl_updated_at?t.antpl_updated_at:""},updateRecord:function(a,e){var s=this,i=this.$serializeData({antpl_id:e.antpl_id,antpl_name:e.antpl_name,antpl_body:e.antpl_body});i.append("_method","put"),this.$http.post(adminBaseUrl+"/app-notification-templates/"+a,i).then((function(a){s.clicked=0,0!=a.data.status?(t.success(a.data.message,"",t.options),s.emptyFormValues(),s.pageRecords(s.pagination.current_page)):t.error(a.data.message,"",t.options)}),(function(t){s.clicked=0,s.validateErrors(t)}))},validateErrors:function(t){var a=this,e=t.data;Object.keys(e.errors).forEach((function(t){a.errors.add({field:t,msg:e.errors[t][0]})}))},changePage:function(t){this.pagination.current_page=t,this.pageRecords(t,null)},changeRecords:function(t){this.pageRecords(this.pagination.current_page,t.target.value)},resetBody:function(){this.recordData.antpl_body=this.recordData.antpl_default_body},onSwitchStatus:function(a,e){var s=this.$serializeData({status:a.target.checked});this.$http.post(adminBaseUrl+"/app-notification-templates/status/"+e,s).then((function(a){t.success(a.data.message,"",t.options)}))},emptyUpdatedFieldValue:function(){this.updatedByUser="",this.updatedAt=""},copyToClipboard:function(t){var a=s("<input>");s("body").append(a),a.val(t).select(),document.execCommand("copy"),a.remove(),this.copied=!0}},mounted:function(){this.searchData={search:""},this.pageRecords(1,!0)}}}).call(this,e("hUol"),e("EVdn"))},GJPm:function(t,a,e){"use strict";var s={props:["tab","deletedPageId"],data:function(){return{baseUrl:baseUrl,pageTitle:"",contentPagesEnabled:contentPagesEnabled,appContentPages:JSON.parse(appContentPages)}},methods:{addNewPage:function(){this.pageTitle="",this.$bvModal.show("contentPageForm")},savePage:function(){var t=this,a=new FormData;a.append("title",this.pageTitle),a.append("type","contentpages"),this.$http.post(adminBaseUrl+"/app/store/records",a).then((function(a){t.$bvModal.hide("contentPageForm"),location.reload()}))}}},i=e("KHd+"),n=Object(i.a)(s,(function(){var t=this,a=t._self._c;return a("aside",{staticClass:"app-nav"},[a("ul",[a("li",[a("router-link",{staticClass:"app-nav_item",class:["home"==t.tab?"active":""],attrs:{to:{name:"mobileHome"}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#app-home",href:t.baseUrl+"/admin/images/retina/sprite.svg#app-home"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(t.$t("LBL_APP_HOME_SCREEN")))])])],1),t._v(" "),a("li",[a("router-link",{staticClass:"app-nav_item",class:["explore"==t.tab?"active":""],attrs:{to:{name:"mobileExplore"}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#language",href:t.baseUrl+"/admin/images/retina/sprite.svg#language"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(t.$t("LBL_EXPLORE")))])])],1),t._v(" "),a("li",[a("router-link",{staticClass:"app-nav_item",class:["theme"==t.tab?"active":""],attrs:{to:{name:"mobileTheme"}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#app-theme",href:t.baseUrl+"/admin/images/retina/sprite.svg#app-theme"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(t.$t("LBL_APP_THEME")))])])],1),t._v(" "),a("li",[a("router-link",{staticClass:"app-nav_item",class:["settings"==t.tab?"active":""],attrs:{to:{name:"mobileSettings"}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#app-setting",href:t.baseUrl+"/admin/images/retina/sprite.svg#app-setting"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(t.$t("LBL_APP_SETTINGS")))])])],1),t._v(" "),a("li",[a("router-link",{staticClass:"app-nav_item",class:["app-noti-templates"==t.tab?"active":""],attrs:{to:{name:"appNotiTemplates"}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#app-setting",href:t.baseUrl+"/admin/images/retina/sprite.svg#app-setting"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(t.$t("LBL_APP_NOTIFICATION_TEMPLATES")))])])],1),t._v(" "),a("li",[a("router-link",{staticClass:"app-nav_item",class:["langlabels"==t.tab?"active":""],attrs:{to:{name:"mobileLangLabels"}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#language",href:t.baseUrl+"/admin/images/retina/sprite.svg#language"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(t.$t("LBL_LANGUAGE_LABELS")))])])],1),t._v(" "),1==t.contentPagesEnabled?a("li",[a("router-link",{staticClass:"app-nav_item",class:["privacy"==t.tab?"active":""],attrs:{to:{name:"mobilePrivacy"}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#app-privacy",href:t.baseUrl+"/admin/images/retina/sprite.svg#app-privacy"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(t.$t("LBL_APP_PRIVACY")))])])],1):t._e(),t._v(" "),1==t.contentPagesEnabled?a("li",[a("router-link",{staticClass:"app-nav_item",class:["terms"==t.tab?"active":""],attrs:{to:{name:"mobileTerms"}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#app-terms",href:t.baseUrl+"/admin/images/retina/sprite.svg#app-terms"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(t.$t("LBL_APP_TERMS")))])])],1):t._e(),t._v(" "),t._l(t.appContentPages,(function(e,s){return a("li",{key:s},[a("router-link",{staticClass:"app-nav_item",attrs:{to:{name:"contentPages",params:{id:e.page_id}}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#app-page",href:t.baseUrl+"/admin/images/retina/sprite.svg#app-page"}})])]),t._v(" "),a("span",{staticClass:"app-nav_title"},[t._v(t._s(e.page_title))])])],1)})),t._v(" "),a("li",[a("a",{staticClass:"app-nav_item",attrs:{href:"javascript:;"},on:{click:function(a){return t.addNewPage()}}},[a("i",{staticClass:"app-nav_icn"},[a("svg",{staticClass:"svg"},[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#app-page-add",href:t.baseUrl+"/admin/images/retina/sprite.svg#app-page-add"}})])])])])],2),t._v(" "),a("b-modal",{attrs:{id:"contentPageForm",size:"md",centered:"",title:"BootstrapVue"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[t._v("Add Page")])]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.$bvModal.hide("contentPageForm")}}})]},proxy:!0},{key:"modal-footer",fn:function(){return[a("button",{staticClass:"btn btn-brand",attrs:{type:"submit",disabled:""==t.pageTitle},on:{click:t.savePage}},[a("span",[t._v("Save")])])]},proxy:!0}])},[t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-12 col-form-label",attrs:{for:"validationCustom01"}},[t._v("Page Title")]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pageTitle,expression:"pageTitle"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Page Title"},domProps:{value:t.pageTitle},on:{input:function(a){a.target.composing||(t.pageTitle=a.target.value)}}})])])])],1)}),[],!1,null,null,null);a.a=n.exports},uw6w:function(t,a,e){"use strict";e.r(a);var s=e("GHOc").a,i=e("KHd+"),n=Object(i.a)(s,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"subheader",attrs:{id:"subheader"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"subheader__main"},[a("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_MOBILE_APPS")))])])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"portlet"},[a("div",{staticClass:"portlet__body portlet__body--fit"},[a("div",{staticClass:"app-page"},[a("sidebar",{attrs:{tab:t.type}}),t._v(" "),a("div",{staticClass:"app-main"},[a("div",{staticClass:"row justify-content-center no-gutters"},[a("div",{staticClass:"col-md-7"},[a("div",{staticClass:"app__collections info__collections"},[t._m(0),t._v(" "),a("div",{staticClass:"app__collections-wrapper p-0"},[a("div",{staticClass:"portlet portlet--height-full portlet--no-shadow mb-0"},[a("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-icon input-icon--left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchData.search,expression:"searchData.search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_SEARCH"),id:"generalSearch"},domProps:{value:t.searchData.search},on:{keyup:t.searchRecords,input:function(a){a.target.composing||t.$set(t.searchData,"search",a.target.value)}}}),t._v(" "),t._m(1),t._v(" "),""!=t.searchData.search?a("span",{staticClass:"input-icon__icon input-icon__icon--right",on:{click:function(a){t.searchData.search="",t.pageRecords(1)}}},[t._m(2)]):t._e()])])]),t._v(" "),a("hr",{staticClass:"m-0"}),t._v(" "),t.records.length>0?a("div",{staticClass:"portlet__body portlet__body--fit"},[a("div",{staticClass:"section mb-0"},[a("div",{staticClass:"section__content"},[a("table",{staticClass:"table table-data table-justified"},[a("thead",[a("tr",[a("th",[t._v(t._s("#"))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_NOTIFICATION_TEMPLATE_NAME")))]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.records,(function(e,s){return a("tr",{key:e.antpl_id,attrs:{"data-id":e.antpl_id}},[a("td",{attrs:{scope:"row"}},[t._v(t._s(t.pagination.from+s))]),t._v(" "),a("td",[t.$canWrite("NOTIFICATION_TEMPLATES")?a("div",[t._v(t._s(e.antpl_name))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return a.preventDefault(),t.editRecord(e)}}},[t._v(t._s(e.antpl_name))])]),t._v(" "),a("td",[a("div",{staticClass:"actions"},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("NOTIFICATION_TEMPLATES")?"":"disabled no-drop"],attrs:{href:"javascript:;",title:t.$t("TTL_EDIT")},on:{click:function(a){return t.editRecord(e)}}},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#edit-icon"}})])])])])])})),0)])])])]):t._e(),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),0==t.loading&&0==t.records.length?a("noRecordsFound"):t._e(),t._v(" "),t.records.length>0?a("div",{staticClass:"portlet__foot"},[a("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e()],1)])])]),t._v(" "),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"portlet portlet--height-full portlet--no-shadow mb-0"},[t.recordData.antpl_id?a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-label"},[a("h3",{staticClass:"portlet__head-title"},[t._v(t._s(t.$canWrite("NOTIFICATION_TEMPLATES")?t.$t("LBL_EDITING")+" -":"")+" "),a("span",{staticClass:"editing-txt"},[t._v(t._s(t.editText))])])]),t._v(" "),a("div",{staticClass:"portlet__head-toolbar"},[t._m(3),t._v(" "),a("b-popover",{staticClass:"popover-cover",attrs:{target:"tooltip-target-1",triggers:"hover",placement:"top"}},[a("div",{staticClass:"list-stats"},[a("div",{staticClass:"lable"},[a("span",{staticClass:"stats_title"},[t._v(t._s(t.$t("LBL_LAST_UPDATED"))+":")]),t._v(" "),a("span",{staticClass:"time"},[t._v(t._s(t.updatedByUser?t.updatedByUser+" |":"")+" "+t._s(t._f("formatDateTime")(t.updatedAt)))])])])])],1)]):t._e(),t._v(" "),""!=t.recordData.antpl_id?a("div",{staticClass:"portlet__body",class:[t.$canWrite("NOTIFICATION_TEMPLATES")?"":"disabledbutton"]},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_NOTIFICATION_TEMPLATE_NAME"))+" "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.recordData.antpl_name,expression:"recordData.antpl_name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"antpl_name","data-vv-as":"$t('LBL_NOTIFICATION_TEMPLATE_NAME') ","data-vv-validate-on":"none"},domProps:{value:t.recordData.antpl_name},on:{input:function(a){a.target.composing||t.$set(t.recordData,"antpl_name",a.target.value)}}}),t._v(" "),t.errors.first("antpl_name")?a("span",{staticClass:"error text-danger"},[t._v("@"+t._s(t.errors.first("antpl_name")))]):t._e()])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"d-flex justify-content-between"},[a("a",{staticClass:"links",attrs:{href:"javascript:;"},on:{click:t.resetBody}},[t._v(" "+t._s(t.$t("Reset")))])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("LBL_NOTIFICATION_BODY"))+"  "),a("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.recordData.antpl_body,expression:"recordData.antpl_body"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{rows:"5",cols:"15",name:"antpl_body","data-vv-as":"$t('LBL_NOTIFICATION_BODY') ","data-vv-validate-on":"none"},domProps:{value:t.recordData.antpl_body},on:{keyup:t.showLength,input:function(a){a.target.composing||t.$set(t.recordData,"antpl_body",a.target.value)}}}),t._v(" "),a("span",{staticClass:"small"},[t._v(t._s(t.currentLength)+"/160")]),t._v(" "),t.errors.first("antpl_body")?a("span",{staticClass:"error text-danger"},[t._v("@"+t._s(t.errors.first("antpl_body")))]):t._e()])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("label",[t._v(t._s(t.$t("LBL_REPLACEMENT_VARIABLES")))]),t._v(" "),t.recordData.antpl_replacements?a("ul",{staticClass:"click-to-copy"},t._l(JSON.parse(t.recordData.antpl_replacements),(function(e,s){return a("li",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],key:s,attrs:{title:[1==t.copied?t.$t("LBL_COPIED_TO_CLIPBOARD"):t.$t("LBL_CLICK_TO_COPY")],"data-val":s},on:{mouseover:function(a){t.copied=!1},click:function(a){return t.copyToClipboard(s)},mousedown:function(t){return t.target.classList.add("bounceIn")},mouseup:function(t){return t.target.classList.remove("bounceIn")}}},[a("div",{staticClass:"text"},[t._v(t._s(e))])])})),0):t._e()])])]):t._e(),t._v(" "),""==t.recordData.antpl_id?a("div",{staticClass:"portlet__body"},[a("div",{staticClass:"no-data-found"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:this.$noDataImage(),alt:""}})]),t._v(" "),a("div",{staticClass:"data"},[a("ul",[a("li",[t._v(t._s(t.$t("LBL_NOTIFICATION_TEMPLATES_INFO1")))]),t._v(" "),a("li",[t._v(t._s(t.$t("LBL_NOTIFICATION_TEMPLATES_INFO2")))]),t._v(" "),a("li",[t._v(t._s(t.$t("LBL_NOTIFICATION_TEMPLATES_INFO3")))])])])])]):t._e(),t._v(" "),""!=t.recordData.antpl_id?a("div",{staticClass:"portlet__foot"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"},on:{click:t.emptyFormValues}},[t._v(t._s(t.$t("BTN_DISCARD")))])]),t._v(" "),a("div",{staticClass:"col-auto"},[a("button",{staticClass:"btn btn-brand gb-btn gb-btn-primary",class:1==t.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!t.isComplete||1==t.clicked||!t.$canWrite("NOTIFICATION_TEMPLATES")},on:{click:function(a){return t.validateRecord()}}},[t._v(t._s(t.$t("BTN_NOTIFICATION_TEMPLATES_UPDATE")))])])])]):t._e()])])])])],1)])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"app__collections-head d-flex justify-content-between"},[t("h3",[this._v("Notification Templates")])])},function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])},function(){var t=this._self._c;return t("span",[t("i",{staticClass:"fas fa-times"})])},function(){var t=this._self._c;return t("div",{staticClass:"portlet__head-actions",attrs:{id:"tooltip-target-1"}},[t("i",{staticClass:"fas fa-info-circle"})])}],!1,null,null,null);a.default=n.exports}}]);