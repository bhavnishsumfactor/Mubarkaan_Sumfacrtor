(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{UEno:function(t,a,s){"use strict";s.r(a);var e=s("WIhx").a,i=s("KHd+"),r=Object(i.a)(e,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"subheader",attrs:{id:"subheader"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"subheader__main"},[a("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_SUB_ADMINS")))]),t._v(" "),a("div",{staticClass:"subheader__breadcrumbs"},[a("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[a("i",{staticClass:"flaticon2-shelter"})]),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_USERS")))]),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_SUB_ADMINS")))])],1)]),t._v(" "),a("div",{staticClass:"subheader__toolbar"},[a("router-link",{staticClass:"btn btn-white",class:[t.$canWrite("ADMIN_USERS")?"":"disabledbutton"],attrs:{to:{name:"addSubAdmins"}}},[a("i",{staticClass:"fas fa-plus"}),t._v("\n          "+t._s(t.$t("BTN_ADD"))+"\n        ")])],1)])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"portlet portlet--height-fluid"},[0==t.showEmpty?a("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-icon input-icon--left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_SEARCH")+"...",id:"generalSearch"},domProps:{value:t.search},on:{keyup:t.searchRecords,input:function(a){a.target.composing||(t.search=a.target.value)}}}),t._v(" "),t._m(0),t._v(" "),""!=t.search?a("span",{staticClass:"input-icon__icon input-icon__icon--right",on:{click:function(a){t.search="",t.pageRecords(1)}}},[t._m(1)]):t._e()])])])])]):t._e(),t._v(" "),a("hr",{staticClass:"m-0"}),t._v(" "),0==t.showEmpty&&1==t.pageLoaded?a("div",{staticClass:"portlet__body portlet__body--fit"},[a("div",{staticClass:"section"},[a("div",{staticClass:"section__content"},[a("table",{staticClass:"table table-data table-justified"},[a("thead",[a("tr",[a("th",[t._v(t._s("#"))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_ADMIN_NAME")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_ADMIN_USERNAME")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_ADMIN_EMAIL")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_PUBLISH")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_ADMIN_ROLE")))]),t._v(" "),a("th")])]),t._v(" "),0==t.loading&&0==t.records.length&&0==t.showEmpty&&1==t.pageLoaded?a("tbody",[a("tr",[a("td",{attrs:{colspan:"7"}},[a("noRecordsFound")],1)])]):a("tbody",t._l(t.records,(function(s,e){return a("tr",{key:s.page_id,attrs:{"data-id":s.page_id}},[a("td",{attrs:{scope:"row"}},[t._v(t._s(t.pagination.from+e))]),t._v(" "),a("td",[t.$canWrite("ADMIN_USERS")?a("div",[t._v(t._s(s.admin_name))]):a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return a.preventDefault(),t.openViewMode(s)}}},[t._v(t._s(s.admin_name))])]),t._v(" "),a("td",[t._v(t._s(s.admin_username))]),t._v(" "),a("td",[t._v(t._s(s.admin_email))]),t._v(" "),a("td",[a("label",{staticClass:"switch switch--sm remember-me"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.admin_publish,expression:"record.admin_publish"}],attrs:{type:"checkbox",disabled:!t.$canWrite("ADMIN_USERS")},domProps:{checked:Array.isArray(s.admin_publish)?t._i(s.admin_publish,null)>-1:s.admin_publish},on:{change:[function(a){var e=s.admin_publish,i=a.target,r=!!i.checked;if(Array.isArray(e)){var n=t._i(e,null);i.checked?n<0&&t.$set(s,"admin_publish",e.concat([null])):n>-1&&t.$set(s,"admin_publish",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(s,"admin_publish",r)},function(a){return t.onSwitchStatus(a,s.admin_id)}]}}),t._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==s.admin_publish?t.$t("TTL_UNPUBLISH"):t.$t("TTL_PUBLISH")}})])]),t._v(" "),a("td",[t._v(t._s(null==s.admin_role?"":s.admin_role.role_name))]),t._v(" "),a("td",[a("div",{staticClass:"actions"},[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("ADMIN_USERS")?"":"disabled no-drop"],attrs:{href:t.adminBaseUrl+"/sub-user/login/"+s.admin_id,title:t.$t("TTL_IMPERSONATE_USER")}},[a("svg",[a("use",{attrs:{"xlink:href":t.adminBaseUrl+"/images/retina/sprite.svg#impersonate-icon",href:t.adminBaseUrl+"/images/retina/sprite.svg#impersonate-icon"}})])]),t._v(" "),a("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("ADMIN_USERS")?"":"disabled no-drop"],attrs:{to:{name:"editSubAdmin",params:{id:s.admin_id}},title:t.$t("TTL_EDIT")}},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#edit-icon"}})])]),t._v(" "),a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("ADMIN_USERS")?"":"disabled no-drop"],attrs:{title:t.$t("TTL_DELETE"),href:"javascript:;",disabled:null==s.admin_role},on:{"!click":function(a){return t.confirmDelete(a,s.admin_id)}}},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#delete-icon"}})])])],1)])])})),0)])])])]):t._e(),t._v(" "),1==t.showEmpty&&1==t.pageLoaded?a("div",{staticClass:"portlet__body"},[a("div",{staticClass:"get-started"},[a("div",{staticClass:"get-started-arrow d-flex justify-content-end mb-5"},[a("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-arrow-head.svg"}})]),t._v(" "),a("div",{staticClass:"no-content d-flex text-center flex-column mb-7"},[a("p",[t._v("\n                  "+t._s(t.$t("LBL_CLICK_THE"))+"\n                  "),a("router-link",{staticClass:"btn btn-brand btn-small",attrs:{to:{name:"addSubAdmins"}}},[a("i",{staticClass:"fas fa-plus"}),t._v("\n                    "+t._s(t.$t("BTN_ADD"))+"\n                  ")]),t._v("\n                  "+t._s(t.$t("LBL_BUTTON_TO_CREATE_SUB_ADMINS"))+"\n                ")],1)]),t._v(" "),a("div",{staticClass:"get-started-media"},[a("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-blog-articles.svg"}})])])]):t._e(),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),t.records.length>0?a("div",{staticClass:"portlet__foot"},[a("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e(),t._v(" "),a("DeleteModel",{attrs:{deletePopText:t.$t("LBL_SUBADMIN_DELETE_CONFIRMATION_TEXT"),recordId:t.recordId},on:{deleted:function(a){return t.deleteRecord(t.recordId)}}})],1)])])])])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])},function(){var t=this._self._c;return t("span",[t("i",{staticClass:"fas fa-times"})])}],!1,null,null,null);a.default=r.exports},WIhx:function(t,a,s){"use strict";(function(t){a.a={data:function(){return{adminBaseUrl:adminBaseUrl,records:[],search:"",modalId:"deleteModel",pagination:[],loading:!1,recordId:"",baseUrl:baseUrl,pageLoaded:0,showEmpty:1}},watch:{$route:"refreshedSearchData"},methods:{refreshedSearchData:function(){this.$route.query.s&&(this.search=this.$route.query.s),this.pageRecords(1,!0)},searchRecords:function(){this.pageRecords(this.pagination.current_page)},currentPage:function(t){this.pageRecords(t)},pageRecords:function(t){var a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=s;var e=this.$serializeData({search:this.search});void 0!==this.pagination.per_page&&e.append("per_page",this.pagination.per_page),this.$http.post(adminBaseUrl+"/sub-admins/list?page="+t,e).then((function(t){a.records=t.data.data.admins.data,a.pagination=t.data.data.admins,a.loading=!1,a.showEmpty=t.data.data.showEmpty,a.pageLoaded=1}))},confirmDelete:function(t,a){t.stopPropagation(),this.recordId=a,this.$bvModal.show(this.modalId)},deleteRecord:function(a){var s=this;this.$http.delete(adminBaseUrl+"/sub-admins/"+a).then((function(a){0!=a.data.status?(t.success(a.data.message,"",t.options),s.$bvModal.hide(s.modalId),s.pageRecords(s.pagination.current_page)):t.error(a.data.message,"",t.options)}))},onSwitchStatus:function(a,s){var e=this.$serializeData({status:a.target.checked});this.$http.post(adminBaseUrl+"/sub-admins/status/"+s,e).then((function(a){0!=a.data.status?t.success(a.data.message,"",t.options):t.error(a.data.message,"",t.options)}))},openViewMode:function(t){this.$router.push({name:"editSubAdmin",params:{id:t.admin_id}})}},mounted:function(){this.search="",this.refreshedSearchData()}}}).call(this,s("hUol"))}}]);