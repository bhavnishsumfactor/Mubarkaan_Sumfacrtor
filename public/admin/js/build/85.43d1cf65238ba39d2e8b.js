(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{EsIz:function(t,s,e){"use strict";(function(t){var e={post_title:""};s.a={data:function(){return{records:[],recordId:"",search:"",pagination:[],loading:!1,modelId:"deleteModel",productLink:0,settingId:"blogSettings",searchData:e,baseUrl:baseUrl,pageLoaded:0,showEmpty:1}},watch:{$route:"refreshedSearchData"},methods:{refreshedSearchData:function(){this.$route.query.s&&(this.search=this.$route.query.s),this.pageRecords(1,!0)},searchRecords:function(){this.pageRecords(this.pagination.current_page)},currentPage:function(t){this.pageRecords(t)},pageRecords:function(t){var s=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=e;var a=this.$serializeData({search:this.search});void 0!==this.pagination.per_page&&a.append("per_page",this.pagination.per_page),this.$http.post(adminBaseUrl+"/blogs/list?page="+t,a).then((function(t){s.records=t.data.data.blogs.data,s.pagination=t.data.data.blogs,s.loading=!1,s.showEmpty=t.data.data.showEmpty,s.pageLoaded=1}))},confirmDelete:function(t,s){t.stopPropagation(),this.recordId=s,this.$bvModal.show(this.modelId)},deleteRecord:function(s){var e=this;this.$http.delete(adminBaseUrl+"/blogs/"+s).then((function(s){0!=s.data.status?(t.success(s.data.message,"",t.options),e.pageRecords(e.pagination.current_page),e.$bvModal.hide(e.modelId)):t.error(s.data.message,"",t.options)}))},onSwitchStatus:function(s,e,a){var i=this,r=this.$serializeData({status:s.target.checked,type:a});this.$http.post(adminBaseUrl+"/blogs/status/"+e,r).then((function(s){if(0==s.data.status)return t.error(s.data.message,"",t.options),void i.currentPage();t.success(s.data.message,"",t.options)}))},openViewMode:function(t){this.$router.push({name:"editBlog",params:{id:t}})}},mounted:function(){this.search="",this.refreshedSearchData()}}}).call(this,e("hUol"))},fG6h:function(t,s,e){"use strict";e.r(s);var a=e("EsIz").a,i=e("KHd+"),r=Object(i.a)(a,(function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"subheader",attrs:{id:"subheader"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"subheader__main"},[s("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_BLOG_ARTICLES")))]),t._v(" "),s("div",{staticClass:"subheader__breadcrumbs"},[s("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[s("i",{staticClass:"flaticon2-shelter"})]),t._v(" "),s("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),s("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_CMS")))]),t._v(" "),s("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),s("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_BLOGS")))]),t._v(" "),s("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),s("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_ARTICLES")))])],1)]),t._v(" "),s("div",{staticClass:"subheader__toolbar"},[s("router-link",{staticClass:"btn btn-white",class:[t.$canWrite("BLOGS")?"":"disabledbutton no-drop"],attrs:{to:{name:"createBlog"}}},[s("i",{staticClass:"fas fa-plus"}),t._v("\n          "+t._s(t.$t("BTN_ADD"))+"\n        ")])],1)])]),t._v(" "),s("div",{staticClass:"container"},[s("div",{attrs:{id:"manage-admins"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-xl-12"},[s("div",{staticClass:"portlet portlet--height-fluid"},[0==t.showEmpty?s("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-icon input-icon--left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_SEARCH")+"...",id:"generalSearch"},domProps:{value:t.search},on:{keyup:t.searchRecords,input:function(s){s.target.composing||(t.search=s.target.value)}}}),t._v(" "),t._m(0),t._v(" "),""!=t.search?s("span",{staticClass:"input-icon__icon input-icon__icon--right",on:{click:function(s){t.search="",t.pageRecords(1)}}},[t._m(1)]):t._e()])])])])]):t._e(),t._v(" "),s("hr",{staticClass:"m-0"}),t._v(" "),0==t.showEmpty&&1==t.pageLoaded?s("div",{staticClass:"portlet__body portlet__body--fit"},[s("div",{staticClass:"section"},[s("div",{staticClass:"section__content"},[s("table",{staticClass:"table table-data table-justified"},[s("thead",[s("tr",[s("th",[t._v("#")]),t._v(" "),s("th",[t._v(t._s(t.$t("LBL_ARTICLE_TITLE")))]),t._v(" "),s("th",[t._v(t._s(t.$t("LBL_ARTICLE_AUTHOR")))]),t._v(" "),s("th",[t._v(t._s(t.$t("LBL_TOTAL_VIEWS")))]),t._v(" "),s("th",[t._v(t._s(t.$t("LBL_PUBLISH")))]),t._v(" "),s("th",[t._v(t._s(t.$t("LBL_FEATURED")))]),t._v(" "),s("th")])]),t._v(" "),0==t.loading&&0==t.records.length&&0==t.showEmpty&&1==t.pageLoaded?s("tbody",[s("tr",[s("td",{attrs:{colspan:"7"}},[s("noRecordsFound")],1)])]):s("tbody",t._l(t.records,(function(e,a){return s("tr",{key:a},[s("td",{attrs:{scope:"row"}},[t._v(t._s(t.pagination.from+a))]),t._v(" "),s("td",[t.$canWrite("BLOGS")?s("div",[t._v(t._s(e.post_title))]):s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return s.preventDefault(),t.openViewMode(e.post_id)}}},[t._v(t._s(e.post_title))])]),t._v(" "),s("td",[t._v(t._s(e.post_author_name))]),t._v(" "),s("td",[t._v(t._s(e.post_view_count))]),t._v(" "),s("td",[s("label",{staticClass:"switch switch--sm"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.post_publish,expression:"record.post_publish"}],attrs:{type:"checkbox",disabled:!t.$canWrite("BLOGS")},domProps:{checked:Array.isArray(e.post_publish)?t._i(e.post_publish,null)>-1:e.post_publish},on:{change:[function(s){var a=e.post_publish,i=s.target,r=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&t.$set(e,"post_publish",a.concat([null])):o>-1&&t.$set(e,"post_publish",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"post_publish",r)},function(s){return t.onSwitchStatus(s,e.post_id,"post_publish")}]}}),t._v(" "),s("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==e.post_publish?t.$t("TTL_UNPUBLISH"):t.$t("TTL_PUBLISH")}})])]),t._v(" "),s("td",[s("label",{staticClass:"switch switch--sm"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.post_featured,expression:"record.post_featured"}],attrs:{type:"checkbox",disabled:!t.$canWrite("BLOGS")},domProps:{checked:Array.isArray(e.post_featured)?t._i(e.post_featured,null)>-1:e.post_featured},on:{change:[function(s){var a=e.post_featured,i=s.target,r=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&t.$set(e,"post_featured",a.concat([null])):o>-1&&t.$set(e,"post_featured",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"post_featured",r)},function(s){return t.onSwitchStatus(s,e.post_id,"post_featured")}]}}),t._v(" "),s("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:1==e.post_featured?t.$t("TTL_UNFEATURED"):t.$t("TTL_FEATURED")}})])]),t._v(" "),s("td",[s("div",{staticClass:"actions"},[s("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("BLOGS")?"":"disabled no-drop"],attrs:{to:{name:"editBlog",params:{id:e.post_id}},title:t.$t("TTL_EDIT")}},[s("svg",[s("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#edit-icon"}})])]),t._v(" "),s("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("BLOGS")?"":"disabled no-drop"],attrs:{href:"javascipt:;",title:t.$t("TTL_DELETE")},on:{"!click":function(s){return t.confirmDelete(s,e.post_id)}}},[s("svg",[s("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#delete-icon"}})])])],1)])])})),0)])])])]):t._e(),t._v(" "),1==t.showEmpty&&1==t.pageLoaded?s("div",{staticClass:"portlet__body"},[s("div",{staticClass:"get-started"},[s("div",{staticClass:"get-started-arrow d-flex justify-content-end mb-5"},[s("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-arrow-head.svg"}})]),t._v(" "),s("div",{staticClass:"no-content d-flex text-center flex-column mb-7"},[s("p",[t._v("\n                    "+t._s(t.$t("LBL_CLICK_THE"))+"\n                    "),s("router-link",{staticClass:"btn btn-brand btn-small",attrs:{to:{name:"createBlog"}}},[s("i",{staticClass:"fas fa-plus"}),t._v("\n                      "+t._s(t.$t("BTN_ADD"))+"\n                    ")]),t._v("\n                    "+t._s(t.$t("LBL_BUTTON_TO_CREATE_BLOG"))+"\n                  ")],1)]),t._v(" "),s("div",{staticClass:"get-started-media"},[s("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-blog-articles.svg"}})])])]):t._e(),t._v(" "),t.loading?s("loader"):t._e(),t._v(" "),t.records.length>0?s("div",{staticClass:"portlet__foot"},[s("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e()],1)])]),t._v(" "),s("DeleteModel",{attrs:{deletePopText:t.$t("LBL_DELETE_BLOG_CONFIRMATION_TEXT"),recordId:t.recordId},on:{deleted:function(s){return t.deleteRecord(t.recordId)}}})],1)])])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])},function(){var t=this._self._c;return t("span",[t("i",{staticClass:"fas fa-times"})])}],!1,null,null,null);s.default=r.exports}}]);