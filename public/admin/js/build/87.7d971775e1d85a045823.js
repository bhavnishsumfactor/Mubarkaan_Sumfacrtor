(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{"S+m4":function(e,t,a){"use strict";a.r(t);var o=a("a5wf").a,i=a("KHd+"),r=Object(i.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("b-modal",{ref:"foo",attrs:{id:e.modalElementId,centered:""},scopedSlots:e._u([{key:"modal-header",fn:function(){return[t("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v(e._s(e.cropperTitle))]),e._v(" "),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.closeCropperPopup}})]},proxy:!0},{key:"modal-footer",fn:function(){return[t("div",{staticClass:"file-input overflow-hidden"},[t("label",{staticClass:"btn btn-outline-secondary",attrs:{"data-original-title":"Change avatar"},on:{click:function(t){return e.openCropper()}}},[e._v("\n          "+e._s(e.$t("BTN_UPLOAD_PICTURE"))+"\n          "),t("input",{ref:"fileInput",staticClass:"file-input-field cropper-upload-picture",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.onSelectImage(t)}}})])]),e._v(" "),"1"==e.displayBackgroundOption?t("div",{staticClass:"form-group row mb-0"},[t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"checkbox-inline"},[t("label",{staticClass:"checkbox"},[t("input",{attrs:{value:"1",type:"checkbox"},domProps:{checked:"1"==e.backgroundSetYes},on:{click:function(t){return e.updateAddBackgroundSetting(t)}}}),e._v("\n              "+e._s(e.$t("Add Background"))+"\n              "),t("span")])])])]):e._e(),e._v(" "),t("button",{staticClass:"btn btn-brand",attrs:{type:"button",id:"crop"},on:{click:function(t){return e.onCrop(t)}}},[e._v("\n        "+e._s(e.$t("BTN_CROP_SAVE"))+"\n      ")])]},proxy:!0}])},[e._v(" "),t("div",{attrs:{id:"cropper-body"}},[t("div",{staticClass:"image-wrapper"},[t("img",{attrs:{id:e.cropperImageElementId,src:e.imageSrc}})]),e._v(" "),t("canvas",{staticStyle:{display:"none"},attrs:{id:"preview"}})])]),e._v(" "),t("input",{class:"YK-tempUploadButton-"+e.originalImageElement,staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.onSelectImage(t)}}}),e._v(" "),0!=e.icon?t("label",{staticClass:"avatar__upload yk-outerCropEdit",attrs:{"data-toggle":"tooltip",title:"","data-original-title":"Change avatar"},on:{click:function(t){return e.openCropper()}}},[t("i",{staticClass:"fa fa-pen"})]):e._e(),e._v(" "),e.deleteicon?t("label",{staticClass:"avatar__upload",on:{click:function(t){return e.deleteImage()}}},[t("i",{staticClass:"fas fa-2x fa-times",staticStyle:{"font-size":"1.2rem"}})]):e._e()],1)}),[],!1,null,null,null);t.default=r.exports},a5wf:function(e,t,a){"use strict";(function(e,o){var i=a("urRO"),r=a.n(i),n=(a("YQfW"),{coords:{x:0,y:0,width:0,height:0,rotate:0,scaleX:0,scaleY:0},imageSrc:baseUrl+"/no_image.jpg",cropperImage:"",actualImage:"",cropper:null,displayBackgroundOption:"",backgroundSetYes:"",addBackground:"0"}),c={aspectRatio:1.77777,crop:function(e){n.coords.x=e.detail.x,n.coords.y=e.detail.y,n.coords.width=e.detail.width,n.coords.height=e.detail.height,n.coords.rotate=e.detail.rotate,n.coords.scaleX=e.detail.scaleX,n.coords.scaleY=e.detail.scaleY}};t.a={props:["aspectRatio","deleteicon","icon","title","originalElementId","modalId","cropperImageId","originalImage","width","height","backgroundOption","backgroundYes"],data:function(){return n},computed:{cropperTitle:function(){return void 0===this.title?"Crop Tool":this.title},originalImageElement:function(){return void 0===this.originalElementId?"originalImage":this.originalElementId},modalElementId:function(){return void 0===this.modalId?"modal_6":this.modalId},cropperImageElementId:function(){return void 0===this.cropperImageId?"image":this.cropperImageId},originalImageUrl:function(){return void 0===this.cropperImageId?n.imageSrc:this.originalImage}},updated:function(){this.displayBackgroundOption=this.backgroundOption,this.backgroundSetYes=this.backgroundYes},methods:{updateAddBackgroundSetting:function(e){this.addBackground=1==e.target.checked?1:0},emitToParent:function(e){this.$emit("childToParent",this.cropperImage,n.actualImage,this.addBackground),void 0!==n.actualImage&&""!=n.actualImage&&this.$emit("actualImageToParent",n.actualImage),setTimeout((function(){n.imageSrc=n.actualImage=""}),100)},deleteImage:function(){this.$emit("deleteImage")},openCropper:function(){var t=this,a=document.getElementById(t.originalImageElement);a.src!=window.location.href.replace(window.location.hash,"")&&(t.destroyCropper(),this.$bvModal.show(t.modalElementId)),setTimeout((function(){if(void 0!==t.aspectRatio&&""!=t.aspectRatio&&(c.aspectRatio=t.aspectRatio),a.src==window.location.href.replace(window.location.hash,""))document.querySelector(".YK-tempUploadButton-"+t.originalImageElement).value="",e(".YK-tempUploadButton-"+t.originalImageElement).trigger("click"),t.destroyCropper();else{var o=document.getElementById(t.cropperImageElementId);n.cropper=new r.a(o,c),n.imageSrc=a.src,n.cropper.replace(a.src)}}),20)},onSelectImage:function(e){if(0==e.target.files.length)return!1;var t=e.target.files[0];if(t.size>2097152)return o.error(this.$t("LBL_IMAGE_SIZE_VALIDATION")),this.$refs.fileInput.value=null,!1;var a=URL.createObjectURL(t);n.imageSrc=a,document.getElementById(this.originalImageElement).src=a,n.actualImage=t,this.openCropper()},onCrop:function(e){var t=this;n.cropper.getCroppedCanvas({width:this.width,height:this.height}).toBlob((function(e){n.cropperImage=e,t.emitToParent()}),"image/png",1),this.$bvModal.hide(this.modalElementId),this.$refs.fileInput.value=null},aspectRatioSelected:function(){document.getElementById(this.cropperImageElementId).src=n.imageSrc;var e=document.getElementById(this.cropperImageElementId);c.aspectRatio=this.aspectRatio,n.cropper.destroy(),n.cropper=new r.a(e,c),n.cropper.replace(n.imageSrc)},destroyCropper:function(){void 0!==n.cropper&&null!=n.cropper&&n.cropper.destroy(),n.imageSrc=""},closeCropperPopup:function(){this.$bvModal.hide(this.modalElementId)}}}}).call(this,a("EVdn"),a("hUol"))}}]);