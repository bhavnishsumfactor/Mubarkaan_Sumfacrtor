(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+uOV":function(t,a,e){"use strict";e.r(a);var s=e("R3Qm").a,r=(e("hliY"),e("KHd+")),i=Object(r.a)(s,(function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"subheader",attrs:{id:"subheader"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"subheader__main"},[a("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_PRODUCT_REVIEWS")))]),t._v(" "),a("div",{staticClass:"subheader__breadcrumbs"},[a("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[a("i",{staticClass:"flaticon2-shelter"})]),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_PRODUCTS")))]),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-separator"}),t._v(" "),a("span",{staticClass:"subheader__breadcrumbs-link"},[t._v(t._s(t.$t("LBL_REVIEWS")))])],1)]),t._v(" "),a("div",{staticClass:"subheader__toolbar"},[0==t.showEmpty?a("div",{staticClass:"subheader__wrapper"},[a("h5",{staticClass:"m-0"},[t._v(t._s(t.$t("LBL_STORE_RATING")))]),t._v(" "),a("div",{staticClass:"rating-holder ml-3"},[a("ratingStars",{attrs:{rating:t.rating}})],1)]):t._e()])])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"portlet portlet--height-fluid"},[""!=t.productName?a("div",{staticClass:"portlet__head"},[a("div",{staticClass:"portlet__head-label"},[a("h3",{staticClass:"portlet__head-title"},[t._v(t._s(t.productName))])]),t._v(" "),this.$route.params.id?a("div",{staticClass:"portlet__head-toolbar"},[a("router-link",{staticClass:"btn btn-outline-brand",attrs:{to:{name:"products",query:{page:t.$route.query.page}}}},[a("i",{staticClass:"la la-arrow-left"}),t._v(" "),a("span",{staticClass:"hidden-mobile"},[t._v(t._s(t.$t("BTN_BACK")))])])],1):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-icon input-icon--left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_SEARCH_REVIEW"),id:"generalSearch",readonly:0==t.records.length&&""===t.search},domProps:{value:t.search},on:{keyup:t.searchRecords,input:function(a){a.target.composing||(t.search=a.target.value)}}}),t._v(" "),t._m(0),t._v(" "),""!=t.search?a("span",{staticClass:"input-icon__icon input-icon__icon--right",on:{click:function(a){t.search="",t.pageRecords(1)}}},[t._m(1)]):t._e()])])])])]),t._v(" "),a("hr",{staticClass:"m-0"}),t._v(" "),a("div",{staticClass:"portlet__body portlet__body--fit"},[a("div",{staticClass:"section"},[a("div",{staticClass:"section__content"},[a("table",{staticClass:"table table-data table-justified"},[a("thead",{staticClass:"datatable__head"},[a("tr",{staticClass:"datatable__row"},[a("th",[t._v(t._s("#"))]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",on:{click:function(a){return t.sortBy("username")}}},[a("span",[t._v(t._s(t.$t("LBL_CUSTOMER"))+"\n                              "),"username"==t.currentSort?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",on:{click:function(a){return t.sortBy("preview_order_id")}}},[a("span",[t._v(t._s(t.$t("LBL_ORDER"))+"\n                              "),"preview_order_id"==t.currentSort?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_RATING")))]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",attrs:{width:"15%"},on:{click:function(a){return t.sortBy("preview_title")}}},[a("span",[t._v(t._s(t.$t("LBL_PRODUCT_REVIEW_TITLE"))+"\n                              "),"preview_title"==t.currentSort?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",{staticClass:"datatable__cell datatable__cell--sort",on:{click:function(a){return t.sortBy("preview_created_at")}}},[a("span",[t._v(t._s(t.$t("LBL_POSTED_ON"))+"\n                              "),"preview_created_at"==t.currentSort?a("i",{staticClass:"fas",class:["asc"==t.sortingType?"fa-arrow-up":"fa-arrow-down"]}):t._e()])]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_PUBLISHED_ON")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_PUBLISH")))]),t._v(" "),a("th",[t._v(t._s(t.$t("LBL_REVIEW_STATUS")))]),t._v(" "),a("th",{attrs:{width:"15%"}})])]),t._v(" "),0==t.loading&&0==t.records.length&&""==t.search&&1==t.showEmpty&&1==t.pageLoaded?a("tbody",[a("tr",[a("td",{attrs:{colspan:"10"}},[a("div",{staticClass:"no-data-found"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.activeThemeUrl+"/media/retina/empty/no-reviews.svg",width:"125px",height:"125px"}})]),t._v(" "),a("div",{staticClass:"data"},[a("h3",[t._v(t._s(t.$t("LBL_NO_REVIEWS_TO_SHOW")))])])])])])]):0==t.loading&&0==t.records.length&&""!=t.search&&0==t.showEmpty&&1==t.pageLoaded?a("tbody",[a("tr",[a("td",{attrs:{colspan:"10"}},[a("noRecordsFound")],1)])]):a("tbody",t._l(t.records,(function(e,s){return a("tr",{key:e.preview_id,attrs:{"data-id":e.preview_id}},[a("td",{attrs:{scope:"row"}},[t._v(t._s(t.pagination.from+s))]),t._v(" "),a("td",[a("router-link",{attrs:{to:{name:"userDetails",params:{id:e.preview_user_id}},target:"_blank"}},[t._v(t._s(e.username))])],1),t._v(" "),a("td",[a("router-link",{attrs:{to:{name:"orderDetail",params:{id:e.preview_order_id}},target:"_blank"}},[t._v("#"+t._s(e.preview_order_id))])],1),t._v(" "),a("td",[a("div",{staticClass:"rating-holder"},[null!=e.product_review_log?a("ratingStars",{attrs:{rating:e.product_review_log.prl_preview_rating}}):a("ratingStars",{attrs:{rating:e.preview_rating}})],1)]),t._v(" "),a("td",[null!=e.product_review_log?a("span",[t._v(t._s(e.product_review_log.prl_preview_title))]):a("span",[t._v(t._s(e.preview_title))])]),t._v(" "),a("td",[null!=e.product_review_log?a("span",[t._v(t._s(t._f("formatDate")(e.product_review_log.prl_preview_created_at)))]):a("span",[t._v(t._s(t._f("formatDate")(e.preview_created_at)))])]),t._v(" "),a("td",[null!=e.preview_approved_at?a("span",[t._v(t._s(t._f("formatDate")(e.preview_approved_at)))]):t._e()]),t._v(" "),a("td",[a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"switch switch--sm",attrs:{title:1==e.preview_publish?t.$t("TTL_UNPUBLISH"):t.$t("TTL_PUBLISH")}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.preview_publish,expression:"record.preview_publish"}],attrs:{type:"checkbox",name:"preview_publish",disabled:!t.$canWrite("PRODUCT_REVIEWS")},domProps:{checked:Array.isArray(e.preview_publish)?t._i(e.preview_publish,null)>-1:e.preview_publish},on:{change:[function(a){var s=e.preview_publish,r=a.target,i=!!r.checked;if(Array.isArray(s)){var n=t._i(s,null);r.checked?n<0&&t.$set(e,"preview_publish",s.concat([null])):n>-1&&t.$set(e,"preview_publish",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(e,"preview_publish",i)},function(a){return t.onSwitchStatus(a,e.preview_id)}]}}),t._v(" "),a("span")])]),t._v(" "),null!=e.product_review_log?a("td",[1==e.product_review_log.prl_preview_status?a("span",{staticClass:"badge badge--warning badge--inline"},[t._v(t._s(t.$t("LBL_REVIEW_PENDING")))]):t._e()]):a("td",[1==e.preview_status?a("span",{staticClass:"badge badge--warning badge--inline"},[t._v(t._s(t.$t("LBL_REVIEW_PENDING")))]):t._e(),t._v(" "),2==e.preview_status?a("span",{staticClass:"badge badge--success badge--inline"},[t._v(t._s(t.$t("LBL_REVIEW_APPROVED")))]):t._e(),t._v(" "),3==e.preview_status?a("span",{staticClass:"badge badge--danger badge--inline"},[t._v(t._s(t.$t("LBL_REVIEW_REJECTED")))]):t._e()]),t._v(" "),a("td",[a("div",{staticClass:"actions"},[a("div",{staticClass:"btn btn-light btn-sm btn-icon"},[a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"rate-item",attrs:{"data-count":e.helped_count,title:t.$t("LBL_REVIEW_USERS_LIKE")}},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#thumb-up"}})]),t._v("\n                                "+t._s(e.helped_count)+"\n                              ")]),t._v(" "),a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"rate-item",attrs:{"data-count":e.nothelped_count,title:t.$t("LBL_REVIEW_USERS_DISLIKE")}},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#thumb-down"}})]),t._v("\n                                "+t._s(e.nothelped_count)+"\n                              ")])]),t._v(" "),a("router-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",attrs:{to:{name:"productReviewsDetail",params:{id:e.preview_id}},title:t.$t("LNK_VIEW_REVIEW")}},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#view"}})])]),t._v(" "),2==e.preview_status?a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",attrs:{title:t.$t("LNK_REVIEW_PREVIEW"),target:"_blank",href:t.baseUrl+"/product/"+e.preview_prod_id+"?review="+e.preview_id+"#reviews"}},[a("svg",[a("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#links"}})])]):t._e()],1)])])})),0)])])])]),t._v(" "),t.loading?a("loader"):t._e(),t._v(" "),t.records.length>0?a("div",{staticClass:"portlet__foot"},[a("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e()],1)])])])])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])},function(){var t=this._self._c;return t("span",[t("i",{staticClass:"fas fa-times"})])}],!1,null,"561dca33",null);a.default=i.exports},"2X9u":function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,"\n.form-control[readonly][data-v-561dca33] {\n  background-color: #f9f9fc;\n}\n",""])},R3Qm:function(t,a,e){"use strict";(function(t){a.a={data:function(){return{baseUrl:baseUrl,activeThemeUrl:activeThemeUrl,records:[],pagination:[],searchData:{},search:"",productName:"",noOfReviews:"",rating:"",ratingPercent:"",loading:!1,pageLoaded:0,showEmpty:1,currentSort:"",sortingType:""}},watch:{$route:"refreshedSearchData"},methods:{refreshedSearchData:function(){this.$route.query.s&&(this.search=this.$route.query.s),this.pageRecords(1,!0)},pageRecords:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=e,Object.assign(this.searchData,{search:this.search});var s=this.$serializeData(this.searchData);s.append("sorting-by",this.currentSort),s.append("sorting-type",this.sortingType),void 0!==this.pagination.per_page&&s.append("per_page",this.pagination.per_page);var r=0;void 0!==this.$route.params.id&&""!=this.$route.params.id&&(r=this.$route.params.id),this.$http.post(adminBaseUrl+"/product-reviews/list/"+r+"?page="+t,s).then((function(t){a.records=t.data.data.reviews.data,a.pagination=t.data.data.reviews,a.productName=void 0!==t.data.data.product?t.data.data.product.prod_name:"",a.showEmpty=t.data.data.showEmpty,a.noOfReviews=t.data.data.summary.noOfReviews,a.rating=Math.round(t.data.data.summary.rating),a.ratingPercent=t.data.data.summary.ratingPercent,a.loading=!1,a.pageLoaded=1}))},sortBy:function(t){""==this.sortingType||"asc"==this.sortingType||this.currentSort!=t?this.sortingType="desc":this.sortingType="asc",this.currentSort=t,this.pageRecords(this.pagination.current_page)},searchRecords:function(){this.pageRecords(this.pagination.current_page)},onSwitchStatus:function(a,e){var s=this.$serializeData({status:a.target.checked});this.$http.post(adminBaseUrl+"/product-reviews/status/"+e,s).then((function(a){0!=a.data.status?t.success(a.data.message,"",t.options):t.error(a.data.message,"",t.options)}))},currentPage:function(t){this.pageRecords(t)}},mounted:function(){this.search="",this.refreshedSearchData()}}}).call(this,e("hUol"))},"gnz+":function(t,a,e){var s=e("2X9u");"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(s,r);s.locals&&(t.exports=s.locals)},hliY:function(t,a,e){"use strict";e("gnz+")}}]);