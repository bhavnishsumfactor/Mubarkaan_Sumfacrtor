(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{D1Ol:function(t,e,a){"use strict";a.r(e);var s=a("fCxI").a,i=a("KHd+"),r=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"subheader",attrs:{id:"subheader"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"subheader__main"},[e("h3",{staticClass:"subheader__title"},[t._v(t._s(t.$t("LBL_RETURN_CANCELLATION_REASONS")))])]),t._v(" "),e("div",{staticClass:"subheader__toolbar"},[e("a",{staticClass:"btn btn-white",class:[t.$canWrite("RETURN_AND_CANCELLATION")?"":"disabledbutton"],attrs:{href:"javascript:void(0);"},on:{click:t.openAddPage}},[e("i",{staticClass:"fas fa-plus"}),t._v(t._s(t.$t("BTN_ADD"))+"\n                ")])])])]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{class:[1==t.showEmpty&&""==t.reason_type?"col-md-12":"col-md-7"]},[e("div",{staticClass:"portlet portlet--height-fluid"},[0==t.showEmpty||""!=t.reason_type?e("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"input-group input-icon input-icon--left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("PLH_SEARCH"),id:"generalSearch",readonly:0==t.records.length&&""===t.search&&""==t.reason_type,maxlength:t.maxCharacterLimit},domProps:{value:t.search},on:{keyup:t.searchRecords,input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"true"}},[t._v("\n                                                "+t._s(t._f("camelCase")(t.reason_type_label))+"\n                                            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"x-placement":"top-start"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;",disabled:0==t.records.length&&""==t.reason_type},on:{click:function(e){return t.selectType("All","show-all")}}},[t._v(t._s(t.$t("LBL_ALL")))]),t._v(" "),t._l(t.types,(function(a,s){return e("a",{key:s,staticClass:"dropdown-item",attrs:{href:"javascript:;",disabled:0==t.records.length&&""==t.reason_type},on:{click:function(e){return t.selectType(a,s)}}},[t._v(t._s(t.$t("LBL_"+a.toUpperCase())))])}))],2)])])])])])]):t._e(),t._v(" "),e("hr",{staticClass:"m-0"}),t._v(" "),0==t.showEmpty&&1==t.pageLoaded||""!=t.reason_type?e("div",{staticClass:"portlet__body portlet__body--fit"},[e("div",{staticClass:"section mb-0"},[e("div",{staticClass:"section__content"},[e("table",{staticClass:"table table-data table-justified"},[e("thead",[e("tr",[e("th",[t._v(t._s("#"))]),t._v(" "),e("th",[t._v(t._s(t.$t("LBL_REASON_TITLE")))]),t._v(" "),e("th",[t._v(t._s(t.$t("LBL_REASON_TYPE")))]),t._v(" "),e("th",[t._v(t._s(t.$t("LBL_PUBLISH")))]),t._v(" "),e("th")])]),t._v(" "),0!=t.loading||0!=t.records.length||""==t.search&&""==t.reason_type||1!=t.pageLoaded?e("tbody",t._l(t.records,(function(a,s){return e("tr",{key:a.reason_id,attrs:{"data-id":a.reason_id}},[e("td",{attrs:{scope:"row"}},[t._v(t._s(t.pagination.from+s))]),t._v(" "),e("td",{attrs:{width:"55%"}},[t.$canWrite("RETURN_AND_CANCELLATION")?e("div",[t._v(t._s(a.reason_title))]):e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return e.preventDefault(),t.editRecord(a)}}},[t._v(t._s(a.reason_title))])]),t._v(" "),e("td",[t._v(t._s(a.reason_type_label))]),t._v(" "),e("td",[e("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"switch switch--sm",attrs:{title:1==a.reason_publish?t.$t("TTL_UNPUBLISH"):t.$t("TTL_PUBLISH")}},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.reason_publish,expression:"record.reason_publish"}],class:[t.$canWrite("RETURN_AND_CANCELLATION")?"":"disabledbutton"],attrs:{type:"checkbox",name:"reason_publish"},domProps:{checked:Array.isArray(a.reason_publish)?t._i(a.reason_publish,null)>-1:a.reason_publish},on:{change:[function(e){var s=a.reason_publish,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n=t._i(s,null);i.checked?n<0&&t.$set(a,"reason_publish",s.concat([null])):n>-1&&t.$set(a,"reason_publish",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(a,"reason_publish",r)},function(e){return t.onSwitchStatus(e,a.reason_id)}]}}),t._v(" "),e("span")])]),t._v(" "),e("td",{attrs:{width:"15%"}},[e("div",{staticClass:"actions"},[e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("RETURN_AND_CANCELLATION")?"":"disabledbutton"],attrs:{href:"javascript:;",title:t.$t("TTL_EDIT")},on:{click:function(e){return t.editRecord(a)}}},[e("svg",[e("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#edit-icon"}})])]),t._v(" "),e("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[t.$canWrite("RETURN_AND_CANCELLATION")?"":"disabledbutton"],attrs:{href:"javascript:;",title:t.$t("TTL_DELETE")},on:{"!click":function(e){return t.confirmDelete(e,a.reason_id)}}},[e("svg",[e("use",{attrs:{"xlink:href":t.baseUrl+"/admin/images/retina/sprite.svg#delete-icon"}})])])])])])})),0):e("tbody",[e("tr",[e("td",{attrs:{colspan:"5"}},[e("noRecordsFound")],1)])])])])])]):t._e(),t._v(" "),1==t.showEmpty&&1==t.pageLoaded&&""==t.reason_type&&""==t.search?e("div",{staticClass:"portlet__body"},[e("div",{staticClass:"get-started"},[e("div",{staticClass:"get-started-arrow d-flex justify-content-end mb-5"},[e("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-arrow-head.svg"}})]),t._v(" "),e("div",{staticClass:"no-content d-flex text-center flex-column mb-7"},[e("p",[t._v(t._s(t.$t("LBL_CLICK_THE"))+" "),e("a",{staticClass:"btn btn-brand btn-small",attrs:{href:"javascript:;"},on:{click:t.openAddPage}},[e("i",{staticClass:"fas fa-plus"}),t._v(" "+t._s(t.$t("BTN_ADD"))+" ")]),t._v(" "+t._s(t.$t("LBL_BUTTON_TO_CREATE_REASONS")))])]),t._v(" "),e("div",{staticClass:"get-started-media"},[e("img",{attrs:{src:t.baseUrl+"/admin/images/get-started-graphic/get-started-faq.svg"}})])])]):t._e(),t._v(" "),t.loading?e("loader"):t._e(),t._v(" "),t.records.length>0?e("div",{staticClass:"portlet__foot"},[e("pagination",{attrs:{pagination:t.pagination},on:{currentPage:t.currentPage}})],1):t._e()],1)]),t._v(" "),0==t.showEmpty||""!=t.reason_type?e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"portlet portlet--height-fluid"},[e("div",{staticClass:"portlet__head"},[e("div",{staticClass:"portlet__head-label"},["editform"==t.selectedPage?e("h3",{staticClass:"portlet__head-title"},[t._v("\n                                "+t._s(t.$canWrite("RETURN_AND_CANCELLATION")?t.$t("LBL_EDITING")+" -":"")+"\n                                "),e("span",{staticClass:"editing-txt"},[t._v(t._s(t.editText))])]):t._e(),t._v(" "),"addform"==t.selectedPage?e("h3",{staticClass:"portlet__head-title"},[t._v(t._s(t.$t("LBL_NEW_REASON_SETUP")))]):t._e()])]),t._v(" "),t.selectedPage?e("div",{staticClass:"portlet__body",class:[t.$canWrite("RETURN_AND_CANCELLATION")?"":"disabledbutton"]},[""!=t.adminsData.reason_id?e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.reason_id,expression:"adminsData.reason_id"}],attrs:{type:"hidden",name:"id"},domProps:{value:t.adminsData.reason_id},on:{input:function(e){e.target.composing||t.$set(t.adminsData,"reason_id",e.target.value)}}}):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-md-6 col-form-label"},[t._v(t._s(t.$t("LBL_REASON_TYPE")))]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"radio-inline"},t._l(t.types,(function(a,s){return e("label",{key:s,staticClass:"radio"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.reason_type,expression:"adminsData.reason_type"}],attrs:{type:"radio",name:"reason_type"},domProps:{value:s,checked:t._q(t.adminsData.reason_type,s)},on:{change:function(e){return t.$set(t.adminsData,"reason_type",s)}}}),t._v(t._s(t.$t("LBL_"+a.toUpperCase()))+"\n                                                "),e("span")])})),0)])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("label",[t._v(t._s(t.$t("LBL_REASON_TITLE"))+" "),e("span",{staticClass:"required"},[t._v("*")])]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.adminsData.reason_title,expression:"adminsData.reason_title"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:"reason_title","data-vv-as":t.$t("LBL_REASON_TITLE"),"data-vv-validate-on":"none"},domProps:{value:t.adminsData.reason_title},on:{input:function(e){e.target.composing||t.$set(t.adminsData,"reason_title",e.target.value)}}}),t._v(" "),t.errors.first("reason_title")?e("span",{staticClass:"error text-danger"},[t._v(t._s(t.errors.first("reason_title")))]):t._e()])])])]):t._e(),t._v(" "),""==t.selectedPage?e("div",{staticClass:"portlet__body"},[e("div",{staticClass:"no-data-found"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:this.$noDataImage(),alt:""}})]),t._v(" "),e("div",{staticClass:"data"},[e("p",[t._v(" "+t._s(t.$t("LBL_USE_ICONS_FOR_ADVANCED_ACTIONS")))])])])]):t._e(),t._v(" "),""!=t.selectedPage?e("div",{staticClass:"portlet__foot"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"},on:{click:function(e){return t.cancel()}}},[t._v(" "+t._s(t.$t("BTN_DISCARD"))+" ")])]),t._v(" "),e("div",{staticClass:"col-auto"},["addform"==t.selectedPage?e("button",{staticClass:"btn btn-brand gb-btn gb-btn-primary",class:1==t.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!t.isComplete||1==t.clicked||!t.$canWrite("RETURN_AND_CANCELLATION")},on:{click:function(e){return t.validateRecord()}}},[t._v(t._s(t.$t("BTN_REASON_CREATE")))]):t._e(),t._v(" "),"editform"==t.selectedPage?e("button",{staticClass:"btn btn-brand gb-btn gb-btn-primary",class:1==t.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:!t.isComplete||1==t.clicked||!t.$canWrite("RETURN_AND_CANCELLATION")},on:{click:function(e){return t.validateRecord()}}},[t._v(t._s(t.$t("BTN_REASON_UPDATE")))]):t._e()])])]):t._e()])]):t._e(),t._v(" "),e("DeleteModel",{attrs:{deletePopText:t.$t("LBL_REASON_DELETE_TEXT"),recordId:t.recordId},on:{deleted:function(e){return t.deleteRecord(t.recordId)}}})],1)])])}),[function(){var t=this._self._c;return t("span",{staticClass:"input-icon__icon input-icon__icon--left"},[t("span",[t("i",{staticClass:"la la-search"})])])}],!1,null,null,null);e.default=r.exports},fCxI:function(t,e,a){"use strict";(function(t){var a={reason_id:"",reason_type:1,reason_type_label:"",reason_title:"",reason_publish:""},s={search:""};e.a={data:function(){return{records:[],baseUrl:baseUrl,pagination:[],clicked:0,loading:!1,adminsData:a,searchData:s,search:"",selectedPage:"",recordId:"",editText:"",maxCharacterLimit:"30",types:[],reason_type:"show-all",reason_type_label:"All",pageLoaded:0,showEmpty:1}},computed:{isComplete:function(){return this.adminsData.reason_title}},methods:{selectType:function(t,e){this.reason_type_label=t,this.reason_type=e,this.pageRecords(1),this.cancel(),this.emptyFormValues()},emptyFormValues:function(){this.adminsData={reason_id:"",reason_type:1,reason_type_label:"",reason_title:"",reason_publish:""},this.errors.clear()},pageRecords:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=a,void 0!==this.pagination.per_page&&Object.assign(this.searchData,{per_page:this.pagination.per_page}),Object.assign(this.searchData,{search:this.search});var s=this.$serializeData(this.searchData);s.append("reason_type","show-all"!=this.reason_type?this.reason_type:""),this.$http.post(adminBaseUrl+"/reasons/list?page="+t,s).then((function(t){e.records=t.data.data.reasons.data,e.pagination=t.data.data.reasons,e.types=t.data.data.types,e.loading=!1,e.showEmpty=t.data.data.showEmpty,e.pageLoaded=1}))},searchRecords:function(){this.pageRecords(this.pagination.current_page)},currentPage:function(t){this.pageRecords(t)},clearSearch:function(){this.searchData={search:""},this.pageRecords(this.pagination.current_page)},validateRecord:function(){var t=this;this.$validator.validateAll().then((function(e){if(e){var a=t.adminsData;t.clicked=1,""!=a.reason_id?t.updateRecord(a.reason_id,a):t.saveRecord(a)}else t.clicked=0}))},saveRecord:function(e){var a=this,s=this.$serializeData(e);this.$http.post(adminBaseUrl+"/reasons",s).then((function(e){0!=e.data.status?(t.success(e.data.message,"",t.options),a.pageRecords(a.pagination.current_page),a.selectedPage="",a.emptyFormValues(),a.clicked=0):t.error(e.data.message,"",t.options)}),(function(t){a.clicked=0,a.validateErrors(t)}))},editRecord:function(t){this.adminsData=t,this.selectedPage="editform",this.editText=t.reason_title},updateRecord:function(e,a){var s=this,i=this.$serializeData({reason_type:a.reason_type,reason_title:a.reason_title});i.append("_method","put"),this.$http.post(adminBaseUrl+"/reasons/"+e,i).then((function(e){0!=e.data.status?(t.success(e.data.message,"",t.options),s.emptyFormValues(),s.pageRecords(s.pagination.current_page),s.selectedPage="",s.clicked=0):t.error(e.data.message,"",t.options)}),(function(t){s.clicked=0,s.validateErrors(t)}))},openAddPage:function(){this.emptyFormValues(),this.selectedPage="addform",""!=this.search&&(this.search="",this.pageRecords()),this.showEmpty=0},cancel:function(){this.selectedPage=!1,0==this.records.length&&(this.showEmpty=1)},validateErrors:function(t){var e=this,a=t.data;Object.keys(a.errors).forEach((function(t){e.errors.add({field:t,msg:a.errors[t][0]})}))},onSwitchStatus:function(e,a){var s=this.$serializeData({status:e.target.checked});this.$http.post(adminBaseUrl+"/reasons/status/"+a,s).then((function(e){0!=e.data.status?t.success(e.data.message,"",t.options):t.error(e.data.message,"",t.options)}))},confirmDelete:function(t,e){t.stopPropagation(),this.recordId=e,this.$bvModal.show("deleteModel")},deleteRecord:function(e){var a=this;this.$http.delete(adminBaseUrl+"/reasons/"+e).then((function(e){0!=e.data.status?(t.success(e.data.message,"",t.options),a.pageRecords(a.pagination.current_page),a.$bvModal.hide("deleteModel"),a.selectedPage=""):t.error(e.data.message,"",t.options)}))}},mounted:function(){this.pageRecords(1,!0)}}}).call(this,a("hUol"))}}]);