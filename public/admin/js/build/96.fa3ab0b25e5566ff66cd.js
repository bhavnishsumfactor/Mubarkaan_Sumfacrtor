(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{Fd1w:function(a,t,s){"use strict";(function(a,s){var i={key:""},r={key:""};t.a={data:function(){return{baseUrl:baseUrl,records:[],pages:[],pagination:[],clicked:0,loading:!1,adminsData:i,searchData:r,search:"",selectedPage:"",maxCharacterLimit:"30",default_lang_code:"",default_lang_name:"",selected_page:"",dropzoneOptions:{url:baseUrl+"/dropzone",thumbnailWidth:150,maxFilesize:2,addRemoveLinks:!0,maxFiles:1}}},watch:{$route:"refreshedData"},methods:{refreshedData:function(){this.selected_page="",this.pageRecords(1)},exportLanguage:function(){window.open(adminBaseUrl+"/languages/export")},importLanguage:function(t){var i=this;a(".custom-file-btn").addClass("spinner spinner--sm spinner--right spinner--light");var r=t.target.files||e.dataTransfer.files;if(1==r.length){var n=new FormData;n.append("file",r[0]),this.$http.post(adminBaseUrl+"/languages/import",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){i.$refs.languageInputFile.value="",0!=t.data.status?(s.success(t.data.message,"",s.options),a(".custom-file-btn").removeClass("spinner spinner--sm spinner--right spinner--light")):s.error(t.data.message,"",s.options)}),(function(t){i.$refs.languageInputFile.value="",a(".custom-file-btn").removeClass("spinner spinner--sm spinner--right spinner--light"),Array.isArray(t.data.errors.file)?s.error(t.data.errors.file[0],"",s.options):s.error(t.data.message,"",s.options)}))}else this.$refs.languageInputFile.value="",a(".custom-file-btn").removeClass("spinner spinner--sm spinner--right spinner--light"),this.errors.add({field:"file",msg:this.$t("LBL_PLEASE_UPLOAD_FILE_FIRST")})},selectPage:function(a){this.selected_page=a,this.pageRecords(1),this.cancel(),this.emptyFormValues()},emptyFormValues:function(){this.adminsData={key:""},this.errors.clear()},pageRecords:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading=s,void 0!==this.pagination.per_page&&Object.assign(this.searchData,{per_page:this.pagination.per_page}),Object.assign(this.searchData,{search:this.search});var i=this.$serializeData(this.searchData);""!=this.selected_page&&i.append("filter",this.selected_page),i.append("type",this.$route.params.type),this.$http.post(adminBaseUrl+"/languageslabels/list?page="+t,i).then((function(t){e.records=t.data.data.data.data,e.records=a.map(e.records,(function(a,t){return[a]})),e.pagination=t.data.data.data,e.default_lang_code=t.data.data.default_lang_code,e.default_lang_name=t.data.data.default_lang_name,e.pages=t.data.data.pages,e.selected_page=t.data.data.selected_page,e.loading=!1}))},searchRecords:function(){this.pageRecords(this.pagination.current_page)},currentPage:function(a){this.pageRecords(a)},clearSearch:function(){this.searchData={label_title:""},this.pageRecords(this.pagination.current_page)},validateRecord:function(){var a=this;this.$validator.validateAll().then((function(t){t?(a.clicked=1,a.updateRecord(a.adminsData)):a.clicked=0}))},editRecord:function(a){var t=this;this.adminsData=a,this.selectedPage="editform";var e=this.$serializeData({key:a.key});this.$http.post(adminBaseUrl+"/languageslabels/get",e).then((function(a){t.adminsData=a.data.data}))},updateRecord:function(a){var t=this;a.lang=JSON.stringify(a.lang);var e=this.$serializeData(a);this.$http.post(adminBaseUrl+"/languageslabels/save",e).then((function(a){0!=a.data.status?(s.success(a.data.message,"",s.options),t.emptyFormValues(),t.pageRecords(t.pagination.current_page),t.selectedPage="",t.clicked=0):s.error(a.data.message,"",s.options)}),(function(a){t.clicked=0,t.validateErrors(a)}))},cancel:function(){this.selectedPage=!1},validateErrors:function(a){var t=this,e=a.data;Object.keys(e.errors).forEach((function(a){t.errors.add({field:a,msg:e.errors[a][0]})}))}},mounted:function(){this.pageRecords(1,!0)}}}).call(this,s("EVdn"),s("hUol"))},JqUw:function(a,t,e){"use strict";e.r(t);var s=e("Fd1w").a,i=e("KHd+"),r=Object(i.a)(s,(function(){var a=this,t=a._self._c;return t("div",[t("div",{staticClass:"subheader",attrs:{id:"subheader"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"subheader__main"},[t("h3",{staticClass:"subheader__title"},[a._v(a._s(a.$t("LBL_LANGUAGE_LABELS")))]),a._v(" "),t("div",{staticClass:"subheader__breadcrumbs"},[t("router-link",{staticClass:"subheader__breadcrumbs-home",attrs:{to:{name:"dashboard"}}},[t("i",{staticClass:"flaticon2-shelter"})]),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-link"},[a._v(a._s(a.$t("LBL_CMS")))]),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-link"},[a._v(a._s(a.$t("LBL_LANGUAGE_LABELS")))]),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-separator"}),a._v(" "),t("span",{staticClass:"subheader__breadcrumbs-link"},[a._v(a._s("admin"==a.$route.params.type?a.$t("LNK_ADMIN"):a.$t("LNK_FRONTEND")))])],1)]),a._v(" "),t("div",{staticClass:"subheader__toolbar"},[t("div",{staticClass:"subheader__wrapper"},[t("a",{staticClass:"btn btn-subheader",class:[a.$canWrite("LANGUAGE_LABELS")?"":"disabledbutton no-drop"],attrs:{href:"javascript:void(0);"},on:{click:a.exportLanguage}},[t("i",{staticClass:"fas fa-cloud-download-alt"}),a._v(a._s(a.$t("BTN_EXPORT")))]),a._v(" "),t("a",{staticClass:"btn btn-white subheader__btn-options custom-file-btn",class:[a.$canWrite("LANGUAGE_LABELS")?"":"disabledbutton no-drop"],attrs:{href:"javascript:void(0);"}},[t("i",{staticClass:"fas fa-cloud-upload-alt"}),a._v(" "),t("input",{ref:"languageInputFile",attrs:{type:"file",name:"languageUpload"},on:{change:a.importLanguage}}),a._v(" "+a._s(a.$t("BTN_IMPORT"))+"\n                    ")])])])])]),a._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"portlet portlet--height-fluid"},[t("div",{staticClass:"portlet__body pb-0 bg-gray flex-grow-0"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"form-group"},[t("div",{staticClass:"input-group input-icon input-icon--left"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:a.$t("PLH_SEARCH"),id:"generalSearch",maxlength:a.maxCharacterLimit},domProps:{value:a.search},on:{keyup:a.searchRecords,input:function(t){t.target.composing||(a.search=t.target.value)}}}),a._v(" "),a._m(0),a._v(" "),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"true"}},[a._v("\n                                                "+a._s(a._f("camelCase")(a.selected_page))+"\n                                            ")]),a._v(" "),t("div",{staticClass:"dropdown-menu",attrs:{"x-placement":"top-start"}},[t("perfect-scrollbar",{staticStyle:{"max-height":"300px"}},a._l(a.pages,(function(e){return t("a",{key:e,staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(t){return a.selectPage(e)}}},[a._v(a._s(e))])})),0)],1)])])])])])]),a._v(" "),t("hr",{staticClass:"m-0"}),a._v(" "),a.records.length>0?t("div",{staticClass:"portlet__body portlet__body--fit"},[t("div",{staticClass:"section mb-0"},[t("div",{staticClass:"section__content scroll-x"},[t("table",{staticClass:"table table-data table-justified"},[t("thead",[t("tr",[t("th",[a._v(a._s("#"))]),a._v(" "),t("th",[a._v(a._s(a.$t("LBL_LANGUAGE_LABEL_IDENTIFIER")))]),a._v(" "),t("th",[a._v(a._s(a.$t(this.default_lang_name)))]),a._v(" "),t("th",[a._v(a._s(a.$t("LBL_PAGES")))]),a._v(" "),t("th")])]),a._v(" "),t("tbody",a._l(a.records,(function(e,s){return t("tr",{key:s},[t("td",{attrs:{width:"5%",scope:"row"}},[a._v(a._s(a.pagination.from+s))]),a._v(" "),t("td",{attrs:{width:"20%"}},[a.$canWrite("LANGUAGE_LABELS")?t("div",[a._v(a._s(e.key))]):t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return t.preventDefault(),a.editRecord(e)}}},[a._v(a._s(e.key))])]),a._v(" "),t("td",{attrs:{width:"25%"}},[a._v(a._s(e[a.default_lang_code]))]),a._v(" "),t("td",{attrs:{width:"45%"}},[t("div",{staticClass:"badge-group"},a._l(e.pages,(function(e,s){return t("span",{key:s,staticClass:"badge badge--brand badge--inline badge--pill"},[a._v(a._s(e))])})),0)]),a._v(" "),t("td",{attrs:{width:"5%"}},[t("div",{staticClass:"actions"},[t("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-light btn-sm btn-icon",class:[a.$canWrite("LANGUAGE_LABELS")?"":"disabled no-drop"],attrs:{href:"javascript:;",title:a.$t("TTL_EDIT")},on:{click:function(t){return a.editRecord(e)}}},[t("svg",[t("use",{attrs:{"xlink:href":a.baseUrl+"/admin/images/retina/sprite.svg#edit-icon"}})])])])])])})),0)])])])]):a._e(),a._v(" "),a.loading?t("loader"):a._e(),a._v(" "),0==a.loading&&0==a.records.length?t("noRecordsFound"):a._e(),a._v(" "),a.records.length>0?t("div",{staticClass:"portlet__foot"},[t("pagination",{attrs:{pagination:a.pagination},on:{currentPage:a.currentPage}})],1):a._e()],1)]),a._v(" "),t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"portlet portlet--height-fluid"},["editform"==a.selectedPage?t("div",{staticClass:"portlet__head"},[t("div",{staticClass:"portlet__head-label"},[t("h3",{staticClass:"portlet__head-title"},[a._v("\n                                "+a._s(a.$canWrite("LANGUAGE_LABELS")?a.$t("LBL_EDITING")+" -":"")+" "+a._s(a.adminsData.key))])])]):a._e(),a._v(" "),a.selectedPage?t("div",{staticClass:"portlet__body",class:[a.$canWrite("LANGUAGE_LABELS")?"":"disabled no-drop"]},[""!=a.adminsData.key?t("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.key,expression:"adminsData.key"}],attrs:{type:"hidden",name:"key"},domProps:{value:a.adminsData.key},on:{input:function(t){t.target.composing||a.$set(a.adminsData,"key",t.target.value)}}}):a._e(),a._v(" "),a._l(a.adminsData.lang,(function(e,s){return t("div",{key:s,staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("label",[a._v(a._s(a.$t(a.adminsData.lang[s].lang_name)))]),a._v(" "),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.adminsData.lang[s].value,expression:"adminsData.lang[index].value"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{type:"text",name:s,"data-vv-as":a.$t(e.lang_name),"data-vv-validate-on":"none"},domProps:{value:a.adminsData.lang[s].value},on:{input:function(t){t.target.composing||a.$set(a.adminsData.lang[s],"value",t.target.value)}}}),a._v(" "),a.errors.first(s)?t("span",{staticClass:"error text-danger"},[a._v(a._s(a.errors.first(s)))]):a._e()])])])}))],2):a._e(),a._v(" "),""==a.selectedPage?t("div",{staticClass:"portlet__body"},[t("div",{staticClass:"no-data-found"},[t("div",{staticClass:"img"},[t("img",{attrs:{src:this.$noDataImage(),alt:""}})]),a._v(" "),t("div",{staticClass:"data"},[t("p",[a._v(" "+a._s(a.$t("LBL_USE_ICONS_FOR_ADVANCED_ACTIONS")))])])])]):a._e(),a._v(" "),""!=a.selectedPage?t("div",{staticClass:"portlet__foot"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"reset"},on:{click:function(t){return a.cancel()}}},[a._v(a._s(a.$t("BTN_DISCARD"))+" ")])]),a._v(" "),t("div",{staticClass:"col-auto"},["editform"==a.selectedPage?t("button",{staticClass:"btn btn-brand gb-btn gb-btn-primary",class:1==a.clicked&&"gb-is-loading",attrs:{type:"submit",disabled:1==a.clicked||!a.$canWrite("LANGUAGE_LABELS")},on:{click:function(t){return a.validateRecord()}}},[a._v(a._s(a.$t("BTN_LANGUAGE_LABEL_UPDATE")))]):a._e()])])]):a._e()])])])])])}),[function(){var a=this._self._c;return a("span",{staticClass:"input-icon__icon input-icon__icon--left"},[a("span",[a("i",{staticClass:"la la-search"})])])}],!1,null,null,null);t.default=r.exports}}]);