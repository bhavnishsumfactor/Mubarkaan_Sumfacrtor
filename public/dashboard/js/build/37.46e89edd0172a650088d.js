(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{416:function(e,t,a){"use strict";a.r(t);var i=a(428).a,o=a(63),r=Object(o.a)(i,(function(){var e=this,t=e._self._c;return t("div",[t("b-modal",{ref:"foo",attrs:{id:e.modalElementId,centered:""},scopedSlots:e._u([{key:"modal-header",fn:function(){return[t("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e._v(e._s(e.cropperTitle))]),e._v(" "),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.$bvModal.hide(e.modalElementId)}}},[e._v("Ã—")])]},proxy:!0},{key:"modal-footer",fn:function(){return[t("div",{staticClass:"file-input overflow-hidden"},[t("label",{staticClass:"btn btn-outline-secondary",attrs:{"data-original-title":"Change avatar"},on:{click:function(t){return e.openCropper()}}},[e._v("\n          "+e._s(e.$t("BTN_UPLOAD_PICTURE"))+"\n          "),t("input",{ref:"fileInput",staticClass:"file-input-field cropper-upload-picture",attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.onSelectImage(t)}}})])]),e._v(" "),t("button",{staticClass:"btn btn-brand",attrs:{type:"button",id:"crop"},on:{click:function(t){return e.onCrop(t)}}},[e._v(e._s(e.$t("BTN_CROP_SAVE")))])]},proxy:!0}])},[e._v(" "),t("div",{attrs:{id:"cropper-body"}},[t("div",{staticClass:"image-wrapper"},[t("img",{attrs:{id:e.cropperImageElementId,src:e.imageSrc}})]),e._v(" "),t("canvas",{staticStyle:{display:"none"},attrs:{id:"preview"}})])]),e._v(" "),t("input",{class:"YK-tempUploadButton-"+e.originalImageElement,staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:function(t){return e.onSelectImage(t)}}}),e._v(" "),0!=e.icon?t("label",{staticClass:"avatar__upload yk-outerCropEdit",attrs:{"data-toggle":"tooltip",title:"","data-original-title":"Change avatar"},on:{click:function(t){return e.openCropper()}}},[t("i",{staticClass:"fa fa-pen"})]):e._e(),e._v(" "),e.deleteicon?t("label",{staticClass:"avatar__upload",on:{click:function(t){return e.deleteImage()}}},[t("i",{staticClass:"fas fa-2x fa-times",staticStyle:{"font-size":"1.2rem"}})]):e._e()],1)}),[],!1,null,null,null);t.default=r.exports},428:function(e,t,a){"use strict";(function(e){var i=a(445),o=a.n(i),r=(a(446),{coords:{x:0,y:0,width:0,height:0,rotate:0,scaleX:0,scaleY:0},imageSrc:baseUrl+"/no_image.jpg",cropperImage:"",actualImage:"",cropper:null}),n={aspectRatio:1.77777,crop:function(e){r.coords.x=e.detail.x,r.coords.y=e.detail.y,r.coords.width=e.detail.width,r.coords.height=e.detail.height,r.coords.rotate=e.detail.rotate,r.coords.scaleX=e.detail.scaleX,r.coords.scaleY=e.detail.scaleY}};t.a={props:["aspectRatio","deleteicon","icon","title","originalElementId","modalId","cropperImageId","originalImage","width","height"],data:function(){return r},computed:{cropperTitle:function(){return void 0===this.title?"Crop Tool":this.title},originalImageElement:function(){return void 0===this.originalElementId?"originalImage":this.originalElementId},modalElementId:function(){return void 0===this.modalId?"modal_6":this.modalId},cropperImageElementId:function(){return void 0===this.cropperImageId?"image":this.cropperImageId},originalImageUrl:function(){return void 0===this.cropperImageId?r.imageSrc:this.originalImage}},methods:{emitToParent:function(e){this.$emit("childToParent",this.cropperImage,r.actualImage),void 0!==r.actualImage&&""!=r.actualImage&&this.$emit("actualImageToParent",r.actualImage),setTimeout((function(){r.imageSrc=r.actualImage=""}),100)},deleteImage:function(){this.$emit("deleteImage")},openCropper:function(){var e=this,t=document.getElementById(e.originalImageElement);t.src!=window.location.href.replace(window.location.hash,"")&&(e.destroyCropper(),this.$bvModal.show(e.modalElementId)),setTimeout((function(){if(void 0!==e.aspectRatio&&""!=e.aspectRatio&&(n.aspectRatio=e.aspectRatio),t.src==window.location.href.replace(window.location.hash,""))document.querySelector(".YK-tempUploadButton-"+e.originalImageElement).value="",$(".YK-tempUploadButton-"+e.originalImageElement).trigger("click"),e.destroyCropper();else{var a=document.getElementById(e.cropperImageElementId);r.cropper=new o.a(a,n),r.imageSrc=t.src,r.cropper.replace(t.src)}}),20)},onSelectImage:function(t){if(0==t.target.files.length)return!1;var a=t.target.files[0];if(a.size>2097152)return e.error(this.$t("LBL_IMAGE_SIZE_VALIDATION")),this.$refs.fileInput.value=null,!1;var i=URL.createObjectURL(a);r.imageSrc=i,document.getElementById(this.originalImageElement).src=i,r.actualImage=a,this.openCropper()},onCrop:function(e){var t=this;r.cropper.getCroppedCanvas({width:this.width,height:this.height}).toBlob((function(e){r.cropperImage=e,t.emitToParent()}),"image/jpeg",1),this.$bvModal.hide(this.modalElementId),this.$refs.fileInput.value=null},aspectRatioSelected:function(){document.getElementById(this.cropperImageElementId).src=r.imageSrc;var e=document.getElementById(this.cropperImageElementId);n.aspectRatio=this.aspectRatio,r.cropper.destroy(),r.cropper=new o.a(e,n),r.cropper.replace(r.imageSrc)},destroyCropper:function(){void 0!==r.cropper&&null!=r.cropper&&r.cropper.destroy(),r.imageSrc=""}}}}).call(this,a(64))}}]);